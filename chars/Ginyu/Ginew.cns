;Ginew

[Data]
life = 1200
attack = 120          
defence = 110  
power = 2000       
fall.defence_up = 90
liedown.time = 60    
airjuggle = 15        
sparkno = 2        
guard.sparkno = 40  
KO.echo = 0           
volume = 150            
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 1           
yscale = 1            
ground.back = 15
ground.front = 15
air.back = 12         
air.front = 12      
z.width = 3
height = 60	      
attack.width = 4,4
attack.dist = 160   
proj.attack.dist = 90  
proj.doscale = 0     

[Velocity]
walk.fwd  = 2.3       
walk.back = -2.2     
run.fwd  = 6.6, 0
run.back = -4.5,-3.8  
jump.neu = 0,-8.1
jump.back = -2.55    
jump.fwd = 2.5        
runjump.back = -2.55,-10.1
runjump.fwd = 5,-10.1
;airjump.neu = 0,-8.1
;airjump.back = -2.55,-9.1
;airjump.fwd = 2.5,-8.1

[Movement]
airjump.num = 0
airjump.height = 35   
yaccel = 0.43
stand.friction = 0.85
crouch.friction = 0.82

;---------------------------------------------------------------------------
;AI (Inteligencia Artificial)
[State -2, AI (Int. Artificial)]
type = VarSet
trigger1 = command = "ai"
trigger2 = command = "ai1"
trigger3 = command = "ai2"
trigger4 = command = "ai3"
trigger5 = command = "ai4"
trigger6 = command = "ai5"
trigger7 = command = "ai6"
trigger8 = command = "ai7"
trigger9 = command = "ai8"
trigger10= command = "ai9"
trigger11= command = "ai10"
trigger12= command = "ai11"
trigger13= command = "ai12"
trigger14= command = "ai13"
trigger14= command = "ai14"
trigger14= command = "ai15"
trigger14= command = "ai16"
var(80) = 8

[State -3,Defesa]
type = ChangeState
triggerall = var(20)= 1
triggerall = statetype = S
triggerall = ctrl = 1
trigger1 = p2movetype = A
value = 130

[State -3,Defesa]
type = ChangeState
triggerall = var(20)= 1
triggerall = statetype = C
triggerall = ctrl = 1
trigger1 = p2movetype = A
value = 131

[State -3,Defesa]
type = ChangeState
triggerall = var(20)= 1
triggerall = statetype = A
triggerall = ctrl = 1
trigger1 = p2movetype = A
value = 132

;---------------------------------------------------------------------------
; Intro
[Statedef 190]
type = S
ctrl = 0
anim = 190
velset = 0,0,0

[State 200, 1]
type = PlaySnd
trigger1 = Time = 2
value = 2, 1

[State 190, 3]
type = changeanim
trigger1 = time = 350
value = 191
ctrl = 0

[State 190, PlaySnd]
type = PlaySnd
trigger1 =  time = 350
value = 2,7
volume = 0

[State 190, 3]
type = changeanim
trigger1 = time = 500
value = 192
ctrl = 0

[State 190, Brillito]
type = Explod
trigger1 = time = 750
anim = 7005
ID = 7005
pos = 0, -10
sprpriority = 1
ownpal = 1
scale = 0.5,0.5
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 3]
type = changestate
trigger1 = time = 900
value = 0
ctrl = 0
;---------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181
;---------------------------------------------------------------------------
; Win pose 1
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2,4
volume = 0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State 180, 1]
type = Changeanim
trigger1 = Time = 70
value = 181

[State 190, Brillito]
type = Explod
trigger1 = time = 100
anim = 7005
ID = 7005
pos = -3, -68
sprpriority = 1
ownpal = 1
scale = 0.5,0.5
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = 2,6
volume = 0


;---------------------------------------------------------------------------
; Taunt
[Statedef 185]
type = S
ctrl = 0
anim = 181
velset = 0,0
movetype = I
physics = S
sprpriority = 2
poweradd = 100

[State 185, 1]
type = CtrlSet
trigger1 = Time = 80
value = 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = 2,3
volume = 0

[State 190, Brillito]
type = Explod
trigger1 = time = 50
anim = 7005
ID = 7005
pos = -3, -68
sprpriority = 1
ownpal = 1
scale = 0.5,0.5
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = 2,6
volume = 0

[State 195, 2]
type = ChangeState
trigger1 = Time = 80
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Derrota por tiempo
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0,0

[State 170, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;------------------------------------------------------------------------
;========================================================================
; Walk
[Statedef 20]
type    = S
physics = S
sprpriority = 0

[State 100, 0]
type = PlaySnd
trigger1 =  Animelem = 3
value = 2,8

[State 20, 1]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 21, 2]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 20, 3]
type = ChangeAnim
triggerall = vel x > 0
trigger1 =  Time = 0
value = 20

[State 21, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 =  Time = 0
value = 21

[State 20, 4]
type = VarSet
trigger1 = Pos Y >= 0
var(3) = 0

;-----------------------------------------------------------
;===========================================================
;-----------------------------------------------------------
; Jump Start
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)


[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimTime = 0
value = S0,11
volume = 50

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; Jump Up
[Statedef 50]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))


[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

;---------------------------------------------------------------------------
; Jump Down (empty state for compatibility)
[Statedef 51]
type    = A
physics = A

[State 51, 1]
type = Null
trigger1 = 1

;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47

[State 100, 0]
type = PlaySnd
trigger1 = time = 0
value = 2,8

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 60
ID = 60
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 20
supermove
pausemove
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
;persistent =


[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;========================================================================
;------------------------------------------------------------------------
;Flying Start
[Statedef 1510]
type = A
movetype = A
physics = A
juggle  = 7
velset = 0, -6
ctrl = 0
anim = 1510

[State 1510, 1]
type = PlaySnd
trigger1 = Animelem = 1
value = 0, 9

[State 1510, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 1500
ctrl = 1

;========================================================================
;Flying
[Statedef 1500]
type = A
ctrl = 0
anim = 1500
velset = 0,0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 0
value = -2

[State 1500, parar1]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = var(2) = 0
trigger2 = Pos Y < -450
x = 0
y = 0

[State 1500, papar2]
type = ChangeAnim
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = Anim != 1500
value = 1500

[State 3001,Var(1)]
type = VarSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = Var(2) != 2
trigger2 = Var(2) = 2
trigger2 = Vel Y >= 0.3
v = 2
value = 1

[State 3001,Var(2)]
type = VarSet
trigger1 = Var(2) = 1
trigger1 = Vel Y <= -0.3
v = 2
value = 2

[State 1500,Up]
type = VelAdd
trigger1 = Var(2) = 1
y = -0.02

[State 1500,Down]
type = VelAdd
trigger1 = Var(2) = 2
y = 0.03

[State 1500,fuwaEnd]
type = VelSet
Triggerall = var(2) != 0
Trigger1 = command = "holdfwd"
Trigger2 = command = "holdback"
Trigger3 = command = "holdup"
Trigger4 = command = "holddown"
y = 0

[State 1500,fuwaEndVar]
type = VarSet
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
trigger3 = command = "holdup"
trigger4 = command = "holddown"
v = 2
value = 0

[State 1500, UpBorder1]
type = PosSet
trigger1 = Pos Y < -450
y = -450

[State 1500, UpBorder2a]
type = PosAdd
trigger1 = P2BodyDist Y > 450
trigger1 = Vel Y < 0
y = 50

[State 1500, UpBorder2b]
type = VelSet
trigger1 = P2BodyDist Y > 450
trigger1 = Vel Y < 0
y = 0

[State 1500, Runeffect]
type = AfterImage
trigger1 = Command = "FF"
trigger1 = Vel X < 8.6
trigger2 = Command = "BB"
trigger2 = Vel X > -7
trigger3 = Command = "DD"
trigger3 = Vel Y < 8.6
trigger4 = Command = "UU"
trigger4 = Vel Y > -7
time 		= 15
timegap		= 2
framegap 	= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, 0, .50
palcontrast 	= 100,50,150
trans 		= add


[State 1500, RunFwd]
type = VelSet
trigger1 = Command = "FF"
trigger1 = Vel X < 6.6
x = 6.6

[State 1500, RunBack]
type = VelSet
trigger1 = Command = "BB"
trigger1 = Vel X > -5.7
x = -5.7

[State 1500, RunDown]
type = VelSet
trigger1 = Command = "DD"
trigger1 = Vel Y < 6.6
y = 6.6

[State 1500, RunUp]
type = VelSet
trigger1 = Command = "UU"
trigger1 = Vel Y > -5.7
y = -5.7


[State 1500, GoDownAnim]
type = ChangeAnim
triggerall = Anim != 1503
trigger1 = command = "holddown"
value = 1503

[State 1500, GoDown1]
type = VelAdd
trigger1 = command = "holddown"
y = 0.3

[State 1500,GoDown2]
type = VelSet
trigger1 = command = "holddown"
trigger1 = Vel Y < 0
y = 0


[State 1500, GoUpAnim]
type = ChangeAnim
trigger1 = Anim != 1504
trigger1 = command = "holdup"
value = 1504

[State 1500, GoUp1]
type = VelAdd
trigger1 = command = "holdup"
y = -0.2

[State 1500,GoUp2]
type = VelSet
trigger1 = command = "holdup"
trigger1 = Vel Y > 0
y = 0


[State 1500, GoBackAnim]
type = ChangeAnim
triggerall = Anim != 1502
trigger1 = command = "holdback"
value = 1502

[State 1500, GoBack1]
type = VelAdd
trigger1 = command = "holdback"
x = -0.15

[State 1500,GoBack2]
type = VelSet
trigger1 = command = "holdback"
trigger1 = Vel X > 0
x = 0


[State 1500, GoFwdAnim]
type = ChangeAnim
trigger1 = Anim != 1501
trigger1 = command = "holdfwd"
value = 1501

[State 1500, GoFwd1]
type = VelAdd
trigger1 = command = "holdfwd"
x = 0.25

[State 1500,GoFwd2]
type = VelSet
trigger1 = command = "holdfwd"
trigger1 = Vel X < 0
x = 0



[State 1500, MakeDust1]
type = MakeDust
triggerall = Pos Y >= -80 && Pos Y <= -70
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
pos = -5, 75
spacing = 3

[State 1500, MakeDust2]
type = MakeDust
triggerall = Pos Y >= -70 && Pos Y <= -60
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
pos = -5, 60
spacing = 3

[State 1500, MakeDust3]
type = MakeDust
triggerall = Pos Y >= -60 && Pos Y <= -50
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
pos = -5, 50
spacing = 3

[State 1500, MakeDust4]
type = MakeDust
triggerall = Pos Y >= -50 && Pos Y <= -40
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
pos = -5, 40
spacing = 3

[State 1500, MakeDust5]
type = MakeDust
triggerall = Pos Y >= -40
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
pos = -5, 30
spacing = 3


[State 1500,Turn]
type = Turn
trigger1 = P2Dist X < 0

[State 1500,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 2000,End]
type = ChangeState
trigger1 = Time > 2
trigger1 = command = "fly"
value = 50
ctrl = 1

[State 2000,WinALose]
type = ChangeState
trigger1 = Win = 1
trigger2 = Lose = 1
value = 1202

;---------------------------------------------------------------------------
[Statedef 1202]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1202

[State 210, 3]
type = VelAdd
trigger1 = AnimElem = 1
trigger1 = AnimElem <= 2
x = -0.3

[State 210, 3]
type = VelSet
trigger1 = AnimElem = 3
x = 0

[State 3021, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 210, 3]
type = ChangeState
trigger1 = time = 60
value = 1203

;---------------------------------------------------------------------------
[Statedef 1203]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0

[State 1531, 5]
type = PlaySnd
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
persistent = 0
value = s2,8

[State 52, 3]
type = PosSet
trigger1 = Vel Y = 0
y = 0

[State 209, 1]
type = ChangeAnim
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 1203

[State 209, 1]
type = Velset
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
y = 0

[State 3021, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Charge
[Statedef 730]
type    = S
physics = S
ctrl = 0
velset = 0,0,0

[State 730, 2]
type = poweradd
trigger1 = Time >= 0
value = 3

[State 730, 0]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0
z = 0

[State 730, 3]
type = PlaySnd
trigger1 = Time = 0
value = 1, 10
channel = 5

[State 730, 3]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 2
volume = 20
channel = 1

[State 730, 3]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3, 2
volume = 20
channel = 2


[State 730, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 730

[State 730, Aura]
type = Explod
trigger1 = AnimElem = 2
anim = 731
ID = 731
pos = 0, 0
sprpriority = 1
removetime = -1
bindtime = -1
ownpal = 1
scale = 0.5,0.5
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 730, 0]
type = PalFX
trigger1 = AnimElem = 2
time = 3
add = 70,20,128

[State 730, 1]
type = PalFX
trigger1 = AnimElem = 3
time = 1
add = 30,0,64



[State 730, a]
type = StateTypeSet
trigger1 = Pos Y < 0
value = A

[State 730,fuwaVar(1)]
type = VarSet
triggerall = Pos Y < 0
trigger1 = Var(2) = 2
trigger1 = Vel Y >= 2.4
trigger2 = Time = 0
v = 2
value = 1

[State 730,fuwaVar(2)]
type = VarSet
trigger1 = Pos Y < 0
trigger1 = Var(2) = 1
trigger1 = Vel Y <= -2.4
v = 2
value = 2

[State 730,fuwaUp]
type = VelAdd
trigger1 = Pos Y < 0
trigger1 = Var(2) = 1
y = -0.3

[State 730,fuwaDown]
type = VelAdd
trigger1 = Pos Y < 0
trigger1 = Var(2) = 2
y = 0.3

[State 730,fuwaEndVar]
type = VarSet
triggerall = Pos Y < 0
trigger1 = command != "charge"
trigger2 = command != "charge 1"
v = 2
value = 0

[State 1500, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500


[State 730, RemoveExplod]
type = RemoveExplod
trigger1 = power >= 2000
trigger2 = command != "charge"
trigger3 = command != "charge 1"
id = 731

[State 0, StopSnd]
type = StopSnd
trigger1 = power >= 2000
trigger2 = command != "charge"
trigger3 = command != "charge 1"
channel = 5



[State 730, 5]
type = ChangeState
trigger1 = power >= 2000
trigger2 = command != "charge"
trigger3 = command != "charge 1"
value = 0
ctrl = 1

;-----------------------------------------------------------------------
;zanzouken
[statedef 10000]
type = S
movetype = I
physics = S
velset = 0,0
ctrl = 0
anim =10000
poweradd = -400

[State 10000:	Sound]
type = PlaySnd
trigger1 = (animelem = 2)
value = 0,10

[state 10000,3]
type = statetypeset
trigger1 = pos Y!= 0
statetype = A

[State 1080:	AssertSpecial]
type			= AssertSpecial
trigger1 		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
flag			= Invisible
flag2			= NoShadow

[State 1080: 	PlayerPush]
type 			= PlayerPush
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
value 		= 0

[State 1080: 	NotHitBy]
type 			= NotHitBy
trigger1 		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
value 		= SCA
time 			= 1

[State 1080:	MakeDust]
type			= MakeDust
trigger1 		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
pos 			= -5, 0
spacing 		= 4

[State 1080:	EnvColor]
type			= EnvColor
trigger1		= (AnimElem = 1, > 0) && (AnimElem = 1, < 10) && ((GameTime%2) = 0)
value			= 200,150,255
time			= 1


[state 10000,4]
type = posadd
triggerall = (time = 11)
triggerall = (anim = 10000)
trigger1 = command != "holdback" && command != "holdup" && command != "holddown"
;trigger3 = pos Y= 0 && command = "holddown" && command != "holdback"
x = 70

[State 1080: 	VelSet]
type 			= VelSet
triggerall              = (anim = 10000)
trigger1 		= (AnimElem = 3)
x 			= 10
y			= 0


[State 10000, 1]
type = ChangeAnim
trigger1 = time = 1 && command = "holdback"
value = 10001

[state 10000,4]
type = posadd
triggerall = (anim = 10001)
trigger1 = time = 10
x = -70

[State 1080: 	VelSet]
type 			= VelSet
triggerall              = (anim = 10001)
trigger1 		= (AnimElem = 3)
x 			= -10
y			= 0


[State 10000, 1]
type = ChangeAnim
trigger1 = time = 1 && command = "holdup"
value = 10002


[state 10000,4]
type = posadd
triggerall = (anim = 10002)
triggerall = pos y > -400
trigger1 = time = 10
y = -70


[state 10000]
type = posset
triggerall = (anim = 10003)
triggerall = pos y <= -400
trigger1 = time = 10
y = -400

[State 1080: 	VelSet]
type 			= VelSet
triggerall              = (anim = 10002)
trigger1 		= (AnimElem = 2)
x 			= 0
y			= -3

[State 10000, 1]
type = ChangeAnim
trigger1 = time = 1 && command = "holddown"
value = 10003

[state 10000,4]
type = posadd
triggerall = (anim = 10003)
triggerall = pos y < -70
trigger1 = time = 10
y = 70

[state 10000]
type = posset
triggerall = (anim = 10003)
triggerall = pos y >= -70
trigger1 = time = 10
y = 0

[State 1080: 	VelSet]
type 			= VelSet
triggerall              = (anim = 10003)
triggerall              = pos y < -10
trigger1 		= (AnimElem = 2)
x 			= 0
y			= 3



[state 10000]
type = posset
trigger1 = screenpos Y< 90
y = floor(pos Y)+floor(-screenpos Y+90)

;[state 10000,6]
;type = turn
;trigger1 = p2dist X< 0

[State 100: 	AfterImage]
type 		= AfterImage
trigger1 	= (Time = 3)
time 		= 15
timegap		= 2
framegap 	= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, 0, .50
palcontrast 	= 100,50,150
trans 		= add

[state 10000,7]
type = changestate
trigger1 = time > 30 && command = "holdup"
value = 1500
ctrl = 1

[state 10000]
type = changestate
trigger1 = time > 35 && command != "holdup"
value = ifelse(prevstateno = 40 || prevstateno = 707 || prevstateno = 50, 50, ifelse(pos Y!= 0, 1500, 0))
ctrl = 1
;---------------------------------------------------------------------------
;Run_Fwd
[Statedef 100]
type 			= S
movetype		= I
physics		= N
anim			= 100
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 100:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoWalk
flag2			= NoAutoTurn

[State 100:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoStandGuard
flag2			= NoCrouchGuard

[State 100:		ScreenBound]
type			= ScreenBound
trigger1		= (BackEdgeBodyDist <= -5)
value			= 0
movecamera		= 0,0

[State 100:		CtrlSet]
type			= CtrlSet
trigger1		= 1
value			= (IfElse(BackEdgeBodyDist > -5,1,0))

[State 100:		VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 0
y			= 0

[State 100: 	VelSet]
type 			= VelSet
trigger1 		= (Time > 6)
x 			= Const(Velocity.Run.Fwd.X)
y			= 0

[State 100:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2) && (BackEdgeBodyDist <= -1)
value			= S0,2

[State 100: 	MakeDust]
type 			= MakeDust
trigger1 		= 1
pos 			= -5, 0
spacing 		= 4

[State 100: 	AfterImage]
type 		= AfterImage
trigger1 	= (Time = 3)
time 		= 15
timegap		= 2
framegap 	= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, 0, .50
palcontrast 	= 100,50,150
trans 		= add

[State 100,Explod]
type = Explod
trigger1 = (!time)
ID = 101
anim = 101
pos = -30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
scale = 0.4,0.4
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1


[State 105:	Sound]
type = PlaySnd
trigger1 = (Time = 0)
value = 0,9

[State 100:		ChangeState]
type			= ChangeState
trigger1		= (Command != "holdfwd") ;&& (AnimElem = 2, > 5) && (BackEdgeBodyDist > -1)
value			= 101
;---------------------------------------------------------------------------
;Run_Fwd - Stop
[Statedef 101]
type 			= S
movetype		= I
physics		= N
anim			= 105
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 101:		ScreenBound]
type			= ScreenBound
trigger1		= (BackEdgeBodyDist <= -5)
value			= 0
movecamera		= 0,0

[State 101:		VelSet]
type			= VelSet
trigger1		= 1
x			= 0.7
y			= 0

[State 101: 	MakeDust]
type 			= MakeDust
trigger1 		= 1
pos 			= -5, 0
spacing 		= 4

[State 101: 	ChangeState]
type 	= ChangeState
trigger1 = (!AnimTime)
value = 0
ctrl = 1

;-----------------------------------------------------------------------
; RUN_BACK
[Statedef 105]
type    = A
physics = A
ctrl = 0
anim = 105

[State 100: 	AfterImage]
type 		= AfterImage
trigger1 	= (Time = 3)
time 		= 15
timegap		= 2
framegap 	= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, 0, .50
palcontrast 	= 100,50,150
trans 		= add

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 105, 2]
type = CtrlSet
trigger1 = Time = 2
value = 1

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106

;---------------------------------------------------------------------------
; RUN_BACK2 (land)
[Statedef 106]
type    = S
physics = S
ctrl = 0
anim = 42

[State 106, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 106, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 106, 3]
type = MakeDust
trigger1 = Time = 2
pos = -5,-2
spacing = 1

[State 106, 4]
type = ChangeState
trigger1 = Time = 7
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Stand Light Punch
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 200
poweradd = 60

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage    = 20
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10,12
numhits = 1
sparkno = S7006
sparkxy = -5,-68
hitsound = s0,6
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = -4
airguard.velocity = -1.9
air.velocity = -1.3,-3



[State 200, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------
;Stand Strong Punch
[Statedef 201]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 201
poweradd = 20

[State 201, 1]
type = PlaySnd
trigger1 = Time = 0
value = 1, 3

[State 201, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage    = 35
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15,18
numhits = 1
sparkno = S7000
sparkxy = -5,-75
guard.sparkno = S7004
hitsound = s0,7
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = -5,0
airguard.velocity = -1.9
air.velocity = -4,-3

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 3


[State 201, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------

;Stand light Kick
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0,0
anim = 210

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 20
guardflag = MA
pausetime = 10,12
sparkxy = -10,-70
sparkno = S7006
hitsound   = s0,6
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3
air.velocity = -3,-3.2

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 2

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------

;Stand Strong Kick
[Statedef 211]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 40
ctrl = 0
velset = 2
anim = 211

[State 211, 1]
type = velset
trigger1 = time >= 0
trigger1 = time <= 1;48
x = 4
y = 0

[State 211, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 5

[State 211, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Light
damage    = 55
guardflag = MA
pausetime = 15,18
sparkxy = -10,-70
sparkno = s7001
guard.sparkno = S7004
hitsound   = s0,8
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2

[State 211, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 1

[State 211, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------
;crouch light punch
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 15
ctrl = 0
anim = 400

[State 400, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 400, 2]
type = HitDef
trigger1 = animelem = 2
attr = C, NA
damage    = 23
animtype  = Light
getpower  = 10
givepower = 8
hitflag = MAFD
guardflag = L
pausetime = 10,12
sparkxy = -2,-50
sparkno = S7006
hitsound   = s0,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -4
air.velocity = -1.3,-3
down.velocity = -4,0
down.hittime = 20


[State 400, 4]
type = ChangeState
trigger1 = (!AnimTime)
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;crouch strong punch
[Statedef 401]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 401
Velset = 0,0,0

[State 401, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 5

[State 401, 2]
type = HitDef
trigger1 = Animelem = 3
attr = C, NA
damage    = 50
animtype  = high
getpower  = 10
givepower = 8
hitflag = MAFD
guardflag = L
pausetime = 15,18
sparkxy = -2,-70
sparkno = S7003
guard.sparkno = S7004
hitsound   = s0,8
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -5
air.velocity = -3,-5
down.velocity = -4,0
down.hittime = 20

[State 401, 1]
type = PlaySnd
trigger1 = Animelem = 3
value = 1, 3


[State 401, 4]
type = ChangeState
trigger1 = (!AnimTime)
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;crouch Light Kick
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 410

[State 410, 2] 
type = VelAdd
trigger1 = AnimElem = 2
y = 0
x = 3

[State 410, MakeDust]
type = MakeDust
trigger1 =  AnimElem = 2
pos = 0,0
spacing = 1

[State 410, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 2


[State 410, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 25
animtype  = Light
getpower  = 40
givepower = 40
hitflag = MAFD
guardflag = L
pausetime = 10,12
sparkxy = -5,-15
sparkno = S7006
hitsound   = s0,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -3, 0
air.velocity = -3,-2
guard.velocity = -3

[State 410, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 2

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;-------------------------------------------------
;crouch Strong Kick
[Statedef 411]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 50
ctrl = 0
anim = 411

[State 411, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 3

[State 411, 3]
type = HitDef
trigger1 = Animelem = 2
attr = C, NA
damage    = 50
getpower  = 40
givepower = 40
hitflag = MAFD
guardflag = L
pausetime = 15,18
sparkxy = -5,-30
sparkno = S7003
guard.sparkno = S7004
hitsound   = s0,8
guardsound = 6,0
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -5, -2
air.velocity = -5,-3
guard.velocity = -5
fall = 1

[State 411, 1]
type = PlaySnd
trigger1 = Animelem = 2
value = 1, 4

[State 411, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;-------------------------------------------------
;Jump Light Punch
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 600

[State 600, 1]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 2

[State 600, 2]
type = HitDef
trigger1 =  Animelem = 2
attr = A, NA
damage    = 12
getpower  = 10
givepower = 10
guardflag = HA
priority = 3
pausetime = 10,12
sparkxy = -10,-38
sparkno = S7006
hitsound   = s0,6
guardsound = 6,0
ground.type = low
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -2, 0
air.velocity = -2,-2


[State 600, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50

;-------------------------------------------------
;Jump Strong Punch
[Statedef 601]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 40
ctrl = 0
anim = 601

[State 601, 1]
type = PlaySnd
trigger1 = Animelem = 3
value = 0, 3

[State 601, 2]
type = HitDef
trigger1 =  Animelem = 4
attr = A, NA
damage    = 50
getpower  = 10
givepower = 10
guardflag = HA
priority = 3
pausetime = 10,12
sparkxy = -10,-18
sparkno = S7000
hitsound   = s0,7
guard.sparkno = S7004
guardsound = 6,0
ground.type = low
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4, 0
air.velocity = -5,-2

[State 601, 1]
type = PlaySnd
trigger1 =  Animelem = 4
value = 1, 2

[State 601, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50

;---------------------------------------------------------------------------
;Jump Light Kick
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 55
ctrl = 0
anim = 610

[State 610, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 2

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 70
getpower  = 50
givepower = 25
guardflag = HA
priority = 3
pausetime = 9,10
sparkxy = -10,-10
sparkno = S7006
hitsound   = s0,6
guardsound = 6,0
ground.type = low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
air.velocity = -1.3,-3

[State 610, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Jump Strong Kick
[Statedef 611]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 55
ctrl = 0
anim = 611

[State 611, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 3

[State 611, 3]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
damage    = 35
getpower  = 50
givepower = 25
guardflag = HA
priority = 3
pausetime = 9,10
sparkxy = -10,-51
sparkno = S7002
guard.sparkno = S7004
hitsound   = s0,7
guardsound = 6,0
ground.type = low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4, -2
air.velocity = -3,-3

[State 611, 3]
type = HitDef
trigger1 =  animelem = 3
attr = A, NA
damage    = 35
getpower  = 50
givepower = 25
guardflag = HA
priority = 3
pausetime = 9,10
sparkxy = -10,-51
sparkno = S7003
guard.sparkno = S7004
hitsound   = s0,8
guardsound = 6,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4, -4
air.velocity = -3,-3
fall = 1

[State 611, 3]
type = CtrlSet
trigger1 = Time = 17
value = 1

[State 611, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 1,4


[State 611, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Head Press
[Statedef 612]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 55
ctrl = 0
anim = 612

[State 612, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 4

[State 612, 3]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
damage    = 50
getpower  = 50
givepower = 25
guardflag = HA
priority = 3
pausetime = 9,10
sparkxy = 0,5
sparkno = S7003
guard.sparkno = S7004
hitsound   = s0,8
guardsound = 6,0
ground.type = low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -2, -5
air.velocity = -3,-4


[State 612, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 1,3


[State 612, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[State 612, 4]
type = ChangeState
trigger1 = movecontact = 1
value = 613
ctrl = 1


[Statedef 613, Head press revote]
type    = A
movetype= A
physics = A
anim = 613
poweradd = 0

[State 613, Velset]
type = Velset
trigger1 = time > 0
X = -1
Y = -2

[State 613, 4]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;-------------------------------------------------
;Flying Light Punch
[Statedef 500]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 11
ctrl = 0
anim = 600

[State 500, 1]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 2

[State 500, 2]
type = HitDef
trigger1 =  Animelem = 2
attr = A, NA
damage    = 12
getpower  = 10
givepower = 10
guardflag = HA
priority = 3
pausetime = 10,12
sparkxy = -10,-38
sparkno = S7006
hitsound   = s0,6
guardsound = 6,0
ground.type = low
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -2, 0
air.velocity = -2,-2

[State 500,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -10
y = 0

[State 500,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 500, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1500

;-------------------------------------------------
;Flying Strong Punch
[Statedef 501]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 40
ctrl = 0
anim = 601

[State 501, 1]
type = PlaySnd
trigger1 = Animelem = 3
value = 0, 3

[State 501, 2]
type = HitDef
trigger1 =  Animelem = 4
attr = A, NA
damage    = 50
getpower  = 10
givepower = 10
guardflag = HA
priority = 3
pausetime = 10,12
sparkxy = -10,-18
sparkno = S7000
guard.sparkno = S7004
hitsound   = s0,7
guardsound = 6,0
ground.type = low
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4, 0
air.velocity = -5,-2

[State 501, 1]
type = PlaySnd
trigger1 =  Animelem = 4
value = 1, 2

[State 501,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -10
y = 0

[State 501,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 501, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1500

;---------------------------------------------------------------------------
;Flying Light Kick
[Statedef 510]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 55
ctrl = 0
anim = 610

[State 510, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 2

[State 510, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 70
getpower  = 50
givepower = 25
guardflag = HA
priority = 3
pausetime = 9,10
sparkxy = -10,-10
sparkno = S7006
hitsound   = s0,6
guardsound = 6,0
ground.type = low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
air.velocity = -1.3,-3

[State 3001,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -10
y = 0

[State 510,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 510, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1500
ctrl = 1

;---------------------------------------------------------------------------
;Flying Strong Kick
[Statedef 511]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 55
ctrl = 0
anim = 611

[State 511, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 3

[State 511, 3]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
damage    = 35
getpower  = 50
givepower = 25
guardflag = HA
priority = 3
pausetime = 9,10
sparkxy = -10,-51
sparkno = S7002
guard.sparkno = S7004
hitsound   = s0,7
guardsound = 6,0
ground.type = low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4, -2
air.velocity = -3,-3

[State 511, 3]
type = HitDef
trigger1 =  animelem = 3
attr = A, NA
damage    = 35
getpower  = 50
givepower = 25
guardflag = HA
priority = 3
pausetime = 9,10
sparkxy = -10,-51
sparkno = S7003
guard.sparkno = S7004
hitsound   = s0,8
guardsound = 6,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4, -4
air.velocity = -3,-3
fall = 1


[State 511, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 1,4

[State 511,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -10
y = 0

[State 511,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 511, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1500
ctrl = 1


;---------------------------------------------------------------------------
;Throw_d 
[Statedef 820]
type    = A
movetype= H 
physics = N
velset = 0,0
ctrl = 0

[State 200, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3, 2

[State 930, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820

[State 930, 2]
type = HitBy
Trigger1 = Time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
;===================================================================================
;---------------- Specials ---------------------------------------------------------
;===================================================================================

;Ginew elbow
[Statedef 2000]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 2000
poweradd = 0
sprpriority = 2
poweradd = 70

[State 260, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = s2,2


[State 260, 0]
type = Velset
trigger1 = AnimElem = 1
X = 5
Y = 0

[State 260, 0]
type = Velset
trigger1 = AnimElem = 2
X = 15
Y = 0

;[State 0, VelMul]
;type = VelMul
;trigger1 = AnimElem = 2
;x = 1.7
;y = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = AnimElem = 2
x = 2.7
y = 0



[State 260: MakeDust]
type 			= MakeDust
trigger1 		= 1
pos 			= -5, 0
spacing 		= 4

[State 260, 1]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage = 50, 10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15, 10
sparkno = S7001
guard.sparkno = S7004
sparkxy = -20,-54
hitsound = s0,7
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity =  -3, 0
airguard.velocity = -3, -4
air.type = low
air.velocity =  -3, -3


[State 260, 1]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
damage = 50, 10
animtype = high
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 15
sparkno = S7001
sparkxy = -20,-54
guard.sparkno = S7004
hitsound = s0,8
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity =  -6, -3
airguard.velocity = -3, -4
air.type = High
air.velocity =  -3, -3
air.hittime = 12
Fall = 1
fall.recover = 0


[State 100: 	AfterImage]
type 		= AfterImage
trigger1 	= (Time = 0)
time 		= 15
timegap		= 2
framegap 	= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, 0, .50
palcontrast 	= 100,50,150
trans 		= add


[State 260, 3]
type = ChangeState
Trigger1 = (!animtime)
value = 0
ctrl = 1

;------------------------------------------------------------------------
;Dig Attack
[Statedef 2200]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2200
poweradd = 50

[State 2200, 1]
type=PlaySnd
trigger1 = Animelem = 3
trigger2 = Animelem = 6
value= s3, 5
volume = 50

[State 2200, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
value = 1,5
volume = 100


[State 2200, Explod]
type = Explod
trigger1 = AnimTime = 0
anim =  2251
ID = 2251
pos = 0, 5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
juggle = 4
removetime = 124


[State 2200, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  2299
ctrl= 1

;----------------------------------
;Dig Attack - Move underground
[Statedef 2299]
type = S
movetype = A
physics =S
;velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2299

[State 20, 1]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)
y = 0

[State 21, 2]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)
y = 0

[State 1000, 1]
type=PlaySnd
trigger1 = (Command = "holdfwd") && (time%10=0) || (Command = "holdback") && (time%10=0)
value= s3, 5
volume = 50

[State 2299, Explod]
type = Explod
trigger1 = (Command = "holdfwd") && (time%15=0) || (Command = "holdback") && (time%15=0)
anim =  2250
ID = 2250
pos = 0, 5
postype = p1
facing = 1
vfacing = 0
bindtime = 1
scale = 1,1
juggle = 5
;Ontop = 1
removetime = 124


;[State 2299, Explod]
;type = Explod
;trigger1 = (Command != "holdfwd") && (Command != "holdback")
;anim =  2250
;ID = 2250
;pos = -20, 5
;postype = p1
;facing = 1
;vfacing = 0
;bindtime = 1
;scale = 1,1
;juggle = 5
;;Ontop = 1
;removetime = 124

[State 2299, Explod]
type = Explod
trigger1 = (Command = "holdfwd") && (time%20=0)
anim =  2260
ID = 2260
pos = 0, 0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
Ontop = 1
removetime = 30

[State 2299, Explod]
type = Explod
trigger1 = (Command = "holdback") && (time%20=0)
anim =  2261
ID = 2260
pos = 0, 0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
Ontop = 1
removetime = 30

[State 2299, 4]
type =  ChangeState
trigger1 = (command = "a") && (Command = "holdfwd")
value =  2301
ctrl= 0

[State 2299, 4]
type =  ChangeState
trigger1 = (command = "a") && (Command = "holdback") || (command = "b") && (Command = "holdback")
trigger2 = (Time = 175) && (Command = "holdback")
trigger3 = Time = 175
value =  2302
ctrl= 0

[State 2299, 4]
type =  ChangeState
trigger1 = (command = "a")
value =  2301
ctrl= 0

[State 2299, 4]
type =  ChangeState
trigger1 = (command = "b")
trigger2 = (command = "b") && (Command = "holdfwd")
value =  2305
ctrl= 0


[State 2303, darse vuelta]
type = turn
trigger1 = p2dist X< 0

[State 2299, 4]
type =  ChangeState
trigger1 = (command = "x")
value =  2300
ctrl= 1

[State 2299, 4]
type =  ChangeState
trigger1 = (command = "y")
value =  2352
ctrl= 1

;-----------------------------------
;Dig Attack - Uppercut Light
[Statedef 2300]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2300

[State 1000, 1]
type=PlaySnd
trigger1 = AnimElem = 1
value= s2, 5
volume = 50

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100


[State 2300, Explod]
type = Explod
trigger1 = Animelem = 1
anim =  2260
ID = 2260
pos = -20, 0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
Ontop = 1
removetime = 30


[State 2300, Explod]
type = Explod
trigger1 = Animelem = 1
anim =  2261
ID = 2261
pos = 20, 0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
Ontop = 1
removetime = 30

[State 2350, 2]
type = HitDef
trigger1 = Animelem = 3 ;|| Animelem = 4
attr = C, NA
damage    = 30,10
animtype  = high
getpower  = 10
givepower = 8
hitflag = MAFD
guardflag = L
pausetime = 15,18
sparkxy = -2,-90
sparkno = S7003
guard.sparkno = S7004
hitsound   = s0,8
guardsound = 6,0
ground.type = High
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -3
air.velocity = -3,-5
down.velocity = -4,0
down.hittime = 20


[State 2299, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  2350
ctrl= 1

;Dig Attack - Uppercut Light air
[Statedef 2350]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2350

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 0
y = -2

[State 2350, 2]
type = HitDef
trigger1 = Animelem = 1
attr = C, NA
damage    = 50, 10
animtype  = high
getpower  = 10
givepower = 8
hitflag = MAFD
guardflag = L
pausetime = 15,18
sparkxy = -2,-90
sparkno = S7003
guard.sparkno = S7004
hitsound   = s0,8
guardsound = 6,0
ground.type = High
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -1, -10
air.velocity = -2,-9
down.velocity = -4,0
down.hittime = 20
fall = 1
fall.recover = 0



[State 2350, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  50
ctrl= 1

;-----------------------------------
;Dig Attack - Uppercut Strong
[Statedef 2352]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2300

[State 2352, 1]
type=PlaySnd
trigger1 = AnimElem = 1
value= s2, 5
volume = 50

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100


[State 2352, Explod]
type = Explod
trigger1 = Animelem = 1
anim =  2260
ID = 2260
pos = -20, 0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
Ontop = 1
removetime = 30


[State 2352, Explod]
type = Explod
trigger1 = Animelem = 1
anim =  2261
ID = 2261
pos = 20, 0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
Ontop = 1
removetime = 30

[State 2352, 2]
type = HitDef
trigger1 = Animelem = 3 ;|| Animelem = 4
attr = C, NA
damage    = 30,10
animtype  = high
getpower  = 10
givepower = 8
hitflag = MAFD
guardflag = L
pausetime = 15,18
sparkxy = -2,-90
sparkno = S7003
guard.sparkno = S7004
hitsound   = s0,8
guardsound = 6,0
ground.type = High
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -3
air.velocity = -3,-5
down.velocity = -4,0
down.hittime = 20


[State 2352, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  2353
ctrl= 1

;Dig Attack - Uppercut Strong air
[Statedef 2353]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2350

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 8
y = -6

[State 2353, 2]
type = HitDef
trigger1 = Animelem = 1
attr = C, NA
damage    = 50, 10
animtype  = high
getpower  = 10
givepower = 8
hitflag = MAFD
guardflag = L
pausetime = 15,18
sparkxy = -2,-90
sparkno = S7003
guard.sparkno = S7004
hitsound   = s0,8
guardsound = 6,0
ground.type = High
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -3, -8
air.velocity = -3,-5
down.velocity = -4,0
down.hittime = 20
fall = 1
fall.recover = 0

[State 2353, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  50
ctrl= 1

;--------------------------------------
;Dig Attack - Over Fwd
[Statedef 2301]
type = S
movetype = A
physics =S
;velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2301

[State 2301, 1]
type=PlaySnd
trigger1 = Animelem = 1
value= s3, 5
volume = 50

[State 2301, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 1,2
volume = 100

[State 2301, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  2303
ctrl= 0

;---------------
[Statedef 2303]
type = S
movetype = A
physics =S
;velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2303

[State 2303, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 5
y = -5


[State 2303, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  50
ctrl= 1

;-----------------------------------------
;Dig Attack - Fwd Hight
[Statedef 2305]
type = S
movetype = A
physics =S
;velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2301

[State 2305, 1]
type=PlaySnd
trigger1 = Animelem = 2
value= s3, 5
volume = 50

[State 2305, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 1,2
volume = 100

[State 2305, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  2306
ctrl= 0

;---------------
[Statedef 2306]
type = S
movetype = A
physics =S
;velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2303

[State 2306, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 9
y = -7

[State 2305, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 0,12
volume = 100

[State 100: 	AfterImage]
type 		= AfterImage
trigger1 	= (Time = 0)
time 		= 15
timegap		= 2
framegap 	= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, 0, .50
palcontrast 	= 100,50,150
trans 		= add

[State 2306, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  50
ctrl= 1


;-----------------------------------------
;Dig Attack - Over Back
[Statedef 2302]
type = S
movetype = A
physics =S
;velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2302

[State 2302, 1]
type=PlaySnd
trigger1 = Animelem = 2
value= s3, 5
volume = 50

[State 2302, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 1,2
volume = 100

[State 2302, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  2304
ctrl= 0

;---------------
[Statedef 2304]
type = S
movetype = A
physics =S
;velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2304

[State 2304, VelSet]
type = VelSet
trigger1 = animelem = 1
x = -8
y = -5

[State 2304, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  50
ctrl= 1

;------------------------------------------------------------------------
; Mamushka Kicks - Alta
[Statedef 2400]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd = 30
ctrl = 0
anim = 2500

[State 2400: 	AfterImage]
type 		= AfterImage
trigger1 	= (Time = 3)
time 		= 15
timegap		= 2
framegap 	= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, 0, .50
palcontrast 	= 100,50,150
trans 		= add

[State 2400, 1]
type = VelSet
trigger1 = Time = 0
x = (IfElse(Command = "holdfwd",1.5,2));(IfElse(Command = "holdback",13,13))))
y = (IfElse(Command = "holdfwd",-7,-7));(IfElse(Command = "holdback",-6,-9))))


[State 2400, 3]
type = VelAdd
trigger1 = Time > 0
y = 0.25

[State 2400, 3]
type = HitDef
trigger1 = Animelem = 5
attr = S, SA
animtype = Hard
damage = 25,10
priority = 6
guardflag = MA
pausetime = 12,18
Sparkno = s7000
sparkxy = -30,-30
guard.sparkno = S7004
getpower = 0
givepower = 0
hitsound   = s0,7
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 20
ground.velocity = -2, 0
air.velocity = -2,-1
guard.velocity = -7
airguard.velocity =-7,-1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  Animelem = 5
value = s1,2
volume = 70

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  Animelem = 5
value = s0,1
volume = 70

[State 2400, 3]
type = HitDef
trigger1 = Animelem = 8
attr = S, SA
animtype = low
damage = 25,10
priority = 6
guardflag = MA
pausetime = 12,18
Sparkno = s7001
sparkxy = -30,-30
guard.sparkno = S7004
getpower = 0
givepower = 0
hitsound   = s0,6
guardsound = 6,0
ground.type = low
ground.slidetime = 12
ground.hittime = 20
ground.velocity = -3, 0
air.velocity = -3,-2
guard.velocity = -7
airguard.velocity =-7, -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  Animelem = 8
value = s1,2
volume = 70

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  Animelem = 8
value = s0,2
volume = 70

[State 2400, 3]
type = HitDef
trigger1 = Animelem = 11
attr = S, SA
animtype = Hard
damage = 25,10
priority = 6
guardflag = MA
pausetime = 12,18
Sparkno = s7000
sparkxy = -30,-10
guard.sparkno = S7004
getpower = 0
givepower = 0
hitsound   = s0,7
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 20
ground.velocity = -4, 0
air.velocity = -4,-3
guard.velocity = -7
airguard.velocity =-7, -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  Animelem = 11
value = s1,2
volume = 70

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  Animelem = 11
value = s0,1
volume = 70

[State 2400, 3]
type = HitDef
trigger1 = Animelem = 14
attr = S, SA
animtype = low
damage = 25,14
priority = 6
guardflag = MA
pausetime = 12,18
Sparkno = s7001
sparkxy = -40,-30
guard.sparkno = S7004
getpower = 0
givepower = 0
hitsound   = s0,6
guardsound = 6,0
ground.type = low
ground.slidetime = 12
ground.hittime = 20
ground.velocity = -7, 0
air.velocity = -7,-1
guard.velocity = -7
airguard.velocity =-7, -1


[State 0, PlaySnd]
type = PlaySnd
trigger1 =  Animelem = 14
value = s1,2
volume = 70

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  Animelem = 14
value = s0,2
volume = 70

[State 2400, 4]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 50
ctrl = 1


;------------------------------------------------------------------------
; Mamushka Kicks - Larga
[Statedef 2500]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd = 30
ctrl = 0
anim = 2500

[State 2500: 	AfterImage]
type 		= AfterImage
trigger1 	= (Time = 3)
time 		= 15
timegap		= 2
framegap 	= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, 0, .50
palcontrast 	= 100,50,150
trans 		= add

[State 2500, 1]
type = VelSet
trigger1 = Time = 0
x = (IfElse(Command = "holdfwd",5,5));(IfElse(Command = "holdback",13,13))))
y = (IfElse(Command = "holdfwd",-5,-5));(IfElse(Command = "holdback",-6,-9))))


[State 2500, 3]
type = VelAdd
trigger1 = Time > 0
y = 0.25

[State 2500, 3]
type = HitDef
trigger1 = Animelem = 5
attr = S, SA
animtype = Hard
damage = 25,10
priority = 6
guardflag = MA
pausetime = 12,18
Sparkno = s7000
sparkxy = -30,-30
guard.sparkno = S7004
getpower = 0
givepower = 0
hitsound   = s0,7
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 20
ground.velocity = -2, 0
air.velocity = -2,-1
guard.velocity = -7
airguard.velocity =-7,-1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  Animelem = 5
value = s1,2
volume = 70

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  Animelem = 5
value = s0,1
volume = 70

[State 2500, 3]
type = HitDef
trigger1 = Animelem = 8
attr = S, SA
animtype = low
damage = 25,10
priority = 6
guardflag = MA
pausetime = 12,18
Sparkno = s7001
sparkxy = -30,-30
guard.sparkno = S7004
getpower = 0
givepower = 0
hitsound   = s0,6
guardsound = 6,0
ground.type = low
ground.slidetime = 12
ground.hittime = 20
ground.velocity = -3, 0
air.velocity = -3,-2
guard.velocity = -7
airguard.velocity =-7, -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  Animelem = 8
value = s1,2
volume = 70

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  Animelem = 8
value = s0,2
volume = 70

[State 2500, 3]
type = HitDef
trigger1 = Animelem = 11
attr = S, SA
animtype = Hard
damage = 25,10
priority = 6
guardflag = MA
pausetime = 12,18
Sparkno = s7000
sparkxy = -30,-10
guard.sparkno = S7004
getpower = 0
givepower = 0
hitsound   = s0,7
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 20
ground.velocity = -4, 0
air.velocity = -4,-3
guard.velocity = -7
airguard.velocity =-7, -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  Animelem = 11
value = s1,2
volume = 70

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  Animelem = 11
value = s0,1
volume = 70

[State 2500, 3]
type = HitDef
trigger1 = Animelem = 14
attr = S, SA
animtype = low
damage = 25,14
priority = 6
guardflag = MA
pausetime = 12,18
Sparkno = s7001
sparkxy = -40,-30
guard.sparkno = S7004
getpower = 0
givepower = 0
hitsound   = s0,6
guardsound = 6,0
ground.type = low
ground.slidetime = 12
ground.hittime = 20
ground.velocity = -7, 0
air.velocity = -7,-1
guard.velocity = -7
airguard.velocity =-7, -1


[State 0, PlaySnd]
type = PlaySnd
trigger1 =  Animelem = 14
value = s1,2
volume = 70

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  Animelem = 14
value = s0,2
volume = 70

[State 2500, 4]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 50
ctrl = 1

;===================================================================================
;---------------- Specials Ki-------------------------------------------------------
;===================================================================================
;Fireball
[Statedef 1000]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 1000
poweradd = -50

[State 1000, 1]
type=PlaySnd
trigger1 = AnimElem = 1
value= s3, 0
volume = 50

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 1,5
volume = 100

[State 700:		Helper]
type		= Helper
trigger1	= (AnimElem = 4) && (Power > 50)
helpertype	= Normal
name		= "Fire Ball"
id		= 1001
pos		= 41,-57
postype		= p1
facing		= 1
stateno		= 1001
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.7
size.yscale     = 0.7


[State 1000, Explod]
type = Explod
trigger1 = Animelem = 1
anim =  1002
ID = 1002
pos = -10,-44
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.2,0.2
Ontop = 1
removetime = 10
removeongethit = 1

[State 1000, Explod]
type = Explod
trigger1 = Animelem = 2
anim =  1002
ID = 1002
pos = -10,-42
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.3,0.3
Ontop = 1
removetime = 8
removeongethit = 1

[State 1000, Explod]
type = Explod
trigger1 = Animelem = 3
anim =  1002
ID = 1002
pos = -10,-40
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
Ontop = 1
removetime = 6
removeongethit = 1

[State 1000, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  0
ctrl= 1


;-----------------------------------------------
;Fire Ball Projectile
[Statedef 1001]
movetype	= A
anim		= 1002
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 1001:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 1001: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 1001:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 1001:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0

[State 1001:	MakeDust]
type			= MakeDust
trigger1		= (Vel Y = 0)
pos 			= 0,60
spacing 		= 2


[State 1001:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 3
y			= (IfElse((Parent,Command = "holdup"),-0.5,(IfElse((Parent,Command = "holddown"),0.8,0))))

[State 1001:	VelMul]
type		= VelMul
trigger1	= (Time > 0)
x		= 1.06
y		= 1.06

[State 1001:	AfterImage]
type		= AfterImage
trigger1	= (!Time)
time 		= 200
timegap		= 2
framegap 	= 3
length 		= 5
paladd 		= 0, 0, 0
palmul 		= .50, 0, .50
palcontrast 	= 100,50,150
trans 		= add

[State 1001:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 60,10
pausetime	= 1,12
sparkno		= S1006
sparkxy		= 15,-18
;guard.sparkxy   = 30, 20
guard.sparkno	= S1006
hitsound	= s3,3
guardsound	= s3,3
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= -4,-3
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 120,50,256
palfx.add	= 200,50,10
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s3,1
volume = 50

[State 1001:	DestroySelf]
type			= DestroySelf
trigger1 		= movecontact = 1;(Parent, NumProjID(1002) = 0)

;-----------------------------------------------------------------------------------
;-----------------------------------------------------------------------------------
;Telekinesis Corta
[Statedef 3000]
type    = S
movetype= A
physics = S
poweradd= -100
ctrl = 0
anim = 3000
sprpriority = 1

[State 3000, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 3,8

[State 3000]
type = Explod
trigger1 = animelem = 2
anim = 3100
ID = 3100
pos = -7, -70
postype = p1
bindtime = 1
removetime = 40
scale = 0.2,0.2
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 3000]
type = Explod
trigger1 = time = 25
anim = 3105
ID = 3105
pos = -2, -55
postype = p1
bindtime = 1
removetime = 10
scale = 0.525,0.55
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 3000]
type = Helper
trigger1 = time = 35
helpertype = normal
name = "Telekinesis"
ID = 3108
pos = 100,-5
postype = p1
stateno = 3108
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1
size.xscale	= 1.0
size.yscale	= 1.0


[State 3000, End]
type = ChangeState
trigger1 = (animtime = 0); || (numhelper(3108) = 0 && time >= 40)
value = 0
ctrl = 1


[State 3000, End]
type = ChangeState
trigger1 =  numhelper(31082) = 1
value = 3001
ctrl = 1

;-----------------------------------------------------------------------------------
;-----------------------------------------------------------------------------------
;Telekinesis Larga
[Statedef 3300]
type    = S
movetype= A
physics = S
poweradd= -100
ctrl = 0
anim = 3000
sprpriority = 1

[State 3300, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 3,8

[State 3300]
type = Explod
trigger1 = animelem = 2
anim = 3100
ID = 3100
pos = -7, -70
postype = p1
bindtime = 1
removetime = 40
scale = 0.2,0.2
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 3300]
type = Explod
trigger1 = time = 25
anim = 3105
ID = 3105
pos = -2, -55
postype = p1
bindtime = 1
removetime = 10
scale = 1.1,0.55
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1


[State 3300]
type = Helper
trigger1 = time = 35
helpertype = normal
name = "Telekinesis"
ID = 3108
pos = 210,-5
postype = p1
stateno = 3108
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1
size.xscale	= 1.0
size.yscale	= 1.0

[State 3300, End]
type = ChangeState
trigger1 = (animtime = 0); || (numhelper(3108) = 0 && time >= 40)
value = 0
ctrl = 1


[State 3300, End]
type = ChangeState
trigger1 =  numhelper(31082) = 1
value = 3001
ctrl = 1

;---------------------------------------------------------------------------
;Telekinesis Movimientos
;---------------------------------------------------------------------------
;Telekinesis Ginew Control (start)
[Statedef 3001]
type    = S
movetype= A
physics = S
anim = 191 ;+ifelse(var(1)=0,0,500)
ctrl = 0
velset = 0,0
sprpriority = 1

[State 3001, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 1,5

[State 3001, Forward]
type = ChangeState
trigger1 = command = "holdfwd"
value = 3002

[State 3001, Back]
type = ChangeState
trigger1 = command = "holdup"
value = 3003

[State 3001, Up]
type = ChangeState
trigger1 = command = "holddown"
value = 3004

[State 3001, Down]
type = ChangeState
trigger1 = command = "holdback"
value = 3005

[State 3001, Throw to Ground]
type = ChangeState
trigger1 = command = "y"
value = 3210

[State 3005, Throw to Ground]
type = ChangeState
trigger1 = command = "x"
value = 3220

[State 3001, Throw Foward]
type = ChangeState
trigger1 = command = "b"
value = 3230

[State 3001, Throw Back]
type = ChangeState
trigger1 = command = "a"
value = 3240

[State 3001, End]
type = ChangeState
trigger1 =  numhelper(31082) = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Telekinesis Ginew Control Forward
[Statedef 3002]
type    = S
movetype= A
physics = S
anim = 3002
ctrl = 0
velset = 0,0
sprpriority = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = (time)
value = 0

[State 3002, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 1,1

[State 3002, ChangeBack]
type = ChangeState
trigger1 = command != "holdfwd" && command = "holdup"
value = 3003

[State 3002, ChangeUp]
type = ChangeState
trigger1 =  command != "holdfwd" && command = "holddown"
value = 3004

[State 3002, ChangeDown]
type = ChangeState
trigger1 = command != "holdfwd" && command = "holdback"
value = 3005

[State 3002, Throw to Ground]
type = ChangeState
trigger1 = command = "y"
value = 3210

[State 3005, Throw to Ground]
type = ChangeState
trigger1 = command = "x"
value = 3220

[State 3002, Throw Foward]
type = ChangeState
trigger1 = command = "b"
value = 3230

[State 3002, Throw Back]
type = ChangeState
trigger1 = command = "a"
value = 3240

[State 3002, ChangeDown]
type = ChangeState
trigger1 = numhelper(31082) = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Telekinesis Ginew Control Upwards
[Statedef 3003]
type    = S
movetype= A
physics = S
anim = 3003
ctrl = 0
velset = 0,0
sprpriority = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = (time)
value = 0

[State 3003, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 1,2

[State 3003, ChangeFwd]
type = ChangeState
trigger1 = command != "holdback" && command = "holdfwd"
value = 3002

[State 3003, ChangeUp]
type = ChangeState
trigger1 = command != "holdback" && command = "holdback"
value = 3005

[State 3003, ChangeDown]
type = ChangeState
trigger1 = command != "holdback" && command = "holddown"
value = 3004

[State 3003, Throw to Ground]
type = ChangeState
trigger1 = command = "y"
value = 3210

[State 3005, Throw to Ground]
type = ChangeState
trigger1 = command = "x"
value = 3220

[State 3003, Throw Foward]
type = ChangeState
trigger1 = command = "b"
value = 3230

[State 3003, Throw Back]
type = ChangeState
trigger1 = command = "a"
value = 3240

[State 3003, ChangeDown]
type = ChangeState
trigger1 = numhelper(31082) = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Telekinesis Ginew Control Downward
[Statedef 3004]
type    = S
movetype= A
physics = S
anim = 3004
ctrl = 0
velset = 0,0
sprpriority = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = (time)
value = 0

[State 3004, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 1,3

[State 3004, ChangeBack]
type = ChangeState
trigger1 =  command != "holddown" && command = "holdback"
value = 3005

[State 3004, ChangeFwd]
type = ChangeState
trigger1 = command = "holdfwd"
value = 3002

[State 3004, ChangeDown]
type = ChangeState
trigger1 = command = "holdup"
value = 3003

[State 3004, Throw to Ground]
type = ChangeState
trigger1 = command = "y"
value = 3210

[State 3005, Throw to Ground]
type = ChangeState
trigger1 = command = "x"
value = 3220

[State 3004, Throw Foward]
type = ChangeState
trigger1 = command = "b"
value = 3230

[State 3004, Throw Back]
type = ChangeState
trigger1 = command = "a"
value = 3240

[State 3004, ChangeDown]
type = ChangeState
trigger1 = numhelper(31082) = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Telekinesis Ginew Control Backward
[Statedef 3005]
type    = S
movetype= A
physics = S
anim = 3005
ctrl = 0
velset = 0,0
sprpriority = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = (time)
value = 0

[State 3005, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 1,4

[State 3005, ChangeBack]
type = ChangeState
trigger1 = command != "holdback" && command = "holddown"
value = 3004

[State 3005, ChangeUp]
type = ChangeState
trigger1 = command != "holddown" && command = "holdup"
value = 3003

[State 3005, ChangeFwd]
type = ChangeState
trigger1 = command = "holdfwd"
value = 3002



[State 3005, Throw to Ground]
type = ChangeState
trigger1 = command = "y"
value = 3210

[State 3005, Throw to Ground]
type = ChangeState
trigger1 = command = "x"
value = 3220

[State 3005, Throw Foward]
type = ChangeState
trigger1 = command = "b"
value = 3230

[State 3005, Throw Back]
type = ChangeState
trigger1 = command = "a"
value = 3240

[State 3005, ChangeDown]
type = ChangeState
trigger1 = numhelper(31082) = 0
value = 0
ctrl = 1
;------------------------------------------------------------------
;helper que agarra
[Statedef 3108]
type    = S
movetype= A
physics = S
anim = 31083
ctrl = 0
sprpriority = 15

[State 33108, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 3,9

[State 3108]
type = Explod
trigger1 = time = 0
anim = 3108
ID = 3108
pos = 0, 0
bindtime = 1
removetime = 14
scale = 1,1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3108]
type = Explod
trigger1 = time = 0
anim = 3106
ID = 3106
pos = 0, 5
postype = p1
bindtime = 1
removetime = 10
scale = 0.7,0.7
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1


[State 3108]
type = Explod
trigger1 = (anim = 31083) && time % 5 = 0
anim = 3107
ID = 3107
pos = 0,0
vel = 0,-3.4
removetime = 10
ownpal = 1
ignorehitpause = 1
persistent = 1
sprpriority = 3
scale = 0.3, 0.3

[State 3108]
type = HitDef
trigger1 = 1 ;animelem = 1 || animelem = 2 || animelem = 3 || animelem = 4 || animelem = 5|| animelem = 6
attr = S,NP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF      ;HLAFD+-
guardflag = MAF      ;HLA
animtype = light
air.animtype = light
ground.type = light
air.type = light
damage = 20,0
pausetime = 8,10
sparkno = -1
guard.sparkno = -1
p1stateno = 3109
;hitsound = S4,0
;guardsound = S3,0
ground.slidetime = 300
guard.slidetime = 0
ground.hittime = 300
guard.hittime = 0
air.hittime = 300
ground.velocity = 0,0
guard.velocity = 0
kill = 0
fall = 1
getpower        = 10, 0
;palfx.time	= 25
;palfx.mul	= 120,50,256
;palfx.add	= 200,50,10
;palfx.sinadd 	= 175,25,5,4

[State 3108, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = invisible
flag3 = unguardable



[State 3108]
type = destroyself
trigger1 = animtime = 0

;-----------------------------------------------------------
;manejar al oponente en el aire
[Statedef 3109]
movetype= A
ctrl = 0
anim = 31072
sprpriority = 2
Shadow = 0,0,0

[State 3109, 1]
type=PlaySnd
trigger1 = (time%10=0)
value= 3,10
volume = 10

[State 3109]
type = Explod
trigger1 = (anim = 31072) && time % 5 = 0
anim = 3107
ID = 31072
pos = 0,-15
postype = p2
vel = 0,-7;*parent, const(size.yscale)
removetime = 11
ignorehitpause = 1
persistent = 1
sprpriority = 3
scale = 0.23, 0.4;*parent, const(size.xscale),0.6*parent, const(size.yscale) ;
shadow = 0,0,0
ownpal = 0
ontop = 0
facing = 1
vfacing = 1

[state 3109]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = invisible
flag3 = unguardable


[State 3109]
type = TargetBind
trigger1 = 1
time = 1
pos = 0,0
ignorehitpause = 1
persistent = 1

;[state 3005]
;type = playerpush
;trigger1 = 1
;value = 1

[State 3109]
type = VelSet
trigger1 = time = 1
y = -2
ignorehitpause = 1

[State 3109, quiet]
type = VelSet
trigger1 = time > 10 && (Parent, command != "holdup" || command != "holddown" || command != "holdback" || command != "holdfwd")
x = 0
y = 0


[State 3109, GoUp1]
type = VelSet
triggerall = pos Y > -600
triggerall = numhelper(3270) = 0
trigger1 = Parent, command = "holdup"
y = -2.5

[State 3109, GoDown1]
type = VelSet
triggerall = numhelper(3270) = 0
triggerall = pos Y < 0
trigger1 = Parent, command = "holddown"
y = 2.5

[State 3109, GoBack1]
type = VelSet
triggerall = numhelper(3270) = 0
trigger1 = Parent, command = "holdback"
x = -3

[State 3109, GoFwd1]
type = VelSet
triggerall = numhelper(3270) = 0
trigger1 = Parent, command = "holdfwd"
x = 3

;[State 3109]
;type = PosSet
;trigger1 = pos y > 0
;y = 0
;ignorehitpause = 1
;persistent = 1

[State 3109]
type = Helper
trigger1 = Movehit = 1
helpertype = normal
name = "Telekinesis ad hoc"
ID = 31082
pos = 10,30
postype = p1
stateno = 31082
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1
size.xscale	= 1.0
size.yscale	= 1.0

[State 3109]
type = DestroySelf
trigger1 = numhelper(3260) = 1
;trigger2 = numhelper(3270) = 1
trigger2 = numhelper(3280) = 1
trigger3 = numhelper(3290) = 1
trigger4 = time = 300

;Telekinesis ad hoc
[Statedef 31082]
movetype = A
ctrl = 0
anim = 31082
sprpriority = 2

[State 31082, DestroySelf]
type = DestroySelf
trigger1 = numhelper(3260) = 1
;trigger2 = numhelper(3270) = 1
trigger2 = numhelper(3280) = 1
trigger3 = numhelper(3290) = 1
trigger4 = time = 300
;ignorehitpause =
;persistent =

;-----------------------------------------------------
;-----------------------------------------------------

;Telekinesis Thorw to Ground
[Statedef 3210]
type    = S
movetype= A
physics = S
anim = 3004
ctrl = 0

[State 3004, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 2,2

[State 3210]
type = Helper
trigger1 = Animelem = 3
helpertype = normal
name = "Telekinesis Throw to Ground"
ID = 3260
pos = 0,-50
postype = p2
stateno = 3260
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1
size.xscale	= 0.4
size.yscale	= 0.8

[State 3210]
type = Helper
triggerall = p2dist y <= -150
trigger1 = Animelem = 3
helpertype = normal
name = "Telekinesis Throw to Ground - alto"
ID = 3261
pos = 0,-50
postype = p2
stateno = 3261
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1
size.xscale	= 0.4
size.yscale	= 0.8


[State 3230]
type = ChangeState
trigger1 = time = 55
value = 0
ctrl = 1

;------------------------
;helper Thorw to Ground
[Statedef 3260]
movetype = A
ctrl = 0
anim = 3199
sprpriority = 2

[State 3260, PlaySND]
type = PlaySnd
trigger1 = Parent, P2dist y = 0
value = s3,12
volume = 10


[State 3260]
type = HitDef
trigger1 = animelem = 1
attr = S,NT
hitflag = MAF
guardflag = MA
animtype = light
air.animtype = light
damage = 10,0
pausetime = 8,12
sparkno = -1
guard.sparkno = -1
ground.type = light
air.type = light
ground.slidetime = 30
guard.slidetime = 1
ground.hittime = 30
guard.hittime = 1
air.hittime = 30
ground.velocity = 1,25
air.velocity = 1,25
guard.velocity = 0
kill = 1
fall = 1
fall.xvelocity = -2
fall.yvelocity = -10
fall.recover = 1
fall.recovertime = 20
fall.damage = 60
air.fall = 0
down.velocity = 16,-24
down.hit
fall.envshake.time = 10
fall.envshake.freq = 180
fall.envshake.ampl = -7
fall.envshake.phase = 90
;ignorehitpause =
;persistent =

[State 3260, throw down]
type = Explod
trigger1 = animelem = 1
anim = 3200
ID = 3200
postype = P2
pos = 0, -150
vel = 0, 0
sprpriority = 2
removetime = 30
bindtime = 1
ownpal = 1
scale = 0.4,0.8
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
shadow = 0,0,0

[state 3260]
type = AssertSpecial
trigger1 = 1
flag = noshadow
time = 1

[state 3260]
type = AssertSpecial
trigger1 = 1
flag = unguardable
time = 1

[State 3260, DestroySelf]
type = DestroySelf
trigger1 = (!animtime)
;ignorehitpause =
;persistent =

;------------------------
;helper Thorw to Ground - alto
[Statedef 3261]
movetype = A
ctrl = 0
anim = 3199
sprpriority = 2

[State 3261]
type = HitDef
trigger1 = animelem = 1
attr = S,NT
hitflag = MAF
guardflag = MA
animtype = light
air.animtype = light
damage = 10,0
pausetime = 8,12
sparkno = -1
guard.sparkno = -1
ground.type = light
air.type = light
ground.slidetime = 30
guard.slidetime = 1
ground.hittime = 30
guard.hittime = 1
air.hittime = 30
ground.velocity = 1,25
air.velocity = 1,25
guard.velocity = 0
kill = 1
fall = 1
fall.xvelocity = -2
fall.yvelocity = -10
fall.recover = 1
fall.recovertime = 20
fall.damage = 100
air.fall = 0
down.velocity = 16,-24
down.hit
fall.envshake.time = 10
fall.envshake.freq = 180
fall.envshake.ampl = -7
fall.envshake.phase = 90
;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Parent, P2dist y = 0
value = s3,15
volume = 50

[State 3261, throw down]
type = Explod
trigger1 = animelem = 1
anim = 3200
ID = 3200
postype = P2
pos = 0, -90
vel = 0, 0
sprpriority = 2
removetime = 30
bindtime = 1
ownpal = 1
scale = 0.4,0.8
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
shadow = 0,0,0




[State 8400, Piedras B - Explode suelo]
type = Explod
trigger1 = Parent, P2dist y = 0
anim = 8562
ID = 8562
postype = P2
pos = 0, 20
vel = 3, -4
;sprpriority = 1
removetime = 18
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 8400, Piedras C - Explode suelo]
type = Explod
trigger1 = Parent, P2dist y = 0
anim = 8582
ID = 8582
postype = P2
pos = -20, 20
vel =  -2, -3
;sprpriority = 1
removetime = 9
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[state 3261]
type = AssertSpecial
trigger1 = animelem = 1
flag = noshadow
time = 1

[state 3261]
type = AssertSpecial
trigger1 = 1
flag = unguardable
time = 1

[State 3261, DestroySelf]
type = DestroySelf
trigger1 = (!animtime)
;ignorehitpause =
;persistent =

;-----------------------------------------------------
;Telekinesis - Paralisis
[Statedef 3220]
type    = S
movetype= A
physics = S
anim = 3006
ctrl = 0


[State 3220, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 2,5

[State 3220]
type = Helper
trigger1 = Animelem = 2
helpertype = normal
name = "Telekinesis - paralisis"
ID = 3270
pos = 0,0
postype = p2
stateno = 3270
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1
size.xscale	= 1
size.yscale	= 1

[State 3220]
type = ChangeState
trigger1 = (animtime =  0)
value = 0
ctrl = 1

;-----------------------------------------------------
[Statedef 3270]
movetype = A
ctrl = 0
anim = 3270
sprpriority = 2


[State 3270]
type = HitDef
trigger1 = animelem = 1
attr = S,NT
hitflag = MAF
guardflag = MA
animtype = light
air.animtype = light
damage = 0,0
pausetime = 5,10
sparkno = -1
guard.sparkno = -1
ground.type = light
air.type = light
ground.slidetime = 30
guard.slidetime = 1
ground.hittime = 30
guard.hittime = 1
air.hittime = 30
ground.velocity = 1,25
air.velocity = 1,25
guard.velocity = 0
kill = 1
getpower        = 10, 0
givepower       = 35, 0


[State 0, destello]
type = EnvColor
trigger1 = movehit = 1 && ((GameTime%1) = 0)
value	= 200,150,255
time	= 1
;under = 0



[State 3270, DestroySelf]
type = DestroySelf
trigger1 = numhelper(31082) = 1
;ignorehitpause =
;persistent =

;-----------------------------------------------------

;Telekinesis Thorw Foward
[Statedef 3230]
type    = S
movetype= A
physics = S
anim = 3002
ctrl = 0

[State 3230, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 1,1

[State 3230]
type = Helper
trigger1 = Animelem = 2
helpertype = normal
name = "Telekinesis Throw Foward"
ID = 3280
pos = 20,-20
postype = p2
stateno = 3280
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1
size.xscale	= 0.4
size.yscale	= 0.4


[State 3230]
type = ChangeState
trigger1 = time = 25
value = 0
ctrl = 1

;------------------------
;helper Thorw Foward
[Statedef 3280]
movetype = A
ctrl = 0
anim = 3201
sprpriority = 2

[State 3280, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 3,11

[State 3108]
type = HitDef
trigger1 = animelem = 1
attr = S,NT
hitflag = MAF
guardflag = MA
animtype = light
air.animtype = light
damage = 40,0
pausetime = 8,12
sparkno = -1
guard.sparkno = -1
;hitsound = S4,0
;guardsound = S3,0
ground.type = light
air.type = light
ground.slidetime = 30
guard.slidetime = 1
ground.hittime = 30
guard.hittime = 1
air.hittime = 30
ground.velocity = 5,-7
air.velocity = 5,-7
guard.velocity = 0
kill = 1
fall = 1
fall.recover = 1
fall.recovertime = 20

[state 3109]
type = AssertSpecial
trigger1 = 1
flag = noshadow
time = 1

[state 3109]
type = AssertSpecial
trigger1 = 1
flag = unguardable
time = 1

[State 31082, DestroySelf]
type = DestroySelf
trigger1 = (!animtime)
;ignorehitpause =
;persistent =
;-----------------------------------------------------
;Telekinesis Thorw Back
[Statedef 3240]
type    = S
movetype= A
physics = S
anim = 3005
ctrl = 0

[State 3240, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 1,4

[State 3240]
type = Helper
trigger1 = Animelem = 3
helpertype = normal
name = "Telekinesis Throw Back"
ID = 3290
pos = -10,-20
postype = p2
stateno = 3290
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1
size.xscale	= 0.4
size.yscale	= 0.4


[State 3240]
type = ChangeState
trigger1 = time = 35
value = 0
ctrl = 1

;------------------------
;helper Thorw Back
[Statedef 3290]
movetype = A
ctrl = 0
anim = 3202
sprpriority = 2

[State 3290, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 3,11

[State 3290]
type = HitDef
trigger1 = animelem = 1
attr = S,NT
hitflag = MAF
guardflag = MA
animtype = light
air.animtype = light
damage = 40,0
pausetime = 8,12
sparkno = -1
guard.sparkno = -1
;hitsound = S4,0
;guardsound = S3,0
ground.type = light
air.type = light
ground.slidetime = 30
guard.slidetime = 1
ground.hittime = 30
guard.hittime = 1
air.hittime = 30
ground.velocity = -5,-7
air.velocity = -5,-7
guard.velocity = 0
kill = 1
fall = 1
;fall.xvelocity = 0
;fall.yvelocity = -4.5
fall.recover = 1
fall.recovertime = 20
;fall.damage = 40
;air.fall = 0
;down.velocity = 0,0
;down.hit
;fall.envshake.time = 0,0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
;persistent =

[state 3290]
type = AssertSpecial
trigger1 = 1
flag = noshadow
time = 1

[state 3290]
type = AssertSpecial
trigger1 = 1
flag = unguardable
time = 1

[State 31082, DestroySelf]
type = DestroySelf
trigger1 = (!animtime)
;ignorehitpause =
;persistent =

;------------------------------------------------------------------------
; Fin de los movimientos de Telekinesis
;------------------------------------------------------------------------

;----------------------------------------------------------------------
;----------------------------------------------------------------------
;Mouth Ball
[Statedef 3500]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 3500
poweradd = -300

[State 1000, 1]
type=PlaySnd
trigger1 = time = 20
value= s3, 0
volume = 10

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 1,3
volume = 50


[State 1000, Explod]
type = Explod
trigger1 = time = 20
anim =  3550
ID = 3550
pos = 30,-55
postype = p1
facing = 1
vfacing = 1
bindtime = 50
scale = 0.7,0.7
Ontop = 1
removetime = -1
removeongethit = 1


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 50
value = 1000
;elem = 1
;ignorehitpause =
;persistent =


[State 700:		Helper]
type		= Helper
trigger1	= (AnimElem = 4)
helpertype	= Normal
name		= "Mouth Ball"
id		= 3551
pos		= 35,-55
postype		= p1
facing		= 1
stateno		= 3551
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.7
size.yscale     = 0.7

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = (AnimElem = 4)
id = 3550
;ignorehitpause =
;persistent =


[State 1000, 4]
type =  ChangeState
trigger1 = Time = 104
value =  0
ctrl= 1


;-----------------------------------------------
;Mouth Ball Projectile
[Statedef 3551]
movetype	= A
anim		= 3551
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 1001:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 1001: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 1001:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 1001:	MakeDust]
;type			= MakeDust
;trigger1		= (Vel Y = 0)
;pos 			= 0,60
;spacing 		= 2


[State 1001:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 3
;y			=  0(IfElse((time%10=0),-0.5,(IfElse((time%5=0),0.5,0))))

[State 1001:	VelMul]
type		= Velset
trigger1	= (time%5=0)
y		= 2

[State 1001:	VelMul]
type		= VelSet
trigger1	= (time%20=0)
y		= -5

[State 1001:	VelMul]
type		= VelSet
trigger1	= (time%55=0)
y		= 2

[State 1001:	VelMul]
type		= VelSet
trigger1	= (time%60=0)
y		= -5



[State 1001:	AfterImage]
type		= AfterImage
trigger1	= (!Time)
time 		= 200
timegap		= 2
framegap 	= 3
length 		= 5
paladd 		= 0, 0, 0
palmul 		= .50, 0, .50
palcontrast 	= 100,50,150
trans 		= add

[State 1001:	Hitdef]
type            = Hitdef
trigger1        = animelem = 1 || animelem = 4 || animelem = 7
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 17,5
pausetime	= 10,15
sparkno		= -1;S1006
;sparkxy		= 15,-18
;guard.sparkxy   = 30, 20
guard.sparkno	= -1;S1006
hitsound	= s3,3
guardsound	= s3,3
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= -4,-3
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 120,50,256
palfx.add	= 200,50,10
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 1000, Explod]
type = Explod
trigger1 = animelem = 1
anim =  3552
ID = 3552
pos = 15,-5
;postype = p1
facing = -1
vfacing = -1
bindtime = 5
scale = 0.5,0.5
Ontop = 1
removetime = 16

[State 1000, Explod]
type = Explod
trigger1 = animelem = 4
anim =  3552
ID = 3552
pos = 10,10
;postype = p1
facing = 1
vfacing = 1
bindtime = 5
scale = 0.5,0.5
Ontop = 1
removetime = 16

[State 1000, Explod]
type = Explod
trigger1 = animelem = 7
anim =  3552
ID = 3552
pos = 5,-10
;postype = p1
facing = 1
vfacing = 1
bindtime = 5
scale = 0.5,0.5
Ontop = 1
removetime = 16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s3,1
volume = 50

[State 1001:	DestroySelf]
type			= DestroySelf
trigger1 		= time = 120;(Parent, NumProjID(1002) = 0)



;===================================================================================
;---------------- SUPERS -------------------------------------------------------
;===================================================================================
;Nova
[Statedef 4000]
type = S
movetype = A
physics = S
ctrl = 0
anim = 730
velset = 0,0,0

[State 4000:    SuperPause]
type 		= SuperPause
trigger1 	= (!Time)
time 		= 95
anim 		= -1
sound 		= -1
pos 		= 0,0
movetime 	= 95


[State 4000:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 1, > 0) && ((GameTime%10) = 0)
time			= 70
freq			= 120
ampl			= -2
phase			= 90

[State 4000]
type = playsnd
trigger1 = AnimElem = 1
value = s3,7
volume = 10
channel = 1

[State 4000]
type = playsnd
trigger1 = AnimElem = 1
value = s1,10
volume = 100
channel = 2

[State 4000, Aura]
type = Explod
trigger1 = AnimElem = 1
anim = 6000
ID = 6000
pos = 0, -60
sprpriority = 1
removetime = 28
bindtime = -1
ownpal = 0
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 4000, Aura]
type = Explod
trigger1 = AnimElem = 2
anim = 731
ID = 731
pos = 0, 0
sprpriority = 1
removetime = -1
bindtime = -1
ownpal = 1
scale = 0.5,0.5
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 4000]
type = playsnd
trigger1 = animelem = 2
value = s3, 2
volume = 50
channel = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 40
value = 4000
elem = 1
ignorehitpause = 1
;persistent =

[State 4000]
type = playsnd
trigger1 = time = 40
value = s3,6
volume = 10
channel = 3

[State 4000, Charge Ball]
type = Explod
trigger1 = time = 40
anim = 4099
ID = 4099
pos = 57,-54
sprpriority = -1
removetime = -1
bindtime = -1
ownpal = 1
scale = 0.5, 0.5
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1



[State 4000, 0]
type = RemoveExplod
ID = 731
trigger1 = time = 108

[State 4000, 0]
type = RemoveExplod
ID = 4099
trigger1 = time = 108

;[State 4000:	StopSnd]
;type			= StopSnd
;trigger1 = time = 108
;channel		= 1

[State 4000, 11]
type = ChangeState
trigger1 = time = 108
value = 4001
;-----------------------------------------------------------------------------------------------
; Nova (Attack!)
[Statedef 4001]
type = S
movetype = A
physics = S
;ctrl = 0
anim = 4001
poweradd = -1000
velset = 0,0,0

[State 4001]
type = playsnd
trigger1 = time = 1
value = 1,3

[State 4001, VelAdd]
type = VelAdd
trigger1 = animelem = 1
x = -10

[State 4001, MakeDust]
type = MakeDust
trigger1 = 1
pos = 3,0
spacing = 2

[State 4000]
type = playsnd
trigger1 = (AnimElem = 1)
value = s3,1
volume = 50
channel = 1

[State 4000, Nova Run]
type = Explod
trigger1 = (AnimElem = 1)
anim = 4101
ID = 4101
pos = 57,-54
sprpriority = -1
removetime = 22
bindtime = -1
ownpal = 1
scale = 0.7, 0.7
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 4001:    Helper]
type            = Helper
trigger1        = (AnimElem = 1)
helpertype	= normal
name		= "Nova Projectile"
id              = 4100
pos		= 25,-15
postype         = p1
facing		= 1
stateno	        = 4100
keyctrl	        = 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= 0.8
size.yscale	= 0.8
shadow          = 0


[State 4001, 6]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------
; Nova Projectile
[Statedef 4100]
type            = S
movetype        = A
physics         = S
anim            = 4100
velset          = 0,0,0
ctrl            = 0
poweradd        = 0
juggle          = 0
facep2          = 0
hitdefpersist   = 0
movehitpersist  = 0
hitcountpersist = 0
sprpriority     = 5
;---------------

[State 0:    Velset]
type            = VelSet
trigger1        = (Time > 1)
x               = 3
y               = 0

[State 0:    Veladd]
type            = Veladd
trigger1        = (Time > 5)
x               = 0.1

[State 0:    NotHitBy]
type            = NotHitBy
trigger1        = (Time > 0)
time            = 1
value           = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause  = 1

[State 0:    HitBy]
type            = HitBy
trigger1        = (Time > 0)
value           = SCA, NP, SP, HP
time            = 1
ignorehitpause  = 1

[State 0:    HitOverride]
type            = HitOverride
trigger1        = (Time > 0)
slot            = 1
time            = 1
stateno         = 8525
attr            = SCA, NP, SP, HP
ignorehitpause  = 1

[State 100: 	AfterImage]
type 		= AfterImage
trigger1 	= 1;(Time = 3)
time 		= 15
timegap		= 2
framegap 	= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, 0, .50
palcontrast 	= 100,50,150
trans 		= add

;---------------
;Hit Details
;---------------

[State      0: 	HitDef]
type            = HitDef
trigger1        = (1)
attr            = S, NP
hitflag         = MAF
guardflag       = MAF
animtype        = Light
air.animtype    = Light
priority        = 4, Hit
damage          = 100, 30
pausetime       = 0, 15
guard.pausetime = 0, 15
sparkno         = -1
guard.sparkno   = 1006
sparkxy         = 0,60
hitsound        = s3, 4
guardsound      = s3, 4
ground.slidetime = 7
ground.hittime  = 7
guard.hittime   = 7
air.hittime     = 7
ground.velocity = 0, -6
air.velocity    = 0, -4
air.juggle      = 1
fall            = 1
fall.recover    = 0
fall.damage     = 0
air.fall        = 1
down.velocity   = -7, 1
down.hittime    = 0
down.bounce     = 1
ID              = 4100
chainID         = -1
numhits         = 1
getpower        = 10, 0
givepower       = 35, 0
palfx.time	= 25
palfx.mul	= 120,50,256
palfx.add	= 200,50,10
palfx.sinadd 	= 175,25,5,4
envshake.time   = 10
envshake.freq   = 60
envshake.ampl   = -2
envshake.phase  = 1

[State 3002:    Helper]
type            = Helper
trigger1        = ifelse((Moveguarded = 1),(time = 100),(movehit = 1))
helpertype	= normal
name		= "Nova Explode"
id              = 4150
pos		= 55,33
postype         = p1
facing		= 1
stateno	        = 4150
keyctrl	        = 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= 0.7
size.yscale	= 0.7
shadow          = 0


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow



;---------------

[State 0:    Sound Stop]
type            = StopSnd
trigger1        = (Movehit)
channel         = 2

;---------------
[State 0:    End]
type            = ChangeState
trigger1        = (movecontact)
value           = 4101

[State 0:    End]
type            = ChangeState
trigger1        = (moveguarded) || ((frontedgedist <= -75) || (backedgedist <= -75))
value           = 73526

;-------------------------------

; Nova Destroy 1
[Statedef 4101]
type            = S
movetype        = I
physics         = S
anim            = 1006
velset          = 0,0,0
ctrl            = 0
poweradd        = 0
juggle          = 0
facep2          = 0
hitdefpersist   = 0
movehitpersist  = 0
hitcountpersist = 0
sprpriority     = 4
;---------------

[State 0:    Shake]
type            = EnvShake
trigger1        = 1
time            = 6
freq            = 60
ampl            = -4
phase           = 4

;---------------
;Effects
;---------------

[State 0:     Hitspark]
type            = Explod
trigger1        = (!Time)
anim            = 1006
ID              = 1006
pos             = 0,-60
postype         = p1
facing          = 1
vfacing         = 1
bindtime        = 1
vel             = 0,0
accel           = 0,0
random          = 0,0
removetime      = -2
supermove       = -1
pausemovetime   = -1
scale           = 1.5, 1.5
sprpriority     = 0
ontop           = 1
shadow          = 0,0,0
ownpal          = 1
ignorehitpause  = 1


;---------------

[State 0:    Remove]
type            = RemoveExplod
trigger1        = (!Time)
id 		= 1005


[State 0:    Remove]
type            = RemoveExplod
trigger1        = (!Time)
id              = 73525

;---------------
[State 0:    Done]
type            = DestroySelf
trigger1        = (!Time)

;---------------------------------------------------------------------------
; Nova Destroy 0
[Statedef 73526]
type            = S
movetype        = I
physics         = N
anim            = 1006
velset          = 0,0,0
ctrl            = 0
poweradd        = 0
juggle          = 0
facep2          = 0
hitdefpersist   = 0
movehitpersist  = 0
hitcountpersist = 0
sprpriority     = 0

[State 0:    RemoveExplod]
type            = RemoveExplod
trigger1        = (!Time)

;---------------
[State 0:    DestroySelf]
type            = DestroySelf
trigger1        = (!Time)


;======================================================================
; Nova Explode
[Statedef 4150]
type            = S
movetype        = A
physics         = S
anim            = 4150
velset          = 0,0,0
ctrl            = 0
poweradd        = 0
juggle          = 0
facep2          = 0
hitdefpersist   = 0
movehitpersist  = 0
hitcountpersist = 0
sprpriority     = 5
;---------------

[State 0:    NotHitBy]
type            = NotHitBy
trigger1        = (Time > 0)
time            = 1
value           = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause  = 1

[State 0:    HitBy]
type            = HitBy
trigger1        = (Time > 0)
value           = SCA, NP, SP, HP
time            = 1
ignorehitpause  = 1

[State 0:    HitOverride]
type            = HitOverride
trigger1        = (Time > 0)
slot            = 1
time            = 1
stateno         = 8525
attr            = SCA, NP, SP, HP
ignorehitpause  = 1

;---------------
;Hit Details
;---------------

[State      4150: 	HitDef]
type            = HitDef
trigger1        = Animelem = 7 || Animelem = 9 || Animelem = 11
attr            = S, NP
hitflag         = MAF
guardflag       = MAF
animtype        = Light
air.animtype    = Light
priority        = 4, Hit
damage          = 20, 5
pausetime       = 12, 8
guard.pausetime = 12, 8
sparkno         = -1
guard.sparkno   = -1
sparkxy         = 0, -50
hitsound        = s0, 6
guardsound      = s0, 6
ground.slidetime = 7
ground.hittime  = 7
guard.hittime   = 7
air.hittime     = 7
ground.velocity = 0, -5
air.velocity    = 0, -4
air.juggle      = 1
fall            = 1
fall.recover    = 0
fall.damage     = 0
air.fall        = 1
down.velocity   = -7, 1
down.hittime    = 0
down.bounce     = 1
ID              = 123
chainID         = -1
numhits         = 1
getpower        = 10, 0
palfx.time	= 25
palfx.mul	= 120,50,256
palfx.add	= 200,50,10
palfx.sinadd 	= 175,25,5,4
;envshake.time   = 10
;envshake.freq   = 60
;envshake.ampl   = -2
;envshake.phase  = 1


[State 4000, Aura]
type = Explod
trigger1 = movecontact = 1
anim = 1006
ID = 1006
postype = p1
pos = 0, -60
sprpriority = 1
removetime = 24
bindtime = -1
;ownpal = 1
scale = 0.8,0.8
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
trans = add

[State 4000, Aura]
type = Explod
trigger1 = Animelem = 2 || Animelem = 7 || Animelem = 10;(anim = 4150) && time % 10 = 0
anim = 4151
ID = 4151
;postype = p2
pos = 0, -70
vel = 0,2.6
sprpriority = 10
removetime = 22
bindtime = 1;82
;ownpal = 1
scale = 0.95,0.9
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
shadow = 0,0,0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 94
id = 4151


[State 4000, Aura]
type = Explod
trigger1 = Animelem = 2 || Animelem = 7 || Animelem = 9 || Animelem = 11;(anim = 4150) && time % 10 = 0
anim = 3106
ID = 3106
;postype = p2
pos = 0, -5
sprpriority = 1
removetime = 10
bindtime = 1;82
;ownpal = 1
scale = 1.1,1.0
removeongethit = 1
;ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
shadow = 0,0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =  time = 82
value = 4152
elem = 1
;ignorehitpause =
;persistent =

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 98
;ignorehitpause =
;persistent =



;---------------------------------------------------------------------------
;-------------------------------------------------------------------------
;Mouth Blast
[Statedef 8000]
type = A
movetype = A
physics = A
ctrl = 0
anim = 8000
velset = 0,0,0


[State 0, VelSet]
type = VelSet
trigger1 = (time)
x = 0
y = 0
;ignorehitpause =
;persistent =

[State 4000:    SuperPause]
type 		= SuperPause
trigger1 	= (!Time)
time 		= 95
anim 		= -1
sound 		= -1
pos 		= 0,0
movetime 	= 95


[State 4000:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 1, > 0) && ((GameTime%10) = 0)
time			= 70
freq			= 120
ampl			= -2
phase			= 90

[State 4000]
type = playsnd
trigger1 = AnimElem = 1
value = s3,7
volume = 10
channel = 1

[State 4000]
type = playsnd
trigger1 = AnimElem = 1
value = s1,10
volume = 100
channel = 2

[State 4000, Aura]
type = Explod
trigger1 = AnimElem = 1
anim = 6000
ID = 6000
pos = -20, -60
sprpriority = 1
removetime = 28
bindtime = -1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 4000, Aura]
type = Explod
trigger1 = AnimElem = 2
anim = 731
ID = 731
pos = 0, -20
sprpriority = 1
removetime = -1
bindtime = -1
ownpal = 1
scale = 0.4,0.4
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 4000]
type = playsnd
trigger1 = animelem = 2
value = s3, 2
volume = 50
channel = 4

[State 4000]
type = playsnd
trigger1 = time = 40
value = s3,6
volume = 10
channel = 3

[State 4000, Charge Ball]
type = Explod
trigger1 = time = 30
anim = 4099
ID = 4099
pos = -20,-54
sprpriority = -1
removetime = -1
bindtime = -1
ownpal = 1
scale = 0.5, 0.5
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1



[State 4000, 0]
type = RemoveExplod
ID = 731
trigger1 = time = 108

[State 4000, 0]
type = RemoveExplod
ID = 4099
trigger1 = time = 108

;[State 4000:	StopSnd]
;type			= StopSnd
;trigger1 = time = 108
;channel		= 1

[State 4000, 11]
type = ChangeState
trigger1 = time = 108
value = 8001
ctrl = 0
;-----------------------------------------------------------------------------------------------
; Mouth Blast(Attack!)
[Statedef 8001]
type = A
movetype = A
physics = A
ctrl = 0
anim = 8100
poweradd = -1000
velset = 0,0,0

[State 0, VelSet]
type = VelSet
trigger1 = (time)
x = 0
y = 0
;ignorehitpause =
;persistent =

[State 4001]
type = playsnd
trigger1 = time = 1
value = 1,3

[State 4000]
type = playsnd
trigger1 = (AnimElem = 1)
value = s3,1
volume = 50
channel = 1

[State 4000, Mouth Blast Explod]
type = Explod
trigger1 = (AnimElem = 1)
anim = 8300
ID = 8300
pos = 5,-65
sprpriority = 10
removetime = 76
bindtime = -1
ownpal = 1
scale = 0.8, 0.7
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 4001:    Helper]
type            = Helper
trigger1        = (AnimElem = 1)
helpertype	= normal
name		= "Mouth Blast"
id              = 8200
pos		= 5,-65
postype         = p1
facing		= 1
stateno	        = 8200
keyctrl	        = 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= 0.8
size.yscale	= 0.7
shadow          = 0


[State 8001, 6]
type = ChangeState
trigger1 = time = 76 ;numhelper(8200) = 0
value = 50
ctrl = 1
;---------------------------------------
; Mouth Blast Ray
[Statedef 8200]
type            = S
movetype        = A
physics         = S
anim            = 8200
velset          = 0,0,0
ctrl            = 0
poweradd        = 0
juggle          = 0
facep2          = 0
hitdefpersist   = 0
movehitpersist  = 0
hitcountpersist = 0
sprpriority     = 10
;---------------

[State 0:    NotHitBy]
type            = NotHitBy
trigger1        = (Time > 0)
time            = 1
value           = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause  = 1

[State 0:    HitBy]
type            = HitBy
trigger1        = (Time > 0)
value           = SCA, NP, SP, HP
time            = 1
ignorehitpause  = 1

[State 0:    HitOverride]
type            = HitOverride
trigger1        = (Time > 0)
slot            = 1
time            = 1
stateno         = 8525
attr            = SCA, NP, SP, HP
ignorehitpause  = 1

;[State 100: 	AfterImage]
;type 		= AfterImage
;trigger1 	= 1;(Time = 3)
;time 		= 15
;timegap		= 2
;framegap 	= 2
;length 		= 10
;paladd 		= 0, 0, 0
;palmul 		= .50, 0, .50
;palcontrast 	= 100,50,150
;trans 		= add

;---------------
;Hit Details
;---------------

[State      0: 	HitDef]
type            = HitDef
trigger1        = (1)
attr            = S, NP
hitflag         = MAF
guardflag       = MAF
animtype        = Light
air.animtype    = Light
priority        = 4, Hit
damage          = 35, 5
pausetime       = 5, 3
guard.pausetime = 5, 3
sparkno         = S1005
guard.sparkno   = s1005
sparkxy         = 0,60
hitsound        = s3, 4
guardsound      = s3, 4
ground.slidetime = 7
ground.hittime  = 7
guard.hittime   = 7
air.hittime     = 7
ground.velocity = -5, -6
air.velocity    = -5, -6
air.juggle      = 1
fall            = 1
fall.recover    = 0
fall.damage     = 0
air.fall        = 1
down.velocity   = -7, 1
down.hittime    = 0
down.bounce     = 1
ID              = 4100
chainID         = -1
numhits         = 1
getpower        = 10, 0
givepower       = 35, 0
palfx.time	= 25
palfx.mul	= 120,50,256
palfx.add	= 200,50,10
palfx.sinadd 	= 175,25,5,4
envshake.time   = 10
envshake.freq   = 60
envshake.ampl   = -2
envshake.phase  = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = (TIME)
time = 76
facing = 0
pos = 5,-65
;ignorehitpause =
;persistent =

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 0, DestroySelf]
type = DestroySelf
trigger1 = hitcount >= 10
trigger2 = time = 76
;ignorehitpause =
;persistent =  2

;---------------------------------------------------------------------------
;-----------------------------------------------------------------------------------------------
;Psycko Quake - Charge
[Statedef 8400]
type = S
movetype = A
physics = S
ctrl = 0
anim = 8400
velset = 0,0,0
poweradd = -2000
sprpriority = -1

[State 4000:    SuperPause]
type 		= SuperPause
trigger1 	= (!Time)
time 		= 100
anim 		= -1
sound 		= -1
pos 		= 0,0
movetime 	= 100
unhittable  = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = (time = 0)
time = 140
freq = 180
ampl = -4

;[State 4000:	EnvShake]
;type			= EnvShake
;trigger1 		= (AnimElem = 1, > 0) && ((GameTime%10) = 0)
;time			= 28
;freq			= 120
;ampl			= -2
;phase			= 90

[State 4000]
type = playsnd
trigger1 = AnimElem = 1
value = s3,7
volume = 10
channel = 1

[State 4000]
type = playsnd
trigger1 = AnimElem = 1
value = s1,10
volume = 100
channel = 2

[State 4000, Aura]
type = Explod
trigger1 = AnimElem = 1
anim = 6000
ID = 6000
pos = 0, -60
sprpriority = 1
removetime = 28
bindtime = -1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 4000, Aura]
type = Explod
trigger1 = AnimElem = 1
anim = 731
ID = 731
pos = 0, 0
sprpriority = 1
removetime = -1
bindtime = -1
ownpal = 1
scale = 0.5,0.5
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 4000]
type = playsnd
trigger1 = animelem = 2
value = s3, 2
volume = 50
channel = 4

[State 4000]
type = playsnd
triggerall = time < 160
trigger1 = time % 25 = 0
value = s3,5
volume = 50
channel = 3

[State 8400, electrcity 1]
type = Explod
trigger1 = time = 16
anim = 8450
ID = 8450
pos = -15, -5
sprpriority = 2
removetime = 515
bindtime = 1
ownpal = 1
scale = 0.5,1
removeongethit = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 8400, electrcity 2]
type = Explod
trigger1 = time = 10
anim = 8451
ID = 8451
pos = 7, -60
sprpriority = 2
removetime = 525
bindtime = 1
ownpal = 1
scale = 0.5,0.7
removeongethit = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 8400, electrcity 3]
type = Explod
trigger1 = time = 20
anim = 8452
ID = 8452
pos = 10, -10
sprpriority = 2
removetime = 520
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 8400, electrcity 4]
type = Explod
trigger1 = time = 19
anim = 8453
ID = 8453
pos = -20, -5
sprpriority = 2
removetime = 530
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 8400, Piedras ABCD]
type = Explod
trigger1 = AnimElem = 2
anim = 8500
ID = 8500
pos = 0, 20
sprpriority = -1
;removetime = 28
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 4001:    Helper]
type            = Helper
trigger1        = time = 46
helpertype	= normal
name		= "Piedras A"
id              = 8551
pos		= -20, 25
postype         = p1
facing		= 1
stateno	        = 8551
keyctrl	        = 0
ownpal		= 1
size.xscale	= 1
size.yscale	= 1
shadow          = 0
pausemovetime	= 0
supermovetime 	= 140
;ignorehitpause  = 1

[State 4001:    Helper]
type            = Helper
trigger1        = time = 46
helpertype	= normal
name		= "Piedras B"
id              = 8561
pos		= 50,25
postype         = p1
facing		= 1
stateno	        = 8561
keyctrl	        = 0
ownpal		= 1
size.xscale	= 1
size.yscale	= 1
shadow          = 0
pausemovetime	= 0
supermovetime 	= 140
;ignorehitpause  = 1

[State 4001:    Helper]
type            = Helper
trigger1        = time = 46
helpertype	= normal
name		= "Piedras C"
id              = 8571
pos		= -70, 25
postype         = p1
facing		= 1
stateno	        = 8571
keyctrl	        = 0
ownpal		= 1
size.xscale	= 1
size.yscale	= 1
shadow          = 0
pausemovetime	= 0
supermovetime 	= 140
;ignorehitpause  = 1

[State 4001:    Helper]
type            = Helper
trigger1        = time = 46
helpertype	= normal
name		= "Piedras D"
id              = 8581
pos		= 0,25
postype         = p1
facing		= 1
stateno	        = 8581
keyctrl	        = 0
ownpal		= 1
size.xscale	= 1
size.yscale	= 1
shadow          = 0
pausemovetime	= 0
supermovetime 	= 140
;ignorehitpause  = 1

[State 4000, 0]
type = RemoveExplod
ID = 731
trigger1 = time = 140

[State 4000, 0]
type = RemoveExplod
ID = 8451
triggerall = time > 120
trigger1 = numhelper(8551) = 0

[State 4000, 0]
type = RemoveExplod
ID = 8450
triggerall = time > 120
trigger1 = numhelper(8561) = 0

[State 4000, 0]
type = RemoveExplod
ID = 8452
triggerall = time > 120
trigger1 = numhelper(8571) = 0

[State 4000, 0]
type = RemoveExplod
ID = 8453
triggerall = time > 120
trigger1 = numhelper(8581) = 0

[State 4000:	StopSnd]
type	= StopSnd
trigger1 = time = 140
channel	= 3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0


[State 8402, 11]
type = ChangeState
triggerall = time >= 140 &&  numhelper(8571) = 0 && numhelper(8581) = 0
trigger1 = (Command = "a" || Command = "b")
value = 8403

[State 8402, 11]
type = ChangeState
triggerall = time >= 140 &&  numhelper(8571) = 0 && numhelper(8581) = 0 && numhelper(8561) = 0
trigger1 = (Command = "a" || Command = "b")
value = 8404


[State 4000, 11]
type = ChangeState
triggerall = time >= 140
trigger1 = Command = "a" || Command = "b"
value = 8402


[State 8402, 11]
type = ChangeState
triggerall = time >= 140 && numhelper(8571) = 0 && numhelper(8581) = 0 && numhelper(8561) = 0 && numhelper(8551) = 0
trigger1 =  animtime = 0
value = 0
ctrl = 1


;-----------------------------------------------------------------------------------------------
;Psycko Quake - Lanzamiento Piedras C y D
[Statedef 8402]
type = S
movetype = A
physics = S
ctrl = 0
anim = 8402
velset = 0,0,0
sprpriority = -1

[State 8402:    Helper]
type            = Helper
trigger1        = animelem = 3
helpertype	= normal
name		= "Piedras C y D - ad hoc"
id              = 8543
pos		= 0,-10
postype         = p1
facing		= 1
stateno	        = 8543
keyctrl	        = 0
ownpal		= 1
pausemovetime	= 1
size.xscale	= 1
size.yscale	= 1
shadow          = 0
supermovetime 	= 999
ignorehitpause  = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,9
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,2
volume = 50

[State 4000, 0]
type = RemoveExplod
ID = 8451
trigger1 = numhelper(8551) = 0

[State 4000, 0]
type = RemoveExplod
ID = 8450
trigger1 = numhelper(8561) = 0

[State 4000, 0]
type = RemoveExplod
ID = 8452
trigger2 = animelem = 3
trigger1 = numhelper(8571) = 0

[State 4000, 0]
type = RemoveExplod
ID = 8453
trigger1 = animelem = 3
trigger2 = numhelper(8581) = 0

[State 8402, 11]
type = ChangeState
triggerall = time >= 50 &&  numhelper(8561) = 0
trigger1 = (Command = "a" || Command = "b")
value = 8404

[State 8402, 11]
type = ChangeState
triggerall =  numhelper(8551) = 0 &&  numhelper(8561) = 0
trigger1 = (animtime = 0)
value = 0
ctrl = 1

[State 8402, 11]
type = ChangeState
triggerall = numhelper(8551) = 0 &&  numhelper(8561) = 0 &&  numhelper(8571) = 0
trigger1 = (animtime = 0)
value = 0
ctrl = 1

[State 8402, 11]
type = ChangeState
triggerall =  numhelper(8551) = 0 &&  numhelper(8561) = 0 &&  numhelper(8581) = 0
trigger1 = (animtime = 0)
value = 0
ctrl = 1

[State 8402, 11]
type = ChangeState
triggerall = time >= 40
trigger1 = Command = "a" || Command = "b"
value = 8403
;-----------------------------------------------------------------------------------------------
; Piedras C
[Statedef 8571]
type            = S
movetype        = A
physics         = S
anim            = 8571
ctrl            = 0
poweradd        = 0
juggle          = 0
facep2          = 0
hitdefpersist   = 0
movehitpersist  = 0
hitcountpersist = 0
sprpriority     = 10
;---------------

[State 0:    NotHitBy]
type            = NotHitBy
trigger1        = (Time > 0)
time            = 1
value           = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause  = 1

[State 0:    HitBy]
type            = HitBy
trigger1        = (Time > 0)
value           = SCA, NP, SP, HP
time            = 1
ignorehitpause  = 1

;[State 0:    HitOverride]
;type            = HitOverride
;trigger1        = (Time > 0)
;slot            = 1
;time            = 1
;stateno         = 8525
;attr            = SCA, NP, SP, HP
;ignorehitpause  = 1

;---------------
;Hit Details
;---------------

[State      0: 	HitDef]
type            = HitDef
trigger1        = time > 100
attr            = S, NP
hitflag         = MAF
guardflag       = MAF
animtype        = Light
air.animtype    = Light
priority        = 4, Hit
damage          = 50, 10
pausetime       = 1, 15
guard.pausetime = 1, 15
sparkno         = -1
guard.sparkno   = -1
;hitsound        = s3,15
;guardsound      = s3,15
ground.slidetime = 7
ground.hittime  = 7
guard.hittime   = 7
air.hittime     = 7
ground.velocity = -5, -7
air.velocity    = -5, -7
air.juggle      = 1
fall            = 1
fall.recover    = 0
fall.damage     = 0
air.fall        = 1
numhits         = 1
getpower        = 10, 0
givepower       = 35, 0
envshake.time   = 10
envshake.freq   = 60
envshake.ampl   = -2
envshake.phase  = 1

[State 0, VelSet]
type = VelSet
triggerall = time < 170
trigger1 = animelem = 1, >= 0
x = 0.4
y = -1.2

[State 0, VelSet]
type = VelSet
;triggerall = animelem = 1, >= 0
trigger1 = pos y <= -105
x = 0
y = 0

[State 0, VelSet]
type = VelSet
;triggerall = animelem = 1, >= 0
trigger1 = numhelper(8543) = 1
x = 10
y = (IfElse((Parent,Command = "holdup"),-5,(IfElse((Parent,Command = "holddown"),5,0))))

[State 0, VelSet]
type = VelSet
trigger1 = time > 493
trigger1 = animelem = 1, >= 0
trigger2 = parent, vel x != 0
trigger3 = parent, ctrl = 1
x = 0
y = 7

[State 41, AfterImage]
type = AfterImage
trigger1 = animelem = 1
trigger2 = Parent,Command = "a" || Parent,Command = "b"
time = 60
length = 15
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,50,150
palmul 	= .40, 0, .80
paladd = 0,0,0
timegap = 4
framegap = 1
trans = Add
;ignorehitpause = 0
;persistent = 1


[State 8400, Piedras C - Explode]
type = Explod
trigger1 = Movecontact = 1
anim = 8572
ID = 8572
postype = P2
pos = 0, -20
vel = 5, 2
;sprpriority = 1
removetime = 9
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 0, PlaySnd]
type = PlaySnd
triggerall = time > 50
trigger1 = Movecontact = 1
trigger2 = pos y >= 0
value = S3,13
volume = 50

[State 8400, Piedras C - Explode Suelo]
type = Explod
triggerall = time > 50
trigger1 = pos y >= 0
anim = 8572
ID = 8572
postype = P1
pos = -5, -20
vel = 2, -1
;sprpriority = 1
removetime = 9
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 0, DestroySelf]
type = DestroySelf
triggerall = time > 50
trigger1 = Movecontact = 1
trigger2 = pos y >= 0
trigger3 = pos x = 200
trigger3 = pos x = -200
;-----------------------------------------------------------------------------------------------
; Piedras D
[Statedef 8581]
type            = S
movetype        = A
physics         = S
anim            = 8581
ctrl            = 0
poweradd        = 0
juggle          = 0
facep2          = 0
hitdefpersist   = 0
movehitpersist  = 0
hitcountpersist = 0
sprpriority     = 10
;---------------

[State 0:    NotHitBy]
type            = NotHitBy
trigger1        = (Time > 0)
time            = 1
value           = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause  = 1

[State 0:    HitBy]
type            = HitBy
trigger1        = (Time > 0)
value           = SCA, NP, SP, HP
time            = 1
ignorehitpause  = 1

;[State 0:    HitOverride]
;type            = HitOverride
;trigger1        = (Time > 0)
;slot            = 1
;time            = 1
;stateno         = 8525
;attr            = SCA, NP, SP, HP
;ignorehitpause  = 1

;---------------
;Hit Details
;---------------

[State      0: 	HitDef]
type            = HitDef
trigger1        = time > 100
attr            = S, NP
hitflag         = MAF
guardflag       = MAF
animtype        = Light
air.animtype    = Light
priority        = 4, Hit
damage          = 70, 10
pausetime       = 1, 15
guard.pausetime = 1, 15
sparkno         = -1
guard.sparkno   = -1
;hitsound        = s3,15
;guardsound      = s3,15
ground.slidetime = 7
ground.hittime  = 7
guard.hittime   = 7
air.hittime     = 7
ground.velocity = -5, -7
air.velocity    = -5, -7
air.juggle      = 1
fall            = 1
fall.recover    = 0
fall.damage     = 0
air.fall        = 1
numhits         = 3
getpower        = 10, 0
givepower       = 35, 0
envshake.time   = 10
envshake.freq   = 60
envshake.ampl   = -2
envshake.phase  = 1

[State 0, VelSet]
type = VelSet
triggerall = time < 170
trigger1 = animelem = 1, >= 0
x = 0.2
y = -1

[State 0, VelSet]
type = VelSet
;triggerall = animelem = 1, >= 0
trigger1 = pos y <= -100
x = 0
y = 0

[State 0, VelSet]
type = VelSet
;triggerall = animelem = 1, >= 0
trigger1 = numhelper(8543) = 1
x = 8
y = (IfElse((Parent,Command = "holdup"),-5,(IfElse((Parent,Command = "holddown"),3,0))))


[State 0, VelSet]
type = VelSet
trigger1 = time > 490
trigger1 = animelem = 1, >= 0
trigger2 = parent, vel x != 0
trigger3 = parent, ctrl = 1
x = 0
y = 7

[State 41, AfterImage]
type = AfterImage
trigger1 = animelem = 1
trigger2 = Parent,Command = "a" || Parent,Command = "b"
time = 60
length = 15
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,50,150
palmul 	= .40, 0, .80
paladd = 0,0,0
timegap = 4
framegap = 1
trans = Add
;ignorehitpause = 0
;persistent = 1

[State 8400, Piedras D - Explode]
type = Explod
trigger1 = Movecontact = 1
anim = 8582
ID = 8582
postype = P2
pos = -10, -10
vel = -2, -3
;sprpriority = 1
removetime = 21
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time > 50
trigger1 = Movecontact = 1
trigger2 = pos y >= 0
value = S3,13
volume = 50

[State 8400, Piedras D - Explode suelo]
type = Explod
triggerall = time > 50
trigger1 = pos y >= 0
anim = 8582
ID = 8582
postype = P1
pos = 0, -10
vel = 2, -0.5
;sprpriority = 1
removetime = 21
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 0, DestroySelf]
type = DestroySelf
triggerall = time > 50
trigger1 = Movecontact = 1
trigger2 = pos y >= 0
trigger3 = pos x = 200
trigger3 = pos x = -200

;-----------------------------------------------------------------------------------------------
;Psycko Quake - Piedras C y D - ad hoc
[Statedef 8543]
type = S
movetype = A
physics = S
ctrl = 0
anim = 8541
velset = 0,0,0


[State 0, DestroySelf]
type = DestroySelf
trigger1 = (Numhelper(8571) = 0) && (Numhelper(8581) = 0)
trigger2 = time = 150

;------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------
;-----------------------------------------------------------------------------------------------
;Psycko Quake - Lanzamiento Piedras B
[Statedef 8403]
type = S
movetype = A
physics = S
ctrl = 0
anim = 8403
velset = 0,0,0
sprpriority = -1

[State 4001:    Helper]
type            = Helper
trigger1        = animelem = 3
helpertype	= normal
name		= "Piedras B - ad hoc"
id              = 8542
pos		= 0,-10
postype         = p1
facing		= 1
stateno	        = 8542
keyctrl	        = 0
ownpal		= 1
pausemovetime	= 1
size.xscale	= 1
size.yscale	= 1
shadow          = 0
supermovetime 	= 999
ignorehitpause  = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,9
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,3
volume = 50

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 4000, 0]
type = RemoveExplod
ID = 8451
trigger1 = numhelper(8551) = 0

[State 4000, 0]
type = RemoveExplod
ID = 8450
trigger1 = animelem = 3
trigger2 = numhelper(8561) = 0

[State 4000, 0]
type = RemoveExplod
ID = 8452
trigger1 = animelem = 3
trigger2 = numhelper(8571) = 0

[State 4000, 0]
type = RemoveExplod
ID = 8453
trigger1 = animelem = 3
trigger2 = numhelper(8581) = 0

[State 8402, 11]
type = ChangeState
triggerall = time >= 50 &&  numhelper(8551) = 0
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 4000, 11]
type = ChangeState
triggerall = time >= 40
trigger1 = Command = "a" || Command = "b"
value = 8404
;-----------------------------------------------------------------------------------------------
; Piedras B
[Statedef 8561]
type            = S
movetype        = A
physics         = S
anim            = 8561
ctrl            = 0
poweradd        = 0
juggle          = 0
facep2          = 0
hitdefpersist   = 0
movehitpersist  = 0
hitcountpersist = 0
sprpriority     = 10
;---------------

[State 0:    NotHitBy]
type            = NotHitBy
trigger1        = (Time > 0)
time            = 1
value           = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause  = 1

[State 0:    HitBy]
type            = HitBy
trigger1        = (Time > 0)
value           = SCA, NP, SP, HP
time            = 1
ignorehitpause  = 1

;[State 0:    HitOverride]
;type            = HitOverride
;trigger1        = (Time > 0)
;slot            = 1
;time            = 1
;stateno         = 8525
;attr            = SCA, NP, SP, HP
;ignorehitpause  = 1

;---------------
;Hit Details
;---------------

[State      0: 	HitDef]
type            = HitDef
trigger1        = time > 100
attr            = S, NP
hitflag         = MAF
guardflag       = MAF
animtype        = Light
air.animtype    = Light
priority        = 4, Hit
damage          = 150, 20
pausetime       = 1, 20
guard.pausetime = 1, 20
sparkno         = -1
guard.sparkno   = -1
;hitsound        = s3,15
;guardsound      = s3,15
ground.slidetime = 7
ground.hittime  = 7
guard.hittime   = 7
air.hittime     = 7
ground.velocity = -5, -7
air.velocity    = -5, -7
air.juggle      = 1
fall            = 1
fall.recover    = 0
fall.damage     = 0
air.fall        = 1
numhits         = 3
getpower        = 10, 0
givepower       = 35, 0
envshake.time   = 15
envshake.freq   = 60
envshake.ampl   = -3
envshake.phase  = 1

[State 0, VelSet]
type = VelSet
triggerall = time < 170
trigger1 = animelem = 1, >= 0
x = -0.1
y = -1

[State 0, VelSet]
type = VelSet
trigger1 = pos y <= -95
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = numhelper(8542) = 1
x = 8
y = (IfElse((Parent,Command = "holdup"),-5,(IfElse((Parent,Command = "holddown"),5,0))))

[State 0, VelSet]
type = VelSet
trigger1 = time > 500
trigger1 = animelem = 6, >= 0
trigger2 = parent, vel x != 0
trigger3 = parent, ctrl = 1
x = 0.5
y = 7

[State 41, AfterImage]
type = AfterImage
trigger1 = animelem = 10
trigger2 = Parent,Command = "a" || Parent,Command = "b"
time = 60
length = 15
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,50,150
palmul 	= .40, 0, .80
paladd = 0,0,0
timegap = 4
framegap = 1
trans = Add
;ignorehitpause = 0
;persistent = 1


[State 8400, Piedras B - Explode]
type = Explod
trigger1 = Movecontact = 1
anim = 8562
ID = 8562
postype = P2
pos = 12, -20
vel = -2, -3
;sprpriority = 1
removetime = 18
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 8400, Piedras D - Explode]
type = Explod
trigger1 = Movecontact = 1
anim = 8582
ID = 8582
postype = P2
pos = -10, 5
vel = 2, -3
;sprpriority = 1
removetime = 21
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, destello]
type = EnvColor
trigger1 = movehit = 1 && ((GameTime%1) = 0)
value	= 200,150,255
time	= 1
;under = 0


[State 0, PlaySnd]
type = PlaySnd
triggerall = time > 50
trigger1 = Movecontact = 1
trigger2 = pos y >= 0
value = S3,14
volume = 50

[State 8400, Piedras B - Explode suelo]
type = Explod
triggerall = time > 50
trigger1 = pos y >= 0
anim = 8562
ID = 8562
postype = P1
pos = 0, -30
vel = 3, -3
;sprpriority = 1
removetime = 18
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 8400, Piedras D - Explode suelo]
type = Explod
triggerall = time > 50
trigger1 = pos y >= 0
anim = 8582
ID = 8582
postype = P1
pos = 0, -30
vel = -1, -3
;sprpriority = 1
removetime = 21
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 0, DestroySelf]
type = DestroySelf
triggerall = time > 50
trigger1 = Movecontact = 1
trigger2 = pos y >= 0
trigger3 = pos x = 200
trigger3 = pos x = -200
;-----------------------------------------------------------------------------------------------
;Psycko Quake - Piedras B - ad hoc
[Statedef 8542]
type = S
movetype = A
physics = S
ctrl = 0
anim = 8541
velset = 0,0,0


[State 0, DestroySelf]
type = DestroySelf
trigger1 = Numhelper(8561) = 0
trigger2 = time = 150

;------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------
;-----------------------------------------------------------------------------------------------
;Psycko Quake - Lanzamiento Piedras A
[Statedef 8404]
type = S
movetype = A
physics = S
ctrl = 0
anim = 8404
velset = 0,0,0
sprpriority = -1

[State 4001:    Helper]
type            = Helper
trigger1        = animelem = 3
helpertype	= normal
name		= "Piedras A - ad hoc"
id              = 8541
pos		= 0,-10
postype         = p1
facing		= 1
stateno	        = 8541
keyctrl	        = 0
ownpal		= 1
pausemovetime	= 1
size.xscale	= 1
size.yscale	= 1
shadow          = 0
supermovetime 	= 999
ignorehitpause  = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,9
volume = 50

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 190, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 3
value = 2,5

[State 190, Brillito]
type = Explod
trigger1 = time = 60
anim = 7005
ID = 7005
pos = 0, -10
sprpriority = 1
ownpal = 1
scale = 0.5,0.5
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 4000, 0]
type = RemoveExplod
ID = 8451
trigger1 = animelem = 3
trigger2 = numhelper(8551) = 0

[State 4000, 0]
type = RemoveExplod
ID = 8450
trigger1 = animelem = 3
trigger2 = numhelper(8561) = 0

[State 4000, 0]
type = RemoveExplod
ID = 8452
trigger1 = animelem = 3
trigger2 = numhelper(8571) = 0

[State 4000, 0]
type = RemoveExplod
ID = 8453
trigger1 = animelem = 3
trigger2 = numhelper(8581) = 0

[State 190, PlaySnd]
type = PlaySnd
trigger1 =  time = 60
value = 2,6

[State 4000, 11]
type = ChangeState
;triggerall = time >= 50
trigger1 = time = 90
value = 0
ctrl = 1
;-----------------------------------------------------------------------------------------------
; Piedras A
[Statedef 8551]
type            = S
movetype        = A
physics         = S
anim            = 8551
ctrl            = 0
poweradd        = 0
juggle          = 0
facep2          = 0
hitdefpersist   = 0
movehitpersist  = 0
hitcountpersist = 0
sprpriority     = 10
;---------------

[State 0:    NotHitBy]
type            = NotHitBy
trigger1        = (Time > 0)
time            = 1
value           = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause  = 1

[State 0:    HitBy]
type            = HitBy
trigger1        = (Time > 0)
value           = SCA, NP, SP, HP
time            = 1
ignorehitpause  = 1
ignorehitpause  = 1

;[State 0:    HitOverride]
;type            = HitOverride
;trigger1        = (Time > 0)
;slot            = 1
;time            = 1
;stateno         = 8525
;attr            = SCA, NP, SP, HP
;ignorehitpause  = 1

;---------------
;Hit Details
;---------------

[State      0: 	HitDef]
type            = HitDef
trigger1        = time > 100
attr            = S, NP
hitflag         = MAF
guardflag       = MAF
animtype        = Light
air.animtype    = Light
priority        = 4, Hit
damage          = 200, 20
pausetime       = 1, 20
guard.pausetime = 1, 20
sparkno         = -1
guard.sparkno   = -1
;hitsound        = s3,15
;guardsound      = s3,15
ground.slidetime = 7
ground.hittime  = 7
guard.hittime   = 7
air.hittime     = 7
ground.velocity = -5, -7
air.velocity    = -5, -7
air.juggle      = 1
fall            = 1
fall.recover    = 0
fall.damage     = 0
air.fall        = 1
numhits         = 2
getpower        = 10, 0
givepower       = 35, 0
envshake.time   = 15
envshake.freq   = 60
envshake.ampl   = -4
envshake.phase  = 1


[State 0, VelSet]
type = VelSet
triggerall = time < 170
trigger1 = animelem = 1, >= 0
x = 0.1
y = -1

[State 0, VelSet]
type = VelSet
trigger1 = pos y <= -85
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = numhelper(8541) = 1
x = 8
y = (IfElse((Parent,Command = "holdup"),-5,(IfElse((Parent,Command = "holddown"),3,0))))

[State 0, VelSet]
type = VelSet
trigger1 = time > 510
trigger1 = animelem = 6, >= 0
trigger2 = parent, vel x != 0
trigger3 = parent, ctrl = 1
x = -0.5
y = 7


[State 41, AfterImage]
type = AfterImage
trigger1 = animelem = 6
trigger2 = Parent,Command = "a" || Parent,Command = "b"
time = 60
length = 15
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,50,150
palmul 	= .40, 0, .80
paladd = 0,0,0
timegap = 4
framegap = 1
trans = Add
;ignorehitpause = 0
;persistent = 1




[State 8400, Piedras A - Explode]
type = Explod
trigger1 = Movecontact = 1
anim = 8562
ID = 8562
postype = P2
pos = 12, -20
vel = -2, -3
;sprpriority = 1
removetime = 18
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 8400, Piedras A - Explode]
type = Explod
trigger1 = Movecontact = 1
anim = 8572
ID = 8572
postype = P2
pos = 10, -10
vel =  5, 3
;sprpriority = 1
removetime = 9
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 0, destello]
type = EnvColor
trigger1 = movehit = 1 && ((GameTime%1) = 0)
value	= 200,150,255
time	= 1
;under = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = time > 50
trigger1 = Movecontact = 1
trigger2 = pos y >= 0
value = S3,15
volume = 50


[State 8400, Piedras B - Explode suelo]
type = Explod
triggerall = time > 50
trigger1 = pos y >= 0
anim = 8562
ID = 8562
postype = P1
pos = 0, -20
vel = 3, -4
;sprpriority = 1
removetime = 18
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 8400, Piedras C - Explode suelo]
type = Explod
triggerall = time > 50
trigger1 = pos y >= 0
anim = 8572
ID = 8572
postype = P1
pos = 0, -20
vel =  -2, -3
;sprpriority = 1
removetime = 9
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 0, DestroySelf]
type = DestroySelf
triggerall = time > 50
trigger1 = Movecontact = 1
trigger2 = pos y >= 0
trigger3 = pos x = 200
trigger3 = pos x = -200
;ignorehitpause =
;persistent =
;-----------------------------------------------------------------------------------------------
;Psycko Quake - Piedras A - ad hoc
[Statedef 8541]
type = S
movetype = A
physics = S
ctrl = 0
anim = 8541
velset = 0,0,0


[State 0, DestroySelf]
type = DestroySelf
trigger1 = Numhelper(8551) = 0
trigger2 = time = 150

