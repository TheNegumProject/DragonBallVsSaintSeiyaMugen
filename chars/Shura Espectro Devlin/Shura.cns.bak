
[Data]
life=1000
attack=150
defence=150
power=5000
fall.defence_up=40
liedown.time=60
airjuggle=15
sparkno=0,3
guard.sparkno=0,20
volume=255
echo = -1

[Size]
xscale=1
yscale=1
z.width=3        
ground.back=20        
ground.front=20       
air.back=12
air.front=11
height=0    
attack.width=0
attack.dist=160
proj.attack.dist=160
proj.doscale=0

[Movement]
yaccel=0.35
crouch.friction=0.8
stand.friction=0.8

[Velocity]
walk.fwd=2.7
walk.back=-2.5
run.fwd=8,0               
run.back=0,0
runjump.back=0,0
runjump.fwd=7,0
jump.neu=0,-10.6
jump.back=-3.7,0
jump.fwd=4.2,0
;--------------------------------------------------
; Scatto indietro
[Statedef 105]
type    = A
physics = A
ctrl = 1
anim = 105

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 105, 2]
type = CtrlSet
trigger1 = Time = 2
value = 1

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106
;-------------------------------------

;scatto
[Statedef 106]
type = A
movetype = I
physics = N
anim = 106
velset = -8,-3.5

[State 106 , 1]
type = VelAdd
trigger1 = Time > 0
y = .7

[State 106 , 2]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
;---------------------------------------
;scatto
[Statedef 108]
type = A
movetype = I
physics = N
anim = 106
velset = -10,-9

[State 106 , 1]
type = VelAdd
trigger1 = Time > 0
y = .7

[State 106 , 2]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
;-----------------------------------
[Statedef 170]
type = S
anim = 170

[State 170 , 1]
type = AssertSpecial
trigger1 = Time = [0,210]
flag = RoundNotOver

[State 170, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 11,0

;----------------------------
; WIN1
[Statedef 180]
type = S
ctrl = 0
anim = 180
velset = 0,0,0

[State 180, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 180, 2]
type = PlaySnd
trigger1 = Animelem = 1
value = 6,0

[State 180, 2]
type = PlaySnd
trigger1 = Animelem = 5
value = 6,1

;--------------------------------------------------------
;                    WIN-STATE
;--------------------------------------------------------
;winpose 1 SKYEYE
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0,0

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0, 0]
flag = roundnotover

[State 181 , 1]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

[State 181 , 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,4

;---------------------------------------

[Statedef 193]
type = S
anim = 193




[State 193 , 1]
type = AssertSpecial
trigger1 = Time = [0,80]
flag = Intro




[State 193 , 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 193,0




[State 193 , 3]
type = PlaySnd
trigger1 = AnimElem = 13, = 3
value = 193,1




[State 193 , 4]
type = Explod
trigger1 = AnimElem = 14, = 8
anim = 198
sprpriority = 2
postype = p1
pos = 0,0
shadow = 68,68,68
bindtime = 1
supermove = 1
ownpal = 1




[State 193 , 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0




[Statedef 194]
type = S
anim = 194




[State 194 , 1]
type = AssertSpecial
trigger1 = Time = [0,320]
flag = Intro




[State 194 , 2]
type = PlaySnd
trigger1 = AnimElem = 1, = 14
value = 194,0




[State 194 , 3]
type = PlaySnd
trigger1 = AnimElem = 5, = 35
value = 194,1




[State 194 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0




[Statedef 195]
type = S
anim = 195




[State 195 , 1]
type = AssertSpecial
trigger1 = Time = [0,100]
flag = Intro




[State 195 , 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 195,0




[State 195 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;------------------------------------
;Provoking
[Statedef 199]
type = S
movetype = I
physics = S
anim = 3714
velset = 0
ctrl = 0

[State 199 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 9999,0

[State 199 , 3]
type = ChangeState
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
trigger4 = command = "x"
trigger5 = command = "y"
trigger6 = command = "z"
trigger7 = command = "holdfwd"
trigger8 = command = "holdback"
trigger9 = command = "holdup"
trigger10 = command = "holddown"
value = 0
ctrl = 1

;-----------------------------------------------

;pugno debole
[Statedef 200]
type = S
movetype = A
physics = S
anim = 200
juggle = 1
velset = 0
ctrl = 0

[State 200 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,2

[State 200 , 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 250
value = 200,3

[State 200 , 3]
type = HitDef
trigger1 = AnimElem = 3
priority = 3
attr = S, NA
damage = 30,3
getpower = 10
givepower = 5
animtype = light
guardflag = MA
sparkxy = -10,-80
hitsound = S200,0
guardsound = S200,1
pausetime = 4,4
ground.hittime = 13
ground.type = high
ground.slidetime = 9
ground.velocity = -1
air.velocity = -3,-3

[State 200 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------------------------
;Pugno hard
[Statedef 201]
type = S
movetype = A
physics = S
anim = 201
juggle = 3
velset = 0
ctrl = 0

[State 201, polvere]
type = MakeDust
trigger1 = Time = 0
pos = -15,3
pos2 = -22,-3
spacing = 2

[State 201, 3]
type = VelSet
trigger1 = AnimElem = 3
x = 15

[State 201 , 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 240,3

[State 201 , 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 200,2

[State 201 , 3]
type = HitDef
trigger1 = AnimElem = 3
priority = 5
attr = S, NA
damage = 100,10
getpower = 100
givepower = 50
animtype = hard
guardflag = HA
sparkxy = -0,-11
sparkno =S3630
hitsound = S240,0
guardsound = S200,1
pausetime = 10,15
ground.hittime = 19
ground.type = hight
ground.slidetime = 19
ground.velocity = -10
air.velocity = -4,-3


[State 201 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------



;Pugno medio
[Statedef 215]
type = S
movetype = A
physics = S
anim = 215
juggle = 3
velset = 0
ctrl = 0

[State 215 , 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 240,3

[State 215 , 2]
type = PlaySnd
trigger1 = AnimElem = 6
value = 200,2

[State 215 , 3]
type = HitDef
trigger1 = AnimElem = 7
priority = 4
attr = S, NA
damage = 60,6
getpower = 60
givepower = 30
animtype = hard
guardflag = HA
sparkxy = -0,0
sparkno =S3630
hitsound = S240,0
guardsound = S200,1
pausetime = 12,12
ground.hittime = 19
ground.type = hight
ground.slidetime = 19
ground.velocity = -10
air.velocity = -4,-3


[State 215 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------

;Calcio debole
[Statedef 220]
type = S
movetype = A
physics = S
anim = 220
juggle = 1
velset = 0
ctrl = 0


[State 220 , 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 220,2


[State 220 , 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 250
value = 200,3


[State 220 , 3]
type = HitDef
trigger1 = AnimElem = 3
priority = 4
attr = S, NA
damage = 35,4
getpower = 15
givepower = 7
animtype = light
guardflag = MA
sparkxy = -10,-80
hitsound = S220,0
guardsound = S200,1
pausetime = 12,12
ground.hittime = 13
ground.type = high
ground.slidetime = 9
ground.velocity = -5
air.velocity = -3,-3


[State 220 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------

[State 225, kiai]
type = PlaySnd
trigger1 = AnimElem = 13
value = 1100,1

[State 225, light]
type = Explod
trigger1 = AnimElem = 12
ignorehitpause = 1
anim = 3661
ID = 3661
pos = -0,0
postype = p1
sprpriority = 2
supermove = 1
removetime = -1
ignorehitpause = 1
ownpal = 1
bindtime = -1
removeongethit = 1

;light remove
[State 225,2]
type = RemoveExplod
trigger1 = AnimElem = 27
ID = 3661

[State 225, 3]
type = Projectile
trigger1 = AnimElem = 13
attr = S, SP
ignorehitpause = 1
projanim = 3520
projhitanim = 3630
offset = 0,-13
velocity = 10
damage = 15,1
animtype = Hard
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = Low
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -8
air.velocity = -2.5,-5
projremove = 1

[State 225, 4]
type = Projectile
trigger1 = AnimElem = 17 = 3
ignorehitpause = 1
attr = S, SP
projanim = 3520
projhitanim = 3630
offset = 0,-13
velocity = 10
damage = 20,2
animtype = Hard
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -8
air.velocity = -2.5,-5
projremove = 1

[State 225 , 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------
;mini comete multiples
[Statedef 229]
type = S
movetype = A
physics = S
anim = 229
poweradd = 2
juggle = 3
velset = 0
ctrl = 0

[State 229, 0]
type = SuperPause
trigger1 = Time = 0
time = 34
anim = -1
movetime = 0

[State 229, 1]
type = Projectile
trigger1 = AnimElem = 4
trigger2 = AnimElem = 12
trigger3 = AnimElem = 22
trigger4 = AnimElem = 32
trigger5 = AnimElem = 40
trigger6 = AnimElem = 50
attr = S, SP
projanim = 3520
projhitanim = 3630
offset = 0,-13
velocity = 15
damage = 30,4
animtype = Hard
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -8
air.velocity = -2.5,-5

[State 229, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------
[Statedef 226]
type = A 
movetype = A  
physics = N
anim = 226
velset = 3.5,-2.2

[State 226 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 200,3

[State 226 , 2]
type = PlaySnd
trigger1 = Time = 2
value = 40,0

[State 226 , 3]
type = VelAdd
trigger1 = Time > 0
y = .3

[State 226 , 4]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage = 80
animtype = hard
guardflag = MA
sparkxy = -10,-90
hitsound = S260,0
guardsound = S200,1
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 19
ground.velocity = -10
air.velocity = -4,-3

[State 226 , 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 227
;-------------------------
[Statedef 227]
type = S
movetype = I
phsyics = S
anim = 227
velset = 0,0

[State 227 , 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 227 , 2]
type = PlaySnd
trigger1 = Time = 0
value = 52,0

[State 227 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;------------------------------------------
;auto-ginocchiata
[Statedef 230]
type = S
movetype = A
physics = S
anim = 230
juggle = 1
velset = 0
ctrl = 0

[State 230 , vel]
type = VelSet
trigger1 = AnimElem = 3
x = 8

[State 230 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220,2

[State 230 , 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 250
value = 200,3

[State 230 , 3]
type = HitDef
trigger1 = AnimElem = 3
priority = 4
attr = S, NA
damage = 35,3
getpower = 10
givepower = 5
animtype = light
guardflag = MA
sparkxy = -10,-65
hitsound = S220,0
guardsound = S200,1
pausetime = 12,6
ground.hittime = 13
ground.type = low
ground.slidetime = 9
ground.velocity = -5
air.velocity = -3,-3

[State 230 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 52
ctrl = 1

;----------------
;calcio forte per combo aerea
[Statedef 210]
type = S
movetype = A
physics = S
anim = 3721
velset = 0
ctrl = 0 

;energia su p2
[State 210 , 0]
type = Explod
triggerall = NumExplod(3500) = 0
trigger1 = movecontact = 1
id = 3500
anim = 3500
sprpriority = -3
removetime = 120
postype = p2
pos = -20,30
bindtime = 120
ownpal = 1
supermove = 1
removeongethit = 1



[State 210 , 1]
type = PlaySnd
trigger1 = AnimElem = 4
trigger1 = random < 250
value = 280,0

[State 210 , 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 220,2

[State 210 , 3]
type = HitDef
trigger1 = AnimElem = 4
priority = 6
attr = S, NA
damage = 60,6
getpower = 60
givepower = 30
animtype = hard
guardflag = MA
sparkxy = -0,0
sparkno =S3630
hitsound = S1200,1
groundtype = up
guardsound = S200,1
pausetime = 9,12
ground.velocity = 0,-19
air.velocity = 0,0
ground.hittime = 40
getpower = 500
givepower = 400
air.hittime = 40
fall = 1
fallrecover = 1
envshake.time = 10
envshake.freq = 10
envshake.ampl = 10
envshake.phase = 10

[State 210 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------
;Calcio alto
[Statedef 240]
type = S
movetype = A
physics = S
anim = 240
juggle = 2
velset = 0
ctrl = 0

[State 240, 4]
type = CtrlSet
trigger1 = AnimElem = 7
value = 1

[State 240 , 1]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 250
value = 240,3

[State 240 , 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 0

[State 240 , 3]
type = PlaySnd
trigger1 = AnimElem = 3
value = 200,2

[State 240 , 4]
type = HitDef
trigger1 = AnimElem = 4
priority = 6
attr = S, NA
damage = 120,12
getpower = 120
givepower = 60
animtype = hard
guardflag = MA
sparkxy = -10,-75
hitsound = S240,0
guardsound = S200,1
pausetime = 25,10
ground.hittime = 16
ground.type = hight;low
ground.slidetime = -5
ground.velocity = -6,-6;0
air.velocity = -7;,-3
p2stateno = 1025

[State 240 , 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------------

;raffica 
[Statedef 241]
type = S
movetype = A
physics = S
anim = 241
juggle = 2
velset = 0
ctrl = 0

;Bg effect
[State 241, super]
type = BGPalfx
trigger1 = Time = 0
ignorehitpause = 1
time = 150
mul = 150,150,222
add = 5,5,5
invertall = 0

[State 241, 4]
type = StopSnd
trigger1 = Time = 0
channel = -1
;persistent = 1

[State 241 , 1]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 250
value = 240,3

[State 241 , 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 0

[State 241 , 3]
type = PlaySnd
trigger1 = AnimElem = 3
value = 200,2

[State 241, 1]
type = Projectile
trigger1 = AnimElem = 4
trigger2 = AnimElem = 6
trigger3 = AnimElem = 8
trigger4 = AnimElem = 10
trigger5 = AnimElem = 12
attr = A, SP
ignorehitpause = 1
projanim = 3698
projhitanim = 3661
offset = 0,0
velocity = 15,-8
damage = 5,1
animtype = Hard
guardflag = MA
pausetime = 12,0
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -8
air.velocity = -2.5,-5

[State 241, 1]
type = Projectile
trigger1 = AnimElem = 5
trigger2 = AnimElem = 7
trigger3 = AnimElem = 9
trigger4 = AnimElem = 11
attr = A, SP
ignorehitpause = 1
projanim = 3698
projhitanim = 3661
offset = 0,0
velocity = 16,-7
damage = 5,1
animtype = light
guardflag = MA
pausetime = 12,3
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -8
air.velocity = -2.5,-5
fall = 1

[State 241 , 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------
;Calcio medio
[Statedef 250]
type = S
movetype = A
physics = S
anim = 225
juggle = 1
velset = 0
ctrl = 0

[State 250 , 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 200,2

[State 250 , 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 250
value = 240,3

[State 250 , 3]
type = HitDef
trigger1 = AnimElem = 4
priority = 5
attr = S, NA
damage = 80
animtype = hard
guardflag = MA
sparkxy = -10,-80
hitsound = S240,0
guardsound = S200,1
pausetime = 8,11
ground.hittime = 19
ground.type = low
ground.slidetime = 19
ground.velocity = -6
air.velocity = -4,-3

[State 250, 5]
type = AfterImage
trigger1 = time = 4
time = 20
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 250 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------
;calcio girato
[Statedef 260]
type = S
movetype = A
physics = S
anim = 260
juggle = 2
velset = 0
ctrl = 0

[State 260 , 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 220,2


[State 260 , 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 250
value = 240,3

[State 260 , 3]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 80,8
getpower = 80
givepower = 40
animtype = hard
guardflag = MA
sparkno = 12 
sparkxy = -10,-90
hitsound = S260,0
guardsound = S200,1
pausetime = 9,15
ground.hittime = 19
ground.type = high
ground.slidetime = 19
ground.velocity = -5
air.velocity = -4,-3

[State 260 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------
;Calcio capovolto
[Statedef 270]
type = S
movetype = A
physics = S
anim = 3645
juggle = 2
velset = 0
ctrl = 0

[State 270 , 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 220,2

[State 270 , 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 250
value = 240,3

;first
[State 270 , 3]
type = HitDef
trigger1 = AnimElem = 6
priority = 6
attr = S, NA
damage = 60
animtype = hard
guardflag = MA
sparkxy = -0,0
sparkno = S3630
hitsound = S260,0
guardsound = S200,1
pausetime = 10,15
ground.hittime = 19
ground.type = hight
ground.slidetime = 19
ground.velocity = -16
air.velocity = -4,-3

;2nd hit
[State 270 , 4]
type = HitDef
trigger1 = AnimElem = 9
priority = 3
attr = S, NA
damage = 80
animtype = hard
guardflag = MA
sparkxy = -0,0
sparkno = S3630
hitsound = S260,0
guardsound = S200,1
pausetime = 3,4
ground.hittime = 19
ground.type = hight
ground.slidetime = 19
ground.velocity = -4,15
air.velocity = -4,-3
fall = 1
fall.damage = 20

[State 270, 5]
type = Turn
trigger1 = Time = 48
;trigger1 = p2dist X > 0

[State 270, 6]
type = PosAdd
trigger1 = Time = 48
x = -95

[State 270, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------
;Pugno ravvicinato
[Statedef 280]
type = S
movetype = A
physics = S
anim = 280
velset = 0
ctrl = 0  

;scia luminosa
[State 280 , 0]
type = Explod
trigger1 = AnimElem = 4
anim = 3687
sprpriority = -1
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
ownpal = 1

;cosmo remove
[State 280,0]
type = RemoveExplod
trigger1 = Time = 0
ID = 2

[State 280 , 1]
type = PlaySnd
trigger1 = AnimElem = 4
trigger1 = random < 250
value = 280,0

[State 280 , 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 220,2

[State 280 , 3]
type = HitDef
trigger1 = AnimElem = 5
priority = 5
attr = S, NA
damage = 100,10
getpower = 100
givepower = 50
animtype = hard
guardflag = MA
sparkxy = -0,0
sparkno =S3630
hitsound = S1200,1
guardsound = S200,1
pausetime = 12,12
ground.velocity = -4,-4
air.velocity = -4,0;-4

[State 280 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------
;Calcio hard
[Statedef 290]
type = S
movetype = A
physics = S
anim = 290
velset = 0
ctrl = 0 

[State 290, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 220,2

[State 290, 0.1]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = random < 250
value = 1100,1

[State 290, 1]
type = HitDef
trigger1 = AnimElem = 4
priority = 6
attr = S, NA
damage = 140
animtype = hard
guardflag = MA
sparkxy = -0,0
sparkno =S3630
getpower = 120
givepower = 60
hitsound = S1200,1
guardsound = S200,1
guard.hittime = 20
guard.velocity = -20
pausetime = 12,12
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -10,-0

[State 290, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1   
 
;-----------------------------------------------
;Pugno basso debole
[Statedef 400]
type = C
movetype = A
physics = C
anim = 400
juggle = 1
velset = 0
ctrl = 0


[State 400 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,2


[State 400 , 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 250
value = 200,3


[State 400 , 3]
type = HitDef
trigger1 = AnimElem = 2
priority = 3
attr = C, NA
damage = 30,3
getpower = 30
givepower = 15
animtype = light
guardflag = LA
sparkxy = -10,-55
hitsound = S200,0
guardsound = S200,1
pausetime = 12,12
ground.hittime = 12
ground.type = low
ground.slidetime = 12
ground.velocity = -4
air.velocity = -2,-2


[State 400 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;-------------------------------------
;Scivolata
[Statedef 440]
type = C
movetype = A
physics = C
anim = 440
juggle = 1
velset = 0
ctrl = 0

[State 440, polvere]
type = MakeDust
trigger1 = Time = 0
trigger2 = Time = 3
pos = 15,3
pos2 = 22,-3
spacing = 2


[State 440, 0]
type = VelAdd
trigger1 = AnimElem = 2
x = 20

[State 440 , 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,2

;slide sound
[State 440 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1300,2

[State 440 , 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = Random < 250
value = 240,3

[State 440 , 3]
type = HitDef
trigger1 = AnimElem = 2
priority = 5
attr = C, NA
damage = 70,7
getpower = 70
givepower = 30
animtype = hard
guardflag = LA
sparkxy = 0,70
sparkno =S3630
hitsound = S240,0
guardsound = S200,1
pausetime = 12,12
ground.hittime = 19
ground.type = low
ground.slidetime = 19
ground.velocity = -10
air.velocity = -4,-3

[State 440 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Pugno basso medio\forte
[Statedef 460]
type = C
movetype = A
physics = C
anim = 460
juggle = 1
velset = 0
ctrl = 0

[State 460 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,2

[State 460 , 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 250
value = 200,3

[State 460 , 3]
type = HitDef
trigger1 = AnimElem = 2
priority = 3
attr = C, NA
damage = 100,3
getpower = 30
givepower = 15
animtype = light
guardflag = LA
sparkxy = -10,-55
hitsound = S200,0
guardsound = S200,1
pausetime = 12,12
ground.hittime = 12
ground.type = low
ground.slidetime = 12
ground.velocity = -4
air.velocity = -2,-2

[State 460 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------

;----------------------------------------
;air super kick hard
[Statedef 600]
type = A
movetype = A
physics = A
juggle = 2
anim = 600
ctrl = 0

[State 600 , 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 200,2

[State 600 , 3]
type = HitDef
trigger1 = AnimElem = 3
priority = 6
attr = A, NA
damage = 120,12
getpower = 120
givepower = 60
animtype = hard
guardflag = HA
sparkxy = -10,-45
hitsound = S240,0
guardsound = S200,1
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -4,-5
air.velocity = -6,-6

[State 600 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------------------------------
;Calcio in volo medio/leggero
[Statedef 630]
type = A
movetype = A
physics = A
anim = 630
juggle = 1
ctrl = 0


[State 630 , 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 220,2


[State 630 , 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 250
value = 200,3



[State 630 , 3]
type = HitDef
trigger1 = AnimElem = 3
priority = 4
attr = A, NA
damage = 40,4
getpower = 40
givepower = 20
animtype = light
guardflag = HA
sparkxy = -10,-50
hitsound = S220,0
guardsound = S200,1
pausetime = 12,12
ground.hittime = 13
ground.type = high
ground.slidetime = 9
ground.velocity = -5
air.velocity = -3,-3

[State 630 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;----------------------------
;Pugno in volo
[Statedef 640]
type = A
movetype = A
physics = A
juggle = 2
anim = 640
ctrl = 0

[State 640 , 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 200,2

[State 640 , 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 250
value = 240,3

[State 640 , 3]
type = HitDef
trigger1 = AnimElem = 3
priority = 4
attr = A, NA
damage = 60,6
getpower = 60
givepower = 30
animtype = hard
guardflag = HA
sparkxy = -10,-45
hitsound = S240,0
guardsound = S200,1
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -5
air.velocity = -3,-3

[State 640 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------
;Calcio volante alato
[Statedef 660]
type = A
movetype = A
physics = A
anim = 660
juggle = 2
ctrl = 0

[State 660, afterimage]
type = AfterImage
trigger1 = time = 0
time = 10
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 210,50,130 ;red
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 660, afterimage]
type = AfterImage
trigger1 = time = 10
time = 60
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 107,107,222 ;blue 
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 660 , vel]
type = VelSet
trigger1 = AnimElem = 4
x = 18
y = 13

[State 660, pegasofly]
type = Explod
trigger1 = AnimElem = 3
anim = 3691
pos = 0,0
postype = p1
sprpriority = -2
supermove = 1
ignorehitpause = 1
ownpal = 1
bindtime = -1

[State 660 , 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 220,2


[State 660 , 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 250
value = 240,3

[State 660 , 3]
type = HitDef
trigger1 = AnimElem = 4
priority = 7
attr = A, NA
damage = 150,75
getpower = 150
animtype = hard
guardflag = HA
sparkxy = -0,50
sparkno =S3630
hitsound = S260,0
guardsound = S200,1
pausetime = 18,18
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -5
air.velocity = -3,-3

[State 660 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;-----------------------------------------------------------------
;calcio missile
[Statedef 680]
type = A
movetype = A
physics = A
anim = 680
ctrl = 0

[State 1000, light]
type = Explod
trigger1 = AnimElem = 5
anim = 3723
ID = 3723
pos = 26,0
postype = p1
sprpriority = 3
supermove = 1
removetime = 20
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 680 , 9]
type = SuperPause
trigger1 = Time = 0
time = 15
anim = -1
movetime = 15

[State 680 , vel]
type = VelSet
trigger1 = AnimElem = 5
y = 14

[State 680 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 220,2

[State 680 , 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 250
value = 280,0

[State 680 , 3]
type = HitDef
trigger1 = AnimElem = 5
priority = 2
attr = S, NA
damage = 40,5
animtype = hard
guardflag = MA
sparkxy = -10,-35
hitsound = S1200,1
guardsound = S200,1
pausetime = 12,10
ground.velocity = -4,15
air.velocity = -4,15
fall = 1
fall.recover = 0

[State 680 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;------------------------------------------
;lighting cometa standing
[Statedef 1000]
type = S
movetype = A
physics = S
anim = 1000
poweradd = -250
juggle = 5
ctrl = 0
velset = 0

[State 1000 , 5]
type = PlaySnd
trigger1 = Time = 5
value = 1100,2

[State 1000, cometalucente]
type = PlaySnd
trigger1 = Time = 0
value = 1100,0

[State 1000, light]
type = Explod
trigger1 = AnimElem = 6
anim = 3661
ID = 3661
pos = 15,4
postype = p1
sprpriority = 2
supermove = 1
removetime = 10
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 1000 , 3]
type = Projectile
trigger1 = AnimElem = 7, = 1
attr = S, SP
projanim = 3630
projhitanim = 3500
offset = 100,0
velocity = 7
damage = 100,50
animtype = Hard
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -8
air.velocity = -2.5,-5

[State 1000, afterimage]
type = AfterImage
trigger1 = time = 0
time = 50
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 210,50,130 ;red
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 1000 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------
;new state
;---------------------------------
; player 2 state
[Statedef 1025]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1025, Anim] 
type = ChangeAnim2
trigger1 = Time >= 0
value = 1025

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 1026

;------------------
;player2 on air
[Statedef 1026]
type    = A
movetype= H
physics = N

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = Time >= 0
y = .45

[State 1026, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 1027

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;------------------
;player2 hit on wall
[Statedef 1027]
type    = A
movetype= H
physics = N

[State 1027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3
ownpal = 1

[State 1027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1027

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 240,0

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 1028

;------------------
; hit on wall
[Statedef 1028]
type    = A
movetype= H
physics = N

[State 1028, 1]
type = NotHitBy
trigger1 = Time >= 0
value = , NA, NP

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = Time >= 0
y = .35

[State 1028, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;-------------------------------------------------
;new state
;-----------------------------------------------

[State 1100 , 1]
type = PlaySnd
trigger1 = AnimElem = 1, = 1
value = 1100,0

[State 1100 , 2]
type = VelSet
trigger1 = AnimElem = 7
x = 8
y = 8

[State 1100 , 3]
type = VelAdd
trigger1 = Time > 21
y = .5

[State 1100, 2]
type = SuperPause
trigger1 = Time = 0
time = 10
darken = 0
anim = S3500
pos = -30,0
movetime = 0

[State 1100, 0]
type = Explod
trigger1 = AnimElem = 7
anim = 3630
pos = 40,60
postype = p1
sprpriority = 2
supermove = 1
removetime = 20
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

;Bg effect
[State 1100, super]
type = BGPalfx
trigger1 = Time = 0
ignorehitpause = 1
time = 200
mul = 150,150,222
sinadd = 34,56,67,240
add = 5,5,5

[State 1100, 0]
type = Explod
trigger1 = AnimElem = 8
anim = 3719
pos = 0,0
postype = p1
sprpriority = -2
supermove = 1
removetime = 20
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 1100 , 5]
type = PlaySnd
trigger1 = Time = 22
value = 1100,2

[State 1100 , 6]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 9
priority = 7
attr = A, SA
damage = 150,40
getpower = 100
givepower = 50
priority = 7 
animtype = hard
guardflag = MA
sparkxy = -10,-45
sparkno = -1
hitsound = S260,0
guardsound = S1000,2
pausetime = 2,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -5,-5
air.velocity = -3,-3
fall = 1

[State 1100 , 7]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1120

;----------------------------------------
;atterraggio da suiseiken
[Statedef 1120]
type = C
movetype = A
physics = N
anim = 1120
velset = 4,0



[State 1120 , 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1120 , 2]
type = PlaySnd
trigger1 = Time = 0
value = 52,0

[State 1120 , 3]
type = VelAdd
trigger1 = Vel X > 0
x = -.3

[State 1120 , 4]
type = VelSet
trigger1 = Vel X < 0
x = 0

[State 1120 , 5]
type = HitDef
trigger1 = AnimElem = 4
priority = 5
attr = C, SA
damage = 50,5
animtype = hard
guardflag = MA
sparkxy = -10,-30
sparkno = -1
hitsound = S260,0
guardsound = S1000,2
pausetime = 12,10
ground.hittime = 19
ground.type = hight
ground.slidetime = 19
ground.velocity = -23,-35
air.velocity = -4,-3
fall = 1

[State 1120 , 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------
;gomitata
[Statedef 1200]
type = S
movetype = A
physics = S
anim = 1200
juggle = 5
velset = 0
ctrl = 0

[State 1200, 0]
type = AfterImage
trigger1 = time = 0
time = 50
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 107,107,222 ;blue 
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 1200 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1200,0

[State 1200 , 2]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 3

[State 3650, 3]
type = VelAdd
trigger1 = AnimElem = 2
x = 1

[State 3650, 4]
type = VelAdd
trigger1 = AnimElem = 3
x = 15

[State 1200 , 5]
type = HitDef
trigger1 = AnimElem = 4
priority = 4
attr = A, SA
damage = 60,6
getpower = 60
givepower = 30
animtype = medium
guardflag = MA
sparkxy = -10,-100
hitsound = S1200,1
guardsound = S1000,2
pausetime = 13,15
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -5
air.velocity = -2,-8

[State 1220, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------
[Statedef 1210]
type = A
movetype = A
phsyics = N
anim = 3650
velset = 3,-8

[State 1210 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1200,2

[State 1210 , 2]
type = VelAdd
trigger1 = Time > 0
y = 0

[State 1210 , 3]
type = HitDef
trigger1 = AnimElem = 1
attr = A, SA
damage = 40,5
animtype = hard
guardflag = MA
sparkxy = -10,-100
hitsound = S1200,1
guardsound = S1000,2
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -5
air.velocity = -2,-8

[State 1210 , 4]
type = HitDef
trigger1 = AnimElem = 2
attr = A, SA
damage = 40,5
animtype = hard
guardflag = MA
sparkxy = -10,-100
hitsound = S1200,1
guardsound = S1000,2
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -5
air.velocity = -2,-8

[State 1210 , 5]
type = VelSet
trigger1 = AnimElem = 4
x = 0

[State 1210 , 6]
type = HitDef
trigger1 = AnimElem = 4
trigger1 = MoveContact = 0
attr = A, SA
damage = 40,5
animtype = hard
guardflag = MA
sparkxy = -10,-85
hitsound = S1200,1
guardsound = S1000,2
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -5
air.velocity = -2,-8

[State 1210 , 7]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 1220

[Statedef 1220]
type = S
movetype = I
physics = S
anim = 3650
velset = 0,0

[State 1220 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 52,0

[State 1220 , 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1220 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;.......................................................................
;corsa avanti
[Statedef 100]
type    = S
physics = S
anim = 100
sprpriority = 1

[State 100, 1]
type = VelSet
trigger1 = 1
x = 6 

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3]
type = AfterImage
trigger1 = Time = 0
time = 114
FrameGap = 3
length = 15
Trans = Add1

[State 100, polvere]
type = MakeDust
trigger1 = command != "holdfwd"
pos = 0,0
spacing = 2

[State 100, 4]
type = ChangeState
trigger1 = command != "holdfwd"
value = 0


;.................................................

;Combo gomitata/calcio
[Statedef 1230]
type = S
movetype = A
physics = S
anim = 1230
juggle = 5
velset = 0
ctrl = 0

[State 1330, nothittable]
type = NotHitBy
trigger1 = 1
type = NotHitBy
value = , NA, AP

[State 1240 , 2]
type = VelAdd
trigger1 = Time = 4
y = -5
x = 4

[State 1230 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1200,0

[State 1230 , 2]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 3

[State 1230 , 3]
type = HitDef
trigger1 = AnimElem = 4
priority = 4
attr = S, SA
damage = 30,3
animtype = hard
guardflag = MA
sparkno = -1
sparkxy = -10,-75
hitsound = S1200,1
guardsound = S1000,2
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -4,-15
air.velocity = -3,-3
fall = 1

[State 1230 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1240
;----------------------------------

;Star kick
[Statedef 1240]
type = A
movetype = A
phsyics = N
anim = 1240
velset = 5,-13

[State 1330, nothittable]
type = NotHitBy
trigger1 = 1
type = NotHitBy
value = , NA, AP

[State 1240 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1200,2

[State 1240 , 2]
type = VelAdd
trigger1 = Time > 0
y = .5

;1st hit
[State 1240 , 3]
type = HitDef
trigger1 = AnimElem = 3
priority = 5
attr = A, SA
damage = 40,4
animtype = hard
guardflag = MA
sparkno = -1
sparkxy = -10,-100
hitsound = S1200,1
guardsound = S1000,2
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -3,-10
air.velocity = -3,-3
fall = 1

;2nd hit
[State 1240 , 4]
type = HitDef
trigger1 = AnimElem = 8
priority = 6
attr = A, SA
damage = 60,6
getpower = 60
givepower = 30
animtype = hard
guardflag = MA
sparkxy = -10,-100
hitsound = S1200,1
guardsound = S1000,2
pausetime = 12,10
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -3
air.velocity = -7,15
fall = 1

[State 1240 , 5]
type = VelSet
trigger1 = AnimElem = 7
x = 0

[State 1240 , 7]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 50

;--------------------------------------------
;Deadly Howling
[Statedef 1330]
type = S
movetype = A
physics = S
anim = 1330
poweradd = -1000
juggle = 5
velset = 7
ctrl = 0

[State 1330, 0]
type = SuperPause
trigger1 = Time = 0
time = 100
anim = -1
movetime = 0

[State 1330, afterimage]
type = AfterImage
trigger1 = time = 0
time = 100
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 210,50,130 ;red 
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 1330, polvere]
type = MakeDust
trigger1 = time = 0
pos = -15,3
pos2 = -22,-3
spacing = 2


[State 1330, nothittable]
type = NotHitBy
trigger1 = 1
type = NotHitBy
value = , NA, AP

;flash
[State 1330 , 0]
type = Explod
trigger1 = AnimElem = 3
anim = 3500
postype = p1
pos = 20,30
bindtime = 1
supermove = 1
ownpal = 1

[State 1330 , sound]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1200,3

;Bg effect
[State 1330, super]
type = BGPalfx
trigger1 = time >= 0
ignorehitpause = 1
time = 1
mul = 107,107,222
add = -5,-5,-5
invertall = 1

[State 1330, showgalaxian]
type = Explod
trigger1 = AnimElem = 4
anim = 3480
ID = 3480
pos = -320,0
postype = right
sprpriority = -2
supermove = 1
removetime = 120
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 1330 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 2100,0

[State 1330 , 2]
type = VelSet
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 5
x = 4

[State 1330 , 2.1]
type = PosAdd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 7
trigger3 = AnimElem = 8
x = 30

[State 1330 , 4]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
trigger4 = AnimElem = 7
trigger5 = AnimElem = 11
priority = 7   
attr = S, NA     
damage = 30,5
animtype = hard
guardflag = MA
sparkxy = -10,-60
sparkno = S3661
hitsound = S1200,1
guardsound = S1200,1
pausetime = 12,35
ground.hittime = 19
ground.type = low
ground.slidetime = 9
ground.velocity = -10
air.velocity = -3,-3
envshake.time =  10 
envshake.freq = 10  
envshake.ampl = 10 
envshake.phase = 10
numhits = 10

[State 1330 , 5]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1300,1

;Light flash punch
[State 1330, one]
type = Projectile
trigger1 = AnimElem = 4, = 1
trigger2 = AnimElem = 5, = 2
trigger3 = AnimElem = 6, = 3
trigger4 = AnimElem = 7, = 1
trigger5 = AnimElem = 8, = 2
trigger6 = AnimElem = 9, = 3
attr = S, HP
projanim = 3520          
projhitanim = 3661      
offset = 12,0    
velocity = 16
damage = 20,5
animtype = Hard
guardflag = -1
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -8
air.velocity = 1,1
envshake.time =  5 
envshake.freq = 5     
envshake.ampl = 5  
envshake.phase = 5
palfx.time = 35
palfx.mul = 240,192,128
palfx.sinadd = 96,128,160,16
palfx.add = 224,128,64
numhits = 10

;Light flash punch seconda scarica
[State 1330, two]
type = Projectile
trigger1 = AnimElem = 4, = 0
trigger2 = AnimElem = 5, = 3
trigger3 = AnimElem = 6, = 5
trigger4 = AnimElem = 7, = 6
trigger5 = AnimElem = 8, = 7
trigger6 = AnimElem = 9, = 8
guardflag = -1
attr = S, HP
projanim = 3661;3519 
offset = 40,8   
velocity = 20

;Light flash punch finale
[State 1330, three]
type = Projectile
trigger1 = AnimElem = 4, = 3
trigger2 = AnimElem = 5, = 0
trigger3 = AnimElem = 6, = 2
trigger4 = AnimElem = 7, = 4
trigger5 = AnimElem = 8, = 6
trigger6 = AnimElem = 9, = 5
guardflag = -1
attr = S, HP
projanim = 3519          
projhitanim = 3661       
offset = -12,-12    
velocity = 25

[State 1330 , 5]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1300,1
volume = 255

[State 1330 , 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 1340
;--------------------------------------------------------------------
[Statedef 1340]
type = S
movetype = A
phsyics = N
anim = 1340
velset = 7

[State 1340, nothittable]
type = NotHitBy
trigger1 = 1
type = NotHitBy
value = , NA, AP

;Bg effect
[State 1340, super]
type = BGPalfx
trigger1 = time >= 0
ignorehitpause = 1
time = 1
mul = 107,107,222
add = -5,-5,-5
invertall = 1

[State 1340 , 0]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
trigger3 = AnimElem = 6
trigger4 = AnimElem = 8
trigger5 = AnimElem = 10
x = 20

[State 1340, afterimage]
type = AfterImage
trigger1 = time = 4
time = 40
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 107,107,222 ;blue 
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 1340 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1300,2

[State 1340 , 2]
type = VelSet
trigger1 = Time > 0
x = 5

;Final
[State 1340 , 3]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 11
priority = 7
attr = S, NA     
damage = 30,5
animtype = hard
guardflag = -1
sparkxy = -10,-60
hitsound = S1200,1
guardsound = S1000,2
pausetime = 0,4;35
ground.hittime = 19
ground.type = low  ;punto di collisione del p2
envshake.freq = 10  
envshake.ampl = 10 
envshake.phase = 10

[State 1340 , 4]
type = ChangeState
trigger1 = Time = 20
value = 1350
;-----------------------------------------------
[Statedef 1350]
type = S
movetype = A
phsyics = N
anim = 1350
velset = 0,0  ;30

[State 1350, nothittable]
type = NotHitBy
trigger1 = 1
type = NotHitBy
value = , NA, AP

[State 1350 , 0]
type = HitDef
trigger1 = AnimElem = 6
priority = 7
attr = S, HA     
damage = 30,5
animtype = hard
guardflag = -1
sparkxy = -10,-60
hitsound = S240,0
guardsound = S1000,2
pausetime = 0,12
p2stateno = 2295
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -10
air.velocity = -3,-3
envshake.time =  10 
envshake.freq = 10    
envshake.ampl = 10  
envshake.phase = 10
fall = 1
fallrecover=0

[State 1350, screenmove]
type = Screenbound
trigger1 = AnimElem = 6
value = 50
movecamera = 99,99

[State 1350 , kiai]
type = PlaySnd
trigger1 = Time = 0
trigger1 = AnimElem = 1
value = 1100,1

[State 1350 , 1]
type = VelAdd
trigger1 = AnimElem = 5
x = 20

[State 1350 , 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------end of ryuseiken light effect
;-----------------------------------------------------------
;reversal attack(superguard)
[Statedef 1400]
type = S
physics = S
anim = 3675
juggle = 5
velset = 0
ctrl = 0

[State 1400 , 4]
type = ReversalDef
priority = 7
trigger1 = time = 0
reversal.attr = SCA, NA, SA, HA
p1stateno = 1401
hitsound = S240,0
pausetime = 40,50
sparkxy = 10,-60

[State 1400 , 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------
;new state of reversal attack
;reversal attack
[Statedef 1401]
type = S
movetype = A
physics = S
anim = 1401
poweradd = 750
juggle = 5
velset = 0
ctrl = 0

[State 1400 , 1]
type = PlaySnd
trigger1 = time = 0
value = 1300,2

[State 1401, light]
type = Explod
trigger1 = MoveContact = 1
ID = 3678
anim = 3678
pos = 40,3
postype = p1
sprpriority = 4
supermove = 1
removetime = 70
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 1401, polvere]
type = MakeDust
trigger1 = time = 0
pos = -15,3
pos2 = -22,-3
spacing = 2

[State 1401 , 2]
type = VelAdd
trigger1 = time = 0
x = -9

[State 1401 , 2]
type = VelMul
trigger1 = AnimElem = 1
x = 3.6

[State 1401 , 6]
type = ChangeState
triggerall = MoveContact = 1
trigger1 = Life <= 300
value = 2160
ctrl = 0

[State 1401 , 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------

;charge
[Statedef 5555]
type = S
movetype = A
physics = S
anim = 9006
poweradd = 600
juggle = 5
velset = 0
ctrl = 0

[State 5555 , 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 50

;flash
[State 5555]
type = Explod
trigger1 = Time = 0
anim = 7777
sprpriority = 0
postype = p1
pos = -3,0
bindtime = 1
supermove = 1
ownpal = 1


[State 5555 , 2]
type = PlaySnd
trigger1 = time = 0
value = 1300,2


[State 5555 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------

;Pugno volante combo
[Statedef 1425]
type = S
movetype = A
physics = S
anim = 1425
juggle = 5
velset = 0,0
ctrl = 0

[State 1425, nothittable]
type = NotHitBy
trigger1 = 1
type = NotHitBy
value = , NA, AP

[State 1425, 3.3]
type = Explod
trigger1 = AnimElem = 3
anim = 3630
pos = 20,-55
postype = p1
sprpriority = 3
bindtime = 42
removetime = 42
ownpal = 1
supermove = 1
removeongethit = 1


[State 1425 , 8]
type = VelMul
trigger1 = AnimElem = 3
y = -8

[State 1425 , 2]
type = VelAdd
trigger1 = AnimElem = 3
y = -8

[State 1425 , 2]
type = VelAdd
trigger1 = AnimElem = 8
y = 0.45

[State 1425 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1400,0

[State 1425 , 3]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 9
value = 1400,1

[State 1425 , 5]
type = HitDef
trigger1 = Time = 0
priority = 4
attr = S, SA
damage = 20,2
getpower = 20
givepower = 10
animtype = hard
guardflag = MA
sparkxy = -10,-110
hitsound = S240,0
guardsound = S1000,2
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = 0,-8
air.velocity = 0,-25
fall = 1

[State 1425 , 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0

;--------------------------------------------------

[Statedef 1530]
type = S
movetype = A
physics = S
anim = 1530

[State 1530 , 1]
type = VelSet
trigger1 = Time = [0,4]
x = 1.3

[State 1530 , 2]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
damage = 30,5
animtype = hard
hitflag = MA
guardflag = MA
sparkxy = -10,-50
hitsound = S240,0
guardsound = S1000,2
pausetime = 4,4
ground.hittime = 19
ground.type = low
ground.slidetime = 0
ground.velocity = 0
air.velocity = -3,-3

[State 1530 , 3]
type = HitDef
trigger1 = AnimElem = 10
attr = S, SA
damage = 10,5
animtype = hard
hitflag = MA
guardflag = MA
sparkxy = -10,-110
hitsound = S240,0
guardsound = S1000,2
pausetime = 6,12
ground.velocity = -3,-7
air.velocity = -3,-3
fall = 1

[State 1530 , 4]
type = PosAdd
trigger1 = AnimElem = 7
trigger2 = AnimElem = 8
trigger3 = AnimElem = 9
trigger4 = AnimElem = 10
trigger5 = AnimElem = 11
trigger6 = AnimElem = 12
trigger7 = AnimElem = 13
x = 8

[State 1530 , 5]
type = PosAdd
trigger1 = AnimElem = 14
x = 4

[State 1530 , 6]
type = VarSet
trigger1 = AnimTime = 0
v = 1
value = 0

[State 1530 , 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




[Statedef 1540]
type = S
movetype = A
physics = S
anim = 1540




;[State 1540 , 1]
;type = VelSet
;trigger1 = Time [0,21]
;x = 1.3




[State 1540 , 2]
type = HitDef
trigger1 = AnimElem = 6
attr = S, SA
damage = 10,5
animtype = hard
hitflag = MA
guardflag = MA
sparkxy = -10,-45
hitsound = S240,0
guardsound = S1000,2
pausetime = 3,3
ground.hittime = 19
ground.type = high
ground.slidetime = 0
ground.velocity = 0
air.velocity = -3,-3




[State 1540 , 3]
type = HitDef
trigger1 = AnimElem = 13
attr = S, SA
damage = 30,5
animtype = hard
hitflag = MA
guardflag = MA
sparkxy = -10,-50
hitsound = S240,0
guardsound = S1000,2
pausetime = 4,4
ground.hittime = 19
ground.type = low
ground.slidetime = 0
ground.velocity = 0
air.velocity = -3,-3




[State 1540 , 4]
type = HitDef
trigger1 = AnimElem = 18
attr = S, SA
damage = 10,5
animtype = hard
hitflag = MA
guardflag = MA
sparkxy = -10,-110
hitsound = S240,0
guardsound = S1000,2
pausetime = 6,12
ground.velocity = -3,-7
air.velocity = -3,-3
fall = 1




[State 1540 , 5]
type = PosAdd
trigger1 = AnimElem = 15
trigger2 = AnimElem = 16
trigger3 = AnimElem = 17
trigger4 = AnimElem = 18
trigger5 = AnimElem = 19
trigger6 = AnimElem = 20
trigger7 = AnimElem = 21
x = 8




[State 1540 , 6]
type = PosAdd
trigger1 = AnimElem = 22
x = 4




[State 1540 , 7]
type = VarSet
trigger1 = AnimTime = 0
v = 1
value = 0




[State 1540 , 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------
;multiple combo
[Statedef 1600]
type = A
movetype = A
physics = N
anim = 1610
velset = 0,-3.2


[State 1600 , 1]
type = CtrlSet
trigger1 = Time = 0
value = 0

[State 1600 , 1]
type = VelSet
trigger1 = Time > 0
x = 5.3

[State 1600 , 2]
type = VelAdd
trigger1 = Time > 0
y = .5

[State 1600 , 3]
type = PlaySnd
trigger1 = Time = 0
value = 1600,0

[State 1600 , 4]
type = HitDef
trigger1 = AnimElem = 1
priority = 5
attr = S, NA
damage = 20,2
animtype = light
guardflag = MA
sparkxy = -10,-70
hitsound = S240,0
guardsound = S1000,2
pausetime = 12,12
ground.hittime = 19
ground.type = low
ground.slidetime = 16
ground.velocity = -11
air.velocity = -7,-3

[State 1600 , 5]
type = PlaySnd
trigger1 = Time = 2
value = 1400,1

[State 1600 , 6]
type = ChangeState
trigger1 = Pos y > 0
trigger1 = Vel Y > 0
value = 1620

;---------------------
[Statedef 1620]
type = S
movetype = A
physics = N
anim = 1620

[State 1620 , 1]
type = CtrlSet
trigger1 = Time = 0
value = 0

[State 1620 , 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1620 , 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 1620 , 4]
type = HitDef
trigger1 = AnimElem = 3
priority = 6
attr = A, SA
damage = 50,5
getpower = 50
givepower = 25
animtype = hard
guardflag = MA
sparkxy = -10,0
hitsound = S240,0
guardsound = S1000,2
pausetime = 20,6
ground.hittime = 19
ground.type = low
ground.slidetime = 16
ground.velocity = -5,-2
air.velocity = -3,-3
fall = 1


[State 1620 , 3]
type = PlaySnd
trigger1 = Time = 0
value = 52,0

[State 1620 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;--------------------------------------------------
;--------------------------------------------------
;--------------------------------------------------
;--------------------------------------------------
;--------------------------------------------------
;--------------------------------------------------
;recover energie and new state
[Statedef 2000]
type = S
movetype = I
physics = S
anim = 2000
poweradd = -3000
velset = 0
ctrl = 0
;-------------------
;NEW
;--------------------

[State 2000 , 2]
type = VarSet
trigger1 = time = 0
v = 1
value = 0

[State 2000, palfx]
type = PalFX
trigger1 = time = [0,1500]
time = 1500
add = 5,5,5
sinadd = 40,40,40,3

;cosmo standing remove
[State 2000,2]
type = RemoveExplod
trigger1 = 1
ID = 2

[State 2000, 0] 
type = DisplayToClipboard
trigger1 = Time = 0
text="pegasus settimo senso"

[State 2000, 0] 
type = AssertSpecial
trigger1 = Time = [0,9000]
flag = nomusic
persistent = 1

[State 2000 , 1]
type = NotHitBy
trigger1 = Time = 0
time = 5
value = SCA

[State 2000 , 2]
type = SuperPause
trigger1 = Time = 0
time = 20
anim = -1


[State 2000 , 3]
type = EnvShake
trigger1 = Time = 0
time = 50

[State 2000 , 3]
type = PlaySnd
trigger1 = Time = 4
value = 3000,0

[State 2000 , 3]
type = PlaySnd
trigger1 = Time = 4
value = 2100,1

[State 2000 , 4]
type = PlaySnd
trigger1 = Time = 4
value = 2000,0

[State 2000 , 5]
type = Explod
trigger1 = Time = 3
anim = 3400
sprpriority = 2
postype = p1
pos = 0,-0
supermove = 1
ownpal = 1
bindtime = 1

[State 2000 , 7]
type = PlaySnd
trigger1 = AnimElem = 1
value = 191,0

[State 2000 , 8]
type = LifeAdd
trigger1 = AnimElem = 3
value = 100

;ultra power
[State 2000, 10]
type = AttackMulSet
trigger1 = time = [0,1500]
value = 1.7

;ultra defence
[State 2000, 11]
type = DefenceMulSet
trigger1 = time = [0,1500]
value = 1.9

[State 2000 , 12.1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;end of recover

;----------------------------------------------------------

;free of the armor
[Statedef 2110]
type = S
movetype = I
physics = S
anim = 3690
velset = 0

[State 1330, nothittable]
type = NotHitBy
trigger1 = time = 0
type = NotHitBy
value = -1;, NA, AP

[State 2110, free]
type = Explod
trigger1 = AnimElem = 3
anim = 3692
sprpriority = 4
postype = p1
pos = 0,0
supermove = 1
bindtime = 1
ownpal = 1


;elmo
[State 2110, free]
type = Explod
trigger1 = AnimElem = 3
anim = 3693
sprpriority = 4
postype = p1
pos = 0,0
supermove = 1
bindtime = 1
ownpal = 1

;luce
[State 2110, free]
type = Explod
trigger1 = AnimElem = 3
anim = 3630
sprpriority = 4
removetime = 55
ontop = 1
postype = p1
pos = 15,8
supermove = 1
bindtime = 1
ownpal = 1

;luce 2
[State 2110, free]
type = Explod
trigger1 = AnimElem = 4
anim = 3630
sprpriority = 4
ontop = 1
postype = p1
pos = 15,-20
supermove = 1
bindtime = 1
ownpal = 1

[State 2110, flash]
type = EnvColor
Trigger1 = AnimElem = 20
value = 255,255,255
under = 0
time = 8

[State 2110 , 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------
[Statedef 2150]
type = S
movetype = A
physics = S
anim = 2150
poweradd = -3000
velset = 0
ctrl = 0

[State 2150 , 1]
type = SprPriority
trigger1 = Time = 0
value = 2




[State 2150 , 2]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 13




[State 2150 , 3]
type = SuperPause
trigger1 = Time = 0
time = 34
anim = -1
movetime = 13




[State 2150 , 4]
type = PlaySnd
trigger1 = Time = 1
value = 2100,0




[State 2150 , 5]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0




[State 2150 , 6]
type = Explod
trigger1 = Time = 1
anim = 3020
sprpriority = -2
postype = p1
pos = 48,-67
supermove = 1
bindtime = 1
ownpal = 1




[State 2150 , 7]
type = Explod
trigger1 = Time = 1
anim = 3030
sprpriority = 2
postype = p1
pos = 48,-67
supermove = 1
bindtime = 1
ownpal = 1




[State 2150 , 8]
type = Explod
trigger1 = AnimElem = 6, = 1
trigger2 = AnimElem = 10, = 1
trigger3 = AnimElem = 14, = 1
trigger4 = AnimElem = 18, = 1
trigger5 = AnimElem = 22, = 1
trigger6 = AnimElem = 26, = 1
trigger7 = AnimElem = 30, = 1
trigger8 = AnimElem = 34, = 1
trigger9 = AnimElem = 38, = 1
trigger10 = AnimElem = 42, = 1
trigger11 = AnimElem = 46, = 1
anim = 2170
postype = p1
pos = 0,0
shadow = 68,68,68
sprpriority = -2
bindtime = 1
supermove = 1
ownpal = 1




[State 2150 , 9]
type = Explod
trigger1 = AnimElem = 6, = 1
trigger2 = AnimElem = 10, = 1
trigger3 = AnimElem = 14, = 1
trigger4 = AnimElem = 18, = 1
trigger5 = AnimElem = 22, = 1
trigger6 = AnimElem = 26, = 1
trigger7 = AnimElem = 30, = 1
trigger8 = AnimElem = 34, = 1
trigger9 = AnimElem = 38, = 1
trigger10 = AnimElem = 42, = 1
trigger11 = AnimElem = 46, = 1
anim = 2180
postype = p1
pos = 0,0
shadow = 68,68,68
sprpriority = 2
bindtime = 1
supermove = 1
ownpal = 1




[State 2150 , 10]
type = EnvColor
trigger1 = AnimElem = 10, = 1
trigger2 = AnimElem = 14, = 1
trigger3 = AnimElem = 18, = 1
trigger4 = AnimElem = 22, = 1
trigger5 = AnimElem = 26, = 1
trigger6 = AnimElem = 30, = 1
trigger7 = AnimElem = 34, = 1
trigger8 = AnimElem = 38, = 1
trigger9 = AnimElem = 42, = 1
trigger10 = AnimElem = 46, = 1
trigger11 = AnimElem = 50, = 1
value = 231,231,231
time = 1




[State 2150 , 11]
type = HitDef
trigger1 = AnimElem = 6, = 1
attr = S, HA
damage = 200
animtype = hard
sparkxy = -10,-70
hitsound = S2100,1
pausetime = 0,4
ground.hittime = 16
ground.type = low
ground.slidetime = 0
ground.velocity = 0
air.velocity = -3
forcestand = 1




[State 2150 , 12]
type = HitDef
trigger1 = AnimElem = 10, = 1
attr = S, HA
damage = 100
animtype = hard
sparkxy = -10,-70
hitsound = S2100,1
pausetime = 0,4
ground.hittime = 16
ground.type = low
ground.slidetime = 0
ground.velocity = 0
air.velocity = -3




[State 2150 , 13]
type = HitDef
trigger1 = AnimElem = 14, = 1
attr = S, HA
damage = 40
animtype = hard
sparkxy = -10,-70
hitsound = S2100,1
pausetime = 0,4
ground.hittime = 16
ground.type = low
ground.slidetime = 0
ground.velocity = 0
air.velocity = -3




[State 2150 , 14]
type = HitDef
trigger1 = AnimElem = 18, = 1
attr = S, HA
damage = 20
animtype = hard
sparkxy = -10,-70
hitsound = S2100,1
pausetime = 0,4
ground.hittime = 16
ground.type = low
ground.slidetime = 0
ground.velocity = 0
air.velocity = -3




[State 2150 , 15]
type = HitDef
trigger1 = AnimElem = 22, = 1
trigger2 = AnimElem = 26, = 1
trigger3 = AnimElem = 30, = 1
trigger4 = AnimElem = 34, = 1
trigger5 = AnimElem = 38, = 1
trigger6 = AnimElem = 42, = 1
trigger7 = AnimElem = 46, = 1
attr = S, HA
damage = 10
animtype = hard
sparkxy = -10,-70
hitsound = S2100,1
pausetime = 0,4
ground.hittime = 16
ground.type = low
ground.slidetime = 0
ground.velocity = 0
air.velocity = -3




[State 2150 , 16]
type = PlaySnd
trigger1 = AnimElem = 40
value = 2150,0




[State 2150 , 17]
type = Explod
trigger1 = AnimElem = 50
anim = 2170
postype = p1
pos = 0,0
shadow = 68,68,68
removetime = 6
sprpriority = -2
bindtime = 1
supermove = 1
ownpal = 1




[State 2150 , 18]
type = Explod
trigger1 = AnimElem = 50
anim = 2180
postype = p1
pos = 0,0
shadow = 68,68,68
removetime = 6
sprpriority = 2
bindtime = 1
supermove = 1
ownpal = 1




[State 2150 , 19]
type = HitDef
trigger1 = AnimElem = 50
attr = S, HA
damage = 80
animtype = hard
sparkxy = -10,-70
hitsound = S2100,1
pausetime = 0,8
ground.velocity = -3,-7
air.velocity = -3
fall = 1
fall.recover = 0




[State 2150 , 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 2160

;-----------------------------------------
;supercaduta
[Statedef 2160]
type = A
movetype = I
physics = N
anim = 2160
ctrl = 1

;remove light block
[State 2160,remove]
type = RemoveExplod
trigger1 = Time = 1
ID = 3678

[State 2160 , 1]
type = Explod
trigger1 = Time = 2
anim = 2190
postype = p1
pos = 0,0
shadow = 68,68,68
sprpriority = -2
bindtime = 1
supermove = 1
ownpal = 1

[State 2160 , 2]
type = VelSet
trigger1 = Time = 3
x = -5
y = -9

[State 2160 , 3]
type = VelAdd
trigger1 = Time > 3
y = .5

[State 2160 , 4]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 2161

[Statedef 2161]
type = A
movetype = I
physics = N
anim = 2161
velset = 0,-4

[State 2161 , 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2161 , 2]
type = EnvShake
trigger1 = Time = 0
time = 15

[State 2161 , 3]
type = PlaySnd
trigger1 = Time = 0
value = F5,4

[State 2161 , 4]
type = VelAdd
trigger1 = Time > 0
y = .5

[State 2161 , 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 2162
;------------------------------------------
[Statedef 2162]
type = A
movetype = I
physics = N
anim = 2162
velset = 0

[State 2162 , 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2162 , 2]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 2162 , 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 2163
;---------------------------------------
[Statedef 2163]
type = S
movetype = I
physics = S
anim = 2163
velset = 0,0

[State 2163 , 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2163 , 2]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 2163 , 3]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 37

[State 2163 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 5120 
ctrl = 0

;-------------------------------------------------------------------

;Super ryuseiken liv(3)hard must
[Statedef 2200]
type = S
movetype = A
physics = S
anim = 2200
poweradd = -3000
velset = 0
ctrl = 0

;projectile scarica2
[State 2200, 1]
type = Projectile
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
trigger4 = AnimElem = 7
trigger5 = AnimElem = 8
trigger6 = AnimElem = 9
trigger7 = AnimElem = 10
trigger8 = AnimElem = 11
trigger9 = AnimElem = 12
trigger10 = AnimElem = 13
trigger11 = AnimElem = 14
trigger12 = AnimElem = 15
trigger13 = AnimElem = 16
trigger14 = AnimElem = 17
trigger15= AnimElem = 18
trigger16= AnimElem = 19
trigger17= AnimElem = 20
trigger18= AnimElem = 21
trigger19= AnimElem = 22
trigger20= AnimElem = 23
trigger21= AnimElem = 24
trigger22 = AnimElem = 25
trigger23 = AnimElem = 26
trigger24 = AnimElem = 27
trigger25 = AnimElem = 28
trigger26 = AnimElem = 29
trigger27 = AnimElem = 30
trigger28 = AnimElem = 31
trigger29 = AnimElem = 32
trigger30 = AnimElem = 33
trigger31 = AnimElem = 34
trigger32 = AnimElem = 35
trigger33 = AnimElem = 36
trigger34 = AnimElem = 37
trigger35 = AnimElem = 38
trigger36 = AnimElem = 39
trigger37 = AnimElem = 40
trigger38 = AnimElem = 41
trigger39 = AnimElem = 42
trigger40 = AnimElem = 43
trigger41 = AnimElem = 44
trigger42 = AnimElem = 45
trigger43 = AnimElem = 46
trigger44 = AnimElem = 47
trigger45 = AnimElem = 48
trigger46 = AnimElem = 49
trigger47 = AnimElem = 50
trigger48 = AnimElem = 51
trigger49 = AnimElem = 52
trigger50 = AnimElem = 53
trigger51 = AnimElem = 54
trigger52 = AnimElem = 55
trigger53 = AnimElem = 56
trigger54 = AnimElem = 57
trigger55= AnimElem = 58
trigger56 = AnimElem = 59
trigger57 = AnimElem = 60
trigger58 = AnimElem = 61
trigger59 = AnimElem = 62
trigger60 = AnimElem = 63
trigger61 = AnimElem = 64
trigger62 = AnimElem = 65
trigger63 = AnimElem = 66
trigger64= AnimElem = 67
trigger65 = AnimElem = 68
trigger66 = AnimElem = 69
trigger67 = AnimElem = 70
trigger68 = AnimElem = 71
trigger69 = AnimElem = 72
trigger70 = AnimElem = 73
trigger71 = AnimElem = 74
trigger72= AnimElem = 75
trigger73 = AnimElem = 76
trigger74 = AnimElem = 77
attr = S, SP
ignorehitpause = 1
projanim = 3706
offset = -50,-5
velocity = 30,-1.5
animtype = Hard
guardflag = -1
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -8
air.velocity = -2.5,-5


;-----------afterimage
[State 2200, 0]
type = AfterImage
trigger1 = Time = 0
time = 2

[State 2200,1]
type = AfterImageTime
trigger1 = Time = [2,10000]
time = 2
;-----------afterimage

[State 2200, constellation]
type = Explod
trigger1 = AnimElem = 1
anim = 3481
ID = 3480
pos = -320,0
postype = right
sprpriority = -1
supermove = 1
removetime = 550
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 2200 , 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 7

[State 2200 , 2]
type = SuperPause
trigger1 = Time = 3
time = 30
anim = -1

[State 2200 , 3]
type = PlaySnd
trigger1 = Time = 3
value = 3000,0

[State 2200 , 4]
type = PlaySnd
trigger1 = Time = 3
value = 3710,1

;lens flare andata
;[State 2200 , 5]
type = Explod
trigger1 = Time = 3
anim = 3500
sprpriority = 1;-2
postype = p1
pos = 0,0
supermove = 1
bindtime = 1
ownpal = 1

;lens flare ritorno
[State 2200 , 6]
type = Explod
trigger1 = Time = 4
anim = 3510
sprpriority = 1
postype = p1
pos = 0,0
supermove = 1
bindtime = 1
ownpal = 1

[State 2200 , 7]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 6
trigger3 = AnimElem = 8
trigger4 = AnimElem = 10
trigger5 = AnimElem = 12
trigger6 = AnimElem = 14
trigger7 = AnimElem = 16
trigger8 = AnimElem = 18
trigger9 = AnimElem = 20
trigger10 = AnimElem = 22
trigger11 = AnimElem = 24
trigger12 = AnimElem = 26
trigger13 = AnimElem = 28
trigger14 = AnimElem = 30
trigger15 = AnimElem = 32
trigger16 = AnimElem = 34
trigger17 = AnimElem = 36
trigger18 = AnimElem = 38
trigger19 = AnimElem = 40
trigger20 = AnimElem = 42
trigger21 = AnimElem = 44
trigger22 = AnimElem = 46
trigger23 = AnimElem = 48
trigger24 = AnimElem = 50
trigger25 = AnimElem = 52
trigger26 = AnimElem = 54
trigger27 = AnimElem = 56
trigger28= AnimElem = 58
trigger29 = AnimElem = 60
trigger30 = AnimElem = 62
trigger31 = AnimElem = 64
trigger32 = AnimElem = 66
trigger33 = AnimElem = 68
trigger34 = AnimElem = 70
trigger35 = AnimElem = 72
trigger36 = AnimElem = 74
trigger37 = AnimElem = 76
forcestand = 1
priority = 7
attr = S, HA
damage = 3,1
animtype = hard
guardflag = -1
sparkno = -1
hitsound = S1200,1
guardsound = S1000,2
pausetime = 3,4
ground.hittime = 16
ground.type = hight
ground.velocity = 0
air.velocity = -3

;numeri dispari
[State 2200 , 7]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 7
trigger3 = AnimElem = 9
trigger4 = AnimElem = 11
trigger5 = AnimElem = 13
trigger6 = AnimElem = 15
trigger7 = AnimElem = 17
trigger8= AnimElem = 19
trigger9= AnimElem = 21
trigger10= AnimElem = 23
trigger11 = AnimElem = 25
trigger12 = AnimElem = 27
trigger13 = AnimElem = 29
trigger14 = AnimElem = 31
trigger15 = AnimElem = 33
trigger16 = AnimElem = 35
trigger17 = AnimElem = 37
trigger18 = AnimElem = 39
trigger19 = AnimElem = 41
trigger20 = AnimElem = 43
trigger21 = AnimElem = 45
trigger22 = AnimElem = 47
trigger23 = AnimElem = 49
trigger24 = AnimElem = 51
trigger25 = AnimElem = 53
trigger26 = AnimElem = 55
trigger27 = AnimElem = 57
trigger28 = AnimElem = 59
trigger29 = AnimElem = 61
trigger30 = AnimElem = 63
trigger31 = AnimElem = 65
trigger32= AnimElem = 67
trigger33 = AnimElem = 69
trigger34 = AnimElem = 71
trigger35 = AnimElem = 73
trigger36= AnimElem = 75
trigger37 = AnimElem = 77
forcestand = 1
priority = 7
attr = S, HA
damage = 3,1
animtype = hard
guardflag = -1
sparkno = -1
guardsound = S1000,2
pausetime = 3,4
ground.hittime = 16
ground.type = low
ground.velocity = 0
air.velocity = -3

[State 2200 , 8]
type = PlaySnd
trigger1 = AnimElem = 5, = 1
value = 1400,1

[State 2200 , 10]
type = EnvShake
trigger1 = movehit
time = 16
persistent = 0
ignorehitpause = 1

[State 2200, 14] ;Flash nero long
type = EnvColor
Trigger1 = Time = 0
value = 0,0,0
under = 1
time = 55

[State 2200 , 5]
type = PlaySnd
trigger1 = AnimElem = 75
value = 2000,0

[State 2200 , 12]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Movehit = 0
value = 0
ctrl = 1

[State 2200 , 12]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = movehit
value = 2210
ctrl = 0

;------------------

[Statedef 2210]
type = S
movetype = A
physics = S
anim = 2210

[State 2210 , 1]
type = VarAdd
trigger1 = Time = 0
v = 1
value = 1

[State 2210 , 7]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
priority = 7
attr = S, HA
damage = 10,5
animtype = hard
guardflag = MA
sparkxy = -10,-45
;hitsound = S1200,1
guardsound = S1000,2
pausetime = 3,0
ground.hittime = 16
ground.type = hight
ground.velocity = 0
air.velocity = -3

[State 2210 , 7]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
trigger4 = AnimElem = 7
trigger5 = AnimElem = 8
trigger6 = AnimElem = 9
trigger7 = AnimElem = 10
trigger8 = AnimElem = 11
trigger9 = AnimElem = 12
trigger10 = AnimElem = 13
trigger11 = AnimElem = 14
trigger12 = AnimElem = 15
trigger13 = AnimElem = 16
trigger14 = AnimElem = 17
trigger15= AnimElem = 18
trigger16= AnimElem = 19
trigger17= AnimElem = 20
trigger18= AnimElem = 21
trigger19= AnimElem = 22
trigger20= AnimElem = 23
trigger21= AnimElem = 24
trigger22 = AnimElem = 25
trigger23 = AnimElem = 26
trigger24 = AnimElem = 27
trigger25 = AnimElem = 28
trigger26 = AnimElem = 29
trigger27= AnimElem = 30
trigger28 = AnimElem = 31
trigger29 = AnimElem = 32
trigger30 = AnimElem = 33
trigger31 = AnimElem = 34
trigger32 = AnimElem = 35
trigger33= AnimElem = 36
trigger34 = AnimElem = 37
trigger35 = AnimElem = 38
trigger36 = AnimElem = 39
trigger37 = AnimElem = 40
trigger38 = AnimElem = 41
attr = S, HA
damage = 5,1
animtype = hard
guardflag = -1
sparkno = -1
hitsound = S1200,1
guardsound = S1000,2
pausetime = 4,4
ground.hittime = 16
ground.type = low
ground.velocity = 0
air.velocity = -4


;projectile scarica2
[State 2210, 1]
type = Projectile
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
trigger4 = AnimElem = 7
trigger5 = AnimElem = 8
trigger6 = AnimElem = 9
trigger7 = AnimElem = 10
trigger8 = AnimElem = 11
trigger9 = AnimElem = 12
trigger10 = AnimElem = 13
trigger11 = AnimElem = 14
trigger12 = AnimElem = 15
trigger13 = AnimElem = 16
trigger14 = AnimElem = 17
trigger15= AnimElem = 18
trigger16= AnimElem = 19
trigger17= AnimElem = 20
trigger18= AnimElem = 21
trigger19= AnimElem = 22
trigger20= AnimElem = 23
trigger21= AnimElem = 24
trigger22 = AnimElem = 25
trigger23 = AnimElem = 26
trigger24 = AnimElem = 27
trigger25 = AnimElem = 28
trigger26 = AnimElem = 29
trigger27= AnimElem = 30
trigger28 = AnimElem = 31
trigger29 = AnimElem = 32
trigger30 = AnimElem = 33
trigger31 = AnimElem = 34
trigger32 = AnimElem = 35
trigger33= AnimElem = 36
trigger34 = AnimElem = 37
trigger35 = AnimElem = 38
trigger36 = AnimElem = 39
trigger37 = AnimElem = 40
trigger38 = AnimElem = 41
trigger39 = AnimElem = 42
trigger40= AnimElem = 43
trigger41= AnimElem = 44
trigger42 = AnimElem = 45
trigger43 = AnimElem = 46
trigger44 = AnimElem = 47
trigger45= AnimElem = 48
trigger46= AnimElem = 49
trigger47= AnimElem = 50
trigger48 = AnimElem = 51
trigger49 = AnimElem = 52
trigger50 = AnimElem = 53
trigger51 = AnimElem = 54
trigger52 = AnimElem = 55
trigger53= AnimElem = 56
trigger54= AnimElem = 57
trigger55= AnimElem = 58
trigger56= AnimElem = 59
trigger57= AnimElem = 60
trigger58= AnimElem = 61
trigger59= AnimElem = 62
trigger60 = AnimElem = 63
trigger61 = AnimElem = 64
trigger62 = AnimElem = 65
trigger63 = AnimElem = 66
trigger64 = AnimElem = 67
trigger65= AnimElem = 68
trigger66 = AnimElem = 69
trigger67 = AnimElem = 70
trigger68 = AnimElem = 71
attr = S, SP
ignorehitpause = 1
projanim = 3706
;projhitanim = 3630
offset = -50,-5
velocity = 55,-1.5
damage = 10
animtype = Hard
guardflag = -1
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -8
air.velocity = -2.5,-5




[State 2210 , 1]
type = VelAdd
trigger1 = P2BodyDist X < 80
trigger1 = AnimElem = 77
x = 35

[State 2210 , 1]
type = VelAdd
trigger1 = P2BodyDist X > 80
trigger1 = AnimElem = 77
x = 65

[State 2210, 1]
type = Projectile
trigger1 = AnimElem = 75
ignorehitpause = 1
projanim = 3710
projsprpriority = -1
offset = -50,-5
velocity = 30,0
priority = -2
damage = 0
animtype = Hard
guardflag = -1



[State 2210 , 7]
type = HitDef
trigger1 = AnimElem = 77
priority = 7
attr = S, HA
damage = 10
animtype = hard
guardflag = -1
sparkno =S3630
hitsound = S1200,1
guardsound = S1000,2
pausetime = 5,12
ground.hittime = 16
ground.type = low
ground.velocity = .6,-15
air.velocity = -3
fall = 1
fallrecover = 0
falldamage = 30

[State 2210 , 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------
;INTRO Kosumo
[Statedef 191]
type = S
ctrl = 0
anim = 3722;190
velset = 0,0,0

[State 191, 0]
type = AssertSpecial
trigger1 = Time = [0,140]
flag = Intro

[State 191, cosmo]
type = Explod
trigger1 = time = 0
anim = 3723
pos = 0,0
postype = p1
removetime = 150
sprpriority = -2
supermove = 0
ignorehitpause = 1
ownpal = 1
bindtime = 170
persistent = 0

[State 191, cosmo]
type = Explod
trigger1 = time = 0
anim = 3706
pos = 0,0
postype = p1
removetime = 70
sprpriority = -2
supermove = 0
ignorehitpause = 1
ownpal = 1
bindtime = 170
persistent = 0

;drago
[State 191, drago]
type = Explod
trigger1 = time = 10
ID = 3711
anim = 3711
pos = 14,-15
postype = p1
sprpriority = -1
supermove = 0
removetime = 300
ignorehitpause = 1
ownpal = 1
bindtime = 1
persistent = 0
facing = -1

;fiorediluna
[State 191, fdl]
type = Explod
trigger1 = time = 8
anim = 3684
shadow = -1
pos = 30,0
postype = p1
sprpriority = 3
supermove = 0
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 1

[State 191, 2]
type = PlaySnd
trigger1 = Animelem = 1
value = 2200, 0

[State 191, 1] ;Intro not yet over
type = VarSet
trigger1 = Time = 0
v = 9
value = 1

[State 191, 2]
type = PlaySnd
trigger1 = Animelem = 25
value = 5, 0

[State 191, 3] ;Intro over, set v9 to 0
type = VarSet
trigger1 = Time = 65
v = 9
value = 0

[State 191, 4]
type = null;ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 0
;----------------------------


[Statedef 2220]
type = A
movetype = A
physics = N
anim = 2220
velset = 0,0




[State 2220 , 1]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
trigger4 = AnimElem = 6
x = 8




[State 2220 , 2]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
damage = 70,5
guardflag = MA
sparkxy = -10,-45
hitsound = S1200,1
guardsound = S1000,2
pausetime = 44,44
p2stateno = 2295




[State 2220 , 3]
type = EnvShake
trigger1 = movehit
time = 16
ignorehitpause = 1
persistent = 0




[State 2220 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0


;-----------------------------------------------

[Statedef 2230]
type = A
movetype = I
physics = N
anim = 2230
velset = 0,-9




[State 2230 , 1]
type = VelAdd
trigger1 = Time > 0
y = .42




[State 2230 , 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 8




[State 2230 , 3]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 2240

;-----------------------------------------------------


[Statedef 2240]
type = S
movetype = I
physics = S
anim = 2240
velset = 0,0




[State 2240 , 1]
type = PosSet
trigger1 = Time = 0
y = 0




[State 2240 , 2]
type = VarSet
trigger1 = AnimTime = 0
v = 1
value = 0




[State 2240 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




[Statedef 2250]
type = S
movetype = A
physics = S
anim = 2250
poweradd = -3000
velset = 0
ctrl = 0




[State 2250 , 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 7




[State 2250 , 2]
type = SuperPause
trigger1 = Time = 3
time = 30
anim = -1




[State 2250 , 3]
type = PlaySnd
trigger1 = Time = 3
value = 3000,0




[State 2250 , 4]
type = PlaySnd
trigger1 = Time = 3
value = 2200,0




[State 2250 , 5]
type = Explod
trigger1 = Time = 3
anim = 3020
sprpriority = -2
postype = p1
pos = 8,-84
supermove = 1
bindtime = 1
ownpal = 1




[State 2250 , 6]
type = Explod
trigger1 = Time = 3
anim = 3030
sprpriority = 2
postype = p1
pos = 8,-84
supermove = 1
bindtime = 1
ownpal = 1




[State 2250 , 7]
type = PosAdd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
x = 8




[State 2250 , 8]
type = PlaySnd
trigger1 = AnimElem = 5, = 1
value = 1400,1




[State 2250 , 9]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
damage = 90,5
animtype = hard
guardflag = MA
sparkxy = -10,-50
hitsound = S1200,1
guardsound = S1000,2
pausetime = 44,44
ground.hittime = 16
ground.type = low
ground.velocity = 0
air.velocity = -3,-3




[State 2250 , 10]
type = EnvShake
trigger1 = movehit
time = 16
persistent = 0
ignorehitpause = 1




[State 2250 , 11]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = movehit
value = 2260




[State 2250 , 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 2255




[Statedef 2255]
type = S
movetype = A
physics = S
anim = 2255




[State 2255 , 1]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 9
trigger4 = AnimElem = 10
x = 8




[State 2255 , 2]
type = PlaySnd
trigger1 = AnimElem = 3, = 1
trigger2 = AnimElem = 9, = 1
value = 200,2




[State 2255 , 3]
type = HitDef
trigger1 = AnimElem = 4
attr = S, HA
damage = 80,5
animtype = hard
guardflag = MA
sparkxy = -10,-50
hitsound = S1200,1
guardsound = S1000,2
pausetime = 12,12
ground.hittime = 16
ground.type = low
ground.slidetime = 16
ground.velocity = -4
air.velocity = -3,-3




[State 2255 , 4]
type = HitDef
trigger1 = AnimElem = 10
attr = S, HA
damage = 40,5
animtype = hard
guardflag = MA
sparkxy = -10,-50
hitsound = S1200,1
guardsound = S1000,2
pausetime = 12,12
ground.hittime = 16
ground.type = low
ground.slidetime = 16
ground.velocity = -4
air.velocity = -3,-3




[State 2255 , 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




[Statedef 2260]
type = S
movetype = A
physics = S
anim = 2260




[State 2260 , 1]
type = VarAdd
trigger1 = Time = 0
v = 1
value = 1




[State 2260 , 3]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 6
trigger4 = AnimElem = 7
trigger5 = AnimElem = 13
trigger6 = AnimElem = 14
trigger7 = AnimElem = 19
trigger8 = AnimElem = 20
x = 8




[State 2260 , 4]
type = HitDef
trigger1 = AnimElem = 5
;trigger1 = Var(1) = 1
attr = S, HA
damage = 40,5
animtype = hard
guardflag = MA
sparkxy = -10,-75
hitsound = S1200,1
guardsound = S1000,2
pausetime = 4,4
ground.hittime = 16
ground.type = high
ground.velocity = 0
air.velocity = -3




[State 2260 , 5]
type = HitDef
trigger1 = AnimElem = 5
;trigger1 = Var(1) > 1
attr = S, HA
damage = 10,5
animtype = hard
guardflag = MA
sparkxy = -10,-75
hitsound = S1200,1
guardsound = S1000,2
pausetime = 4,4
ground.hittime = 16
ground.type = high
ground.velocity = 0
air.velocity = -3




[State 2260 , 5]
type = HitDef
trigger1 = AnimElem = 9
attr = S, HA
damage = 10,5
animtype = hard
guardflag = MA
sparkxy = -10,-85
hitsound = S1200,1
guardsound = S1000,2
pausetime = 4,4
ground.hittime = 16
ground.type = high
ground.velocity = 0
air.velocity = -3




[State 2260 , 6]
type = HitDef
trigger1 = AnimElem = 14
attr = S, HA
damage = 10,5
animtype = hard
guardflag = MA
sparkxy = -10,-45
hitsound = S1200,1
guardsound = S1000,2
pausetime = 4,4
ground.hittime = 16
ground.type = low
ground.velocity = 0
air.velocity = -3




[State 2260 , 7]
type = HitDef
trigger1 = AnimElem = 20
attr = S, HA
damage = 10,5
animtype = hard
guardflag = MA
sparkxy = -10,-45
hitsound = S1200,1
guardsound = S1000,2
pausetime = 4,4
ground.hittime = 16
ground.type = low
ground.velocity = 0
air.velocity = -3




[State 2260 , 8]
type = ChangeState
trigger1 = AnimTime = 0
;trigger1 = Var(1) = 5
value = 2270




[State 2260 , 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 2260




[Statedef 2270]
type = A
movetype = A
physics = N
anim = 2270
velset = 0,0




[State 2270 , 1]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 8
trigger4 = AnimElem = 9
trigger5 = AnimElem = 10
trigger6 = AnimElem = 11
x = 8




[State 2270 , 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, HA
damage = 100,5
animtype = hard
guardflag = MA
sparkxy = -10,-45
hitsound = S1200,1
guardsound = S1000,2
pausetime = 44,44
ground.hittime = 16
ground.type = low
ground.velocity = 0
air.velocity = -3




[State 2270 , 3]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
damage = 50,5
guardflag = MA
sparkxy = -10,-45
hitsound = S1200,1
guardsound = S1000,2
pausetime = 44,44
p2stateno = 2295




[State 2270 , 4]
type = EnvShake
trigger1 = movehit
time = 16
ignorehitpause = 1
persistent = 2




[State 2270 , 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2280




[Statedef 2280]
type = A
movetype = I
physics = N
anim = 2280
velset = 0,-9




[State 2280 , 1]
type = VelAdd
trigger1 = Time > 0
y = .42




[State 2280 , 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 8




[State 2280 , 3]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 2290




[Statedef 2290]
type = S
movetype = I
physics = S
anim = 2240
velset = 0,0




[State 2290 , 1]
type = PosSet
trigger1 = Time = 0
y = 0




[State 2290 , 2]
type = VarSet
trigger1 = AnimTime = 0
v = 1
value = 0




[State 2290 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;Air launch
[Statedef 2295]
type = A
movetype = H
physics = N

[State 2295 , 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = -5
z = 0

[State 2295 , 2]
type = ChangeAnim2
Trigger1 = Time >= 0
value = 2295

[State 2295 , 3]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 2296
;------------------------------------
;huiui
[Statedef 2296]
type = A
movetype = H
physics = N
velset = -1.7,-11

[State 2296 , 1]
type = VelAdd
trigger1 = Time > 0
y = .4

[State 2296 , 2]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100


;-----------------------------------------------------

[Statedef -2]

[State -2 , 1]
type = PlaySnd
trigger1 = stateno = 40
trigger1 = Time = 0
value = 40,0

[State -2 , 2]
type = PlaySnd
trigger1 = stateno = 52
trigger1 = Time = 1
value = 52,0

[State -2 , 3]
type = PlaySnd
triggerall = random < 250
triggerall = time = 1
triggerall = stateno = 5000
trigger1 = anim = 5000
trigger2 = anim = 5001
trigger3 = anim = 5010
trigger4 = anim = 5011
value = 5000,0

[State -2 , 4]
type = PlaySnd
triggerall = random < 250
triggerall = time = 1
triggerall = stateno = 5010
trigger1 = anim = 5020
trigger2 = anim = 5021
value = 5000,0

[State -2 , 5]
type = PlaySnd
triggerall = random < 250
triggerall = time = 1
triggerall = stateno = 5000
trigger1 = anim = 5002
trigger2 = anim = 5012
value = 5000,1

[State -2 , 6]
type = PlaySnd
trigger1 = random < 250
trigger1 = time = 1
trigger1 = stateno = 5010
trigger1 = anim = 5022
value = 5000,1
value = 3460,0

[State -2 , 7]
type = PlaySnd
trigger1 = random < 250
trigger1 = time = 1
trigger1 = stateno = 5100
trigger1 = Alive = 1
value = 5100,0

[State -2 , 8]
type = PlaySnd
trigger1 = stateno = 100
trigger1 = AnimElem = 6, = 3
value = 100,0

[State -2 , 9]
type = PlaySnd
trigger1 = stateno = 100
trigger1 = AnimElem = 4, -1
value = 10,1

;------------------------------------

[State -2 , 8]
type = PlaySnd
trigger1 = stateno = 20
trigger1 = AnimElem = 4
value = 100,0

[State -2 , 9]
type = PlaySnd
trigger1 = stateno = 20
trigger1 = AnimElem = 2
value = 100,1

;-----------------------------

[State -2 , 8]
type = PlaySnd
trigger1 = stateno = 21
trigger1 = AnimElem = 4
value = 100,1

[State -2 , 9]
type = PlaySnd
trigger1 = stateno = 21
trigger1 = AnimElem = 2
value = 100,0

[State -2 , 10]
type = VarSet
trigger1 = stateno = 0
v = 1
value = 0


;----------------------------------------------------------------(stato da collaudare)
[Statedef 215]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 320                       ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)

[State 215,1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NT
getpower  = 40
Hitflag = M-
sparkno = 5
priority = 2, Miss
sparkxy = -18,-65
hitsound = F5,0
p2stateno = 321
p2getp1state = 1
p2facing = 1

[State 215, var9]
type = VarRandom
trigger1 = Time = 0
v = 9
range = 0,60

[State 215, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------
;spirale di pegasus
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = 500
velset = 0,0
ctrl = 0
anim = 900
sprpriority = 2

[State 800, 0]
type = AfterImage
trigger1 = time = 4
time = 20
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT   
hitflag = M-          
priority = 5, Miss   
sparkno = -1          
sprpriority = 7       
p1facing = 0
p2facing = 1          
p1stateno = 810      
p2stateno = 820       
fall = 1
fall.damage = 350
    
[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------------
;Spirale di Pegasus
[Statedef 810]
type = S
movetype = A
physics = N
anim = 910
poweradd = 100

[State 250, 5]
type = AfterImage
trigger1 = time = 4
time = 100
FrameGap = 5
length = 100
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

;lens flare effect
[State 810, lens]
type = Explod
trigger1 = AnimElem = 5
anim = 3673
pos = 5,-10
postype = p1
sprpriority = 2
ontop = 1
removetime = 27
bindtime = 100
ownpal = 1
supermove = 1


[State 810, camera]
type = Helper
trigger1 = AnimElem = 6
name = "Skycam2"
postype = Left
pos = -200, -950
stateno = 3685
supermovetime = -1
helpertype = player
keyctrl = 0
ownpal = 1


[State 810 , 0]
type = VelAdd
trigger1 = AnimElem = 4
y = -2

[State 810 , 0]
type = VelAdd
trigger1 = AnimElem = 4
y = -4
x = -1

[State 810 , 0]
type = VelAdd
trigger1 = AnimElem = 5
y = -2
x = -1

[State 810 , 0]
type = VelAdd
trigger1 = AnimElem = 6
y = -1
x = -1

[State 810 , 0]
type = VelAdd
trigger1 = AnimElem = 7
y = 1
x = -1

[State 810 , 0]
type = VelAdd
trigger1 = AnimElem = 8
y = 4
x = 0

;lens flare effect
[State 810, lens]
type = Explod
trigger1 = Time = 0
anim = 3671
id = 3671
pos = -320,-1500
postype = Right
sprpriority = 2
ontop = 1
removetime = 500
bindtime = 15
ownpal = 1
supermove = 1

[State 810, 0]
type = Screenbound
trigger1 = Time = 0
value = 0
movecamera = 0,0

[State 810, 1]
type = PlaySnd
trigger1 = time = 0
value = 2125, 1

;Bg effect
[State 810, super]
type = BGPalfx
trigger1 = time >= 0
ignorehitpause = 1
ID = 3570
time = 99
persistent = 1
bindtime = -1
mul = 192,192,255
add = 5,5,5
invertall = 0
color = 192

;spirale
[State 810, snd]
type = PlaySnd
trigger1 = time = 1
value = 920, 2

[State 810, 1]
type = PlaySnd
trigger1 = time = 0
value = 1100, 2

[State 810, 2]
type = PlaySnd
trigger1 = time = 8
value = 52, 0
;------------------------
[State 810, 3]
type = TargetBind
trigger1 = animelem = 1
pos = 0,0

[State 810 , 8]
type = TargetBind
trigger1 = AnimElem = 2
y = 1
x = -1

[State 810 , 9]
type = TargetBind
trigger1 = AnimElem = 3
y = 4
x = 0

[State 810 , 10]
type = TargetBind
trigger1 = AnimElem = 4
x = -2
y = 15
;-------------------------nuovi


[State 810, 4]
type = TargetBind
trigger1 = AnimElem = 5
y = 0

[State 810, 5]
type = TargetBind
trigger1 = AnimElem = 6
y = -3
x = -1

[State 810 , 6]
type = TargetBind
trigger1 = AnimElem = 7
y = -2
x = -1

[State 810 , 7]
type = TargetBind
trigger1 = AnimElem = 8
time = 27
y = -1
x = -1


;--------------------------------


[State 810, 11]
type = TargetState
trigger1 = AnimElem = 8
value = 821

[State 810 , 12]
type = VelAdd
trigger1 = AnimElem = 8
x = -2
y = 15

[State 810, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 108
ctrl = 0

;-------------------------------------
;P2 state1
[Statedef 820]
type = A
movetype = H
physics = N
velset = 0,0

[State 250, 5]
type = AfterImage
trigger1 = time = 4
time = 150
FrameGap = 5
length = 100
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 820, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 820


;--------------------------------------
;P2 state2
[Statedef 821]
type = A
movetype = H
physics = N
velset = 6, -5
poweradd = 40

[State 821, 1]
type = VelAdd
trigger1 = 1
y = .4

[State 821, 2]
type = Turn
trigger1 = time = 0

[State 821, 3]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0 
value = 5100

;---------------------------------------------
;Ending guard
[Statedef 372]
type    = S
movetype= H
physics = S
anim = 1507

[State 372, 1]
type = HitVelSet
trigger1 = Time = 0
x = 0

[State 372, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = Time >= GetHitVar(hittime)
x = 0

[State 372, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 372, 4]
type = ChangeState
trigger1 = Time >= GetHitVar(hittime)
value = 373
ctrl = 1

[Statedef 373]
type    = S
physics = S

[State 373, 1]
type = ChangeAnim
trigger1 = Anim != 373
value = 373

[State 373, 4]
type = DestroySelf
trigger1 = Time = 200

;--------------------------------------
;supercaduta
; SGUARDHIT (shaking)
[Statedef 3691]
type    = S
movetype= H
physics = S
velset = 0,0

[State 3691, 1]
type = ChangeAnim
trigger1 = 1
value = 3675

[State 3676, 2]
type = ChangeState
trigger1 = Time = 0
value = 5120

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;///////////////////////////////////////////////////////////
;-----------------------------------------------------------
;                           HELPER
;-----------------------------------------------------------
;///////////////////////////////////////////////////////////
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\

;pegaso(helper/explod)state
[Statedef 3665]
type = S
movetype = A
physics = S
anim = 3665
juggle = 5
velset = 30
ctrl = 0

[State 3665, 1]
type = VelSet
trigger1 = AnimElem = 1
x = 80

[State 3665, 1]
type = VelAdd
trigger1 = AnimElem = 1
x = 50


;------------------------------------
;superguard
[Statedef 3675]
type    = S
physics = S

[State 3675, 1]
type = ChangeAnim
trigger1 = Anim != 3675
value = 3675

[State 3675, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 3677


; SGUARDHIT (shaking)
[Statedef 3676]
type    = S
movetype= H
physics = S
velset = 0,0

[State 3676, 1]
type = ChangeAnim
trigger1 = 1
value = 3675

[State 3676, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 3676

;---------------------------
;          Sky-cam
;----------------------------
;Sky-cam
[Statedef 3684]
type = S
movetype = A
physics = S
anim = 4534
juggle = 0
velset = 0
ctrl = 0

[State 3684, 4]
type = DestroySelf
trigger1 = Time = 65
;---------------------------------------
;Sky-cam 2
[Statedef 3685]
type = S
movetype = A
physics = S
anim = 4534
juggle = 0
velset = 0
ctrl = 0

[State 3684, 4]
type = DestroySelf
trigger1 = Time = 30
;------------------------------------------
;Sky-cam 3
[Statedef 3785]
type = S
movetype = A
physics = S
anim = 4534
juggle = 0
velset = 0
ctrl = 0

[State 3684, 4]
type = DestroySelf
trigger1 = Time = 300

;---------------------------
;          Stand-cam
;---------------------------

;--------------------------------------
;placcaggio
[Statedef 700]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 245

[State 700, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT
getpower  = 50
givepower = 40
hitflag = M-
sparkno = -1
priority = 3, Miss  
pausetime = 25,25
p2facing = 1
p1stateno = 710
p2stateno = 720
hitsound = 1100,1
fall.damage = 100 

[State 710, 1]
type = PlaySnd
trigger1 = time = 0
value = 1100, 2


[State 700, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------
;stato del p1 se la presa ha successo
[Statedef 710]
type    = S
movetype= A
physics = N
anim = 246
sprpriority = 2



[State 710, 1]
type = PosAdd
trigger1 = animelem = 4
x = -10

[State 710, 1]
type = Velset
trigger1 = animelem = 8
x = 4
y = -5

[State 710, 1]
type = Velset
trigger1 = animelem = 11
x = 0
y = 0

[State 710, 1]
type = Posset
trigger1 = animelem = 11
y = 0

[State 710, 2]
type = TargetBind
trigger1 = AnimElem = 1, > 0
trigger1 = AnimElem = 3, < 0
pos = 25, -5

[State 710, 2]
type = TargetBind
trigger1 = AnimElem = 4, > 0
trigger1 = AnimElem = 5, < 0
pos = -5, -7

[State 710, 2]
type = TargetBind
trigger1 = AnimElem = 5
pos = -35, 0

[State 710, 2]
type = TargetBind
trigger1 = AnimElem = 5, > 0
trigger1 = AnimElem = 6, < 0
pos = -20, 5

[State 710, 2]
type = TargetBind
trigger1 = AnimElem = 6, > 0
trigger1 = AnimElem = 7, < 0
pos = 0, -2

[State 710, 2]
type = TargetBind
trigger1 = AnimElem = 7, > 0
trigger1 = AnimElem = 8, < 0
pos = 20, -15


[State 710, 3]
type = TargetState
trigger1 = AnimElem = 1; 1
value = 730

[State 710, 4]
type = Sprpriority
trigger1 = Animelem = 8, >= 0
trigger1 = Animelem = 10, < 0
value = 1

[State 710, 5]
type = EnvShake
trigger1 = AnimElem = 11
time = 20
ampl = 4

[State 710, 6]
type = Afterimage
trigger1 = AnimElem = 8
time = 25
length = 9
PalBright   =   0,  0,  0
PalContrast = 128, 128, 128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9
FrameGap = 4
Trans = Add1


[State 710, 8]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 720]
type    = A
movetype= H 
physics = N
velset = 0,0
ctrl = 0

[State 720, 0]
type = ChangeAnim2
Trigger1 = Time = 0
value = 247

[State 710, 1]
type = Veladd
trigger1 = AnimElem = 4
y = 14
x = 10

[State 720, 2]
type = HitBy
Trigger1 = 1
value = SCA
time = 1

[State 720, 3]
type = Sprpriority
trigger1 = Animelem = 5
trigger1 = Animelem = 7
value = 2
;-----------------------------------------------
;stato target della presa finale
[Statedef 730]
type    = A
movetype= H 
physics = N
velset = 0,0
ctrl = 0


[State 730, 4]
type = PowerAdd
Trigger1 = Time = 0
value = 60


[State 730, 7] ;Hit ground
type = SelfState
trigger1 = time = 0;5;Vel Y > 0
value = 5050;5100 ;Hit ground
;------------------------------------------------














































;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
;                                   ALL SELFSTATE
;---------------------------------------------------------------------------

[StateDef -3]



;ultra power
[State -3, 10]
type = AttackMulSet
trigger1 = time = 1500
value = 0


;ultra defence
[State -3, 11]
type = DefenceMulSet
trigger1 = time = 1500
value = 0


[State -3,remove]
type = RemoveExplod
triggerall = NumExplod(2) = 1
trigger1 = stateno != 0
ID = 2

[State -3,remove]
type = RemoveExplod
triggerall = NumExplod(2) = 1
trigger1 = anim = 5
ID = 2

;freccia indicativa p2
[State -3, target sign]
type = Explod
triggerall = NumExplod(3718) = 0
trigger1 = P2Dist y > 300
anim = 3718
id = 3718
pos = 0,-30
postype = p2
sprpriority = 4
supermove = 1
ignorehitpause = 1
ontop = 1
ownpal = 1
bindtime = -1
persistent = 1
facing = -1

;freccia indicativa p2
[State -3,remove]
type = RemoveExplod
trigger1 = P2Dist y < 300
ID = 3718

;blood
[State -3, blood]
type = Explod
trigger1 = stateno = 5110
trigger1 = life <= 300
trigger1 = palno = 1
anim = 3850
pos = 0,0
postype = p1
sprpriority = -4
supermove = 1
ignorehitpause = 1
ownpal = 1
bindtime = 1
persistent = 1

;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
;                                   ALL SELFSTATE
;---------------------------------------------------------------------------

;------------------------------------------
;lighting cometa standing
[Statedef 1000]
type = S
movetype = A
physics = S
anim = 1000
poweradd = -250
juggle = 5
ctrl = 0
velset = 0

[State 1000, afterimage]
type = AfterImage
trigger1 = time = 0
time = 50
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 210,50,130 ;red
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 1000 , 5]
type = PlaySnd
trigger1 = Time = 5
value = 1100,2

[State 1000, cometalucente]
type = PlaySnd
trigger1 = Time = 0
value = 1100,0

[State 1000, light]
type = Explod
trigger1 = AnimElem = 6
anim = 3661
ID = 3661
pos = 15,4
postype = p1
sprpriority = 2
supermove = 1
removetime = 10
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 1000 , 3]
type = Projectile
trigger1 = AnimElem = 7, = 1
attr = S, SP
projanim = 9999
projhitanim = 3500
offset = 100,0
velocity = 7
damage = 100,50
animtype = Hard
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -8
air.velocity = -2.5,-5

[State 1000 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;-------------------------------- agregado -------------------


;Excalibur 2 por INSANOsuke_Sagara
[Statedef 350]
type = S
physics = S
anim = 21900
poweradd = -4000
juggle = 5
velset = 0
ctrl = 0

[State 350, helper espada]
type = helper
trigger1 = animelem = 3
helpertype = normal
name = "espada"
id = 1402
postype = P1
pos = 0,-70
stateno = 1403

[state 350, pause]
type = superpause
trigger1 = animelem = 1
time = 20
darken = 1

[State 350, voltando]
type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;------------

;-----------------
;Espada

[statedef 1403]
type = S; A
movetype = A
physics = N
ctrl = 0
anim = 3120
sprpriority = 5

[State 1403 efeito]
type = AfterImage
trigger1 = time = 0
time = 220
TimeGap  = 1
FrameGap = 1
length = 220
Trans = add

[State 1403, 1]
type = PlaySnd
trigger1 = time = 0
value = 222, 0

[State 1403, pega]
type = HitDef
trigger1 = AnimElem = 1
attr = S, HP
guardflag = MA
animtype = hard
damage = 500,200
pausetime = 3,10
sparkno = -1
guardsparkno = -1
hitsound = 5,4
guardsound = 6,0
ground.type = Low
ground.hittime = 12
ground.velocity = 0,5
air.velocity = -4, -1
envshake.time = 10
envshake.freq = 10
envshake.ampl = -10
envshake.phase = 10
fall = 1
palfx.time = 20
palfx.add = 0,0,0
palfx.mul = 192,192,300
palfx.sinadd     = 0,30,40,40
palfx.color      = 0
palfx.invertall  = 1



[state 1403, velo]
type = veladd
trigger1 = animelem = 1
x = 20

[state 1403 suma dai seu raio tosco]
type =  destroyself
trigger1 =  time = 100
--------------------------------------------------------------------


[Statedef 2500]
type = S
movetype = A
physics = S
anim = 1234
poweradd = -5000
ctrl = 0
velset = 0
sprpriority = 3

[state 2500, foto]
type = Explod
Trigger1 = animelem = 1
anim = 3114
pos = -20,280
postype = left
removetime = 100
sprpriority = -1
supermove = 1
bindtime = 100

[state 2500, FUNdo]
type = Explod
Trigger1 = AnimElem = 1
anim = 2500
pos = 0,0
postype = Left
removetime = 100
sprpriority = -2
supermove = 1
bindtime = 100

[state 2500, pause]
type = superpause
trigger1 =  animelem = 1
time = 20
darken = 1

[STATE 2500, escuro]
type = envcolor
trigger1 = AnimTime = 1 
value = 0, 0, 0
under = 1

[State 2500, 1]
type = PlaySnd
trigger1 = Time = 0
value = 111, 0

[State 2500, hitdef]
type = HitDef
trigger1 = AnimElem = 7
attr = A, SA
damage    = 300,150
getpower  = 40
givepower = 20
guardflag = HA
priority = 3
pausetime = 15,18
sparkno = S3724
sparkxy =  -25,15
hitsound   = S2,6
guardsound = S9,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 20
ground.velocity = -6.5     
air.type = Hight
air.velocity = -5,-3.5
guard.velocity = -5
airguard.velocity = -2.5    
fall = 1

[state 2500, perde power]
type =  poweradd
trigger1 = animtime = 0
Value = -3000


[state 2500, volta pro 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------- ;Excalibur -----------------------

;Excalibur
[Statedef 8888]
type = S
movetype = A
physics = S
anim = 8888
poweradd = -5000
juggle = 3
velset = 0
ctrl = 0

;[State 8888, super]
;type = BGPalfx
;trigger1 = Time = 0
;ignorehitpause = 1
;time = 150
;mul = 100,100,100
;add = 2,2,2
;invertall = 0

[State 8888, 0]
type = SuperPause
trigger1 = AnimElem = 23
time = 25
movetime = 0
anim = -1

[State 8888, 1]
type = SuperPause
trigger1 = AnimElem = 3
time = 150
movetime = 0
anim = -1

[State 8888 , 1]
type = SuperPause
trigger1 = AnimElem = 3
time = 150
anim = S6666
pos = -13,-107
darken = -1
supermove = 0
movetime = 0

;;;;[State 8888 , shura]
;;;;type = SuperPause
;;;;trigger1 = AnimElem = 3
;;;;time = 150
;;;;anim = S5555
;;;;pos = -30,0
;;;;darken = -1
;;;;supermove = 0
;;;;movetime = 0

[State 8888, shurafond]
type = Explod
triggerall = NumExplod(3705) = 0
trigger1 = statetype != A
trigger1 = time = 15
anim = 3777
pos = 0,0
postype = back
removetime = 137
supermove = 1
sprpriority = -4
supermove = 0
ignorehitpause = 1
bindtime = 150
ownpal = 1

;light
[State 8888, light]
type = Explod
trigger1 = AnimElem = 4
anim = 7977
pos = -13,-133
postype = p1
removetime = 47
sprpriority = 2
supermove = 0
ignorehitpause = 1
ownpal = 1
bindtime = 1
persistent = 0
;facing = -1

;dcoupe de l'air
[State 8888, dcoupe de l'air]
type = Explod
trigger1 = time = 53
anim = 777
pos = 0,0
postype = p1
removetime = 47
sprpriority = 2
supermove = 0
ignorehitpause = 1
ownpal = 1
bindtime = 1
persistent = 0
;facing = -1

[State 8888, 3]
type = HitDef
trigger1 = AnimElem = 23
attr = S, HA
damage = 1000,700
priority = 7
getpower = 100
givepower = 500
animtype = hard
guardflag = -1
forcestand = 1
sparkno = S3707
sparkxy =  100,0
hitsound = S2,6
guardsound = S5,1
pausetime = 0,0
ground.hittime = 19
ground.type = hight
ground.slidetime = 19
ground.velocity = -15,-8
air.velocity = -.5,-3
fall = 1

[State 8888, 7] ;Shake
type = EnvShake
Trigger1 = AnimElem = 23
time = 30

[State 8888, excalibur]
type = PlaySnd
trigger1 = AnimElem = 1
value = 7777, 1

[State 8888, yaaaa]
type = PlaySnd
trigger1 = AnimElem = 5
value = 222, 0

[State 8888, 7] ;Flash
type = EnvColor
Trigger1 = AnimElem = 25
value = 220,220,220
under = 0
time = 20

[State 8888, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------

[Statedef 4000] 
type    = U 
movetype= A 
physics = S 
juggle  = 4 
poweradd = -500
ctrl = 0 
velset = 0,0 
anim = 4000

[State 4000, 1]
type = PlaySnd 
trigger1 = time = 35
value = 450, 3 

[State 3000, 1]
type = RemoveExplod
trigger1 = Time = 0 

[State 4000]
type = helper 
stateno = 4010; helper 
trigger1 = time = 8
pos = -18,-95
postype = p1
bindtime = -1
ID=4010
ownpal = 1 
name = "braco"
supermovetime = 37
sprpriority = 5
;pausemovetime = 

[State 4000]
type = helper 
stateno = 4012; helper 
trigger1 = time = 4
pos = -18,-95
postype = p1
bindtime = -1
ID=4012
ownpal = 1 
name = "lamina"
supermovetime = 37
sprpriority = 3

[State 3000]
type = helper 
stateno = 3070; helper 
trigger1 = roundstate= 3 && numhelper(3070)=0
pos = 160,-120
postype = left
bindtime = -1
ID=3070
ownpal = 1 
name = "SuperFX"

[State 4000, 6] ;Brilho do especial
type = Explod 
trigger1 = time=31
pos = 0, 0
postype = p1 
bindtime = 80 
removetime = -2
;sprpriority = 5 
anim = 4003
ontop = 1
removeongethit = 1

[State 4000, 1] ;Virar
type = Turn 
trigger1 = Time = 0 
trigger1 = p2dist X < -5 

[State 4000, 1] ; "-Eargh... huh!"
type = PlaySnd 
triggerall = anim = 4000
trigger1 = animelem = 12
trigger2 = animelem = 18
trigger3 = animelem = 24
trigger4 = animelem = 30
trigger5 = animelem = 15
trigger6 = animelem = 21
trigger7 = animelem = 27
trigger8 = animelem = 36
value = 4000, 0

[State 4000, 1]
type = PlaySnd 
trigger1 = time = 30
value = 3000, 0 

[State 3000, 1];"-You are finished!"
type = PlaySnd 
trigger1 = time=0
value = 3000, 1 
channel = 0 

[State 0]
type = Helper
;triggerall = anim = 2216
trigger1 = time = 40;animelem = 11;time = 80
helpertype = normal
id = 4110
postype = p1
pos = 40,0
stateno = 4110
keyctrl = 0
ownpal = 0
priority = 1

[State 3500, CAMERA]
type = ScreenBound
triggerall = numhelper(4110)=1
trigger1 = helper(4110), projcontact != 0
value = 0
movecamera = 0,0

[State 3000, 6] ; aura de fogo
type = Explod 
trigger1 = AnimTime = 0 
;trigger1 = time= 173
pos = 0, 0 
postype = p1 
bindtime = -1 
removetime = -2
removeongethit = 1
sprpriority = 5 
anim = 3113
scale = 1,2

[State 4000, 5] 
type = ChangeState 
;triggerall = numhelper(4110) = 0
trigger1 = AnimTime = 0 
;trigger2 = backedgedist < 0 
value = 0
ctrl = 1 

[State 4000, 2] ;super pausa
type = SuperPause 
trigger1 = Time = 4 && numhelper(3070)=0
time = 66
movetime = 22
Anim = -1 

[State 4000, 6] ;Brilho do especial
type = Explod 
trigger1 = time=4
pos = 15, -118
postype = p1 
bindtime = 1 
supermovetime = 66
sprpriority = 5 
anim = F102 

[State 4000, 4]
type=PowerAdd
trigger1= time = 4
value=-1000 * (var(9)=0)

[State 4000, 9] ;Zoom Portrait
type        = Explod 
trigger1    = Time = [4,14] 
anim = 10000 
postype = back 
ID = 10000 
sprpriority = -3
supermovetime = 1 
removetime = 1 
scale = 3 - ((time) * 0.15), 3 - ((time)* 0.15) 
pos = 0,60-(time-26) * 5 

[State 4000, 9] ;Portrait fixo
type        = Explod 
trigger1    = Time = 14
anim = 10000 
postype = back 
ID = 10000 
vel = -1,0 
sprpriority = -3
supermovetime = 1 
removetime = 2 
pos = 0,0 

[State 4000, 9] ;Sem fundo e frente
type        = AssertSpecial 
trigger1    = Time = [4,30] 
flag = noBG 
flag2 = noFG 

[State 4000, 9] ;Efeito de fundo azul
type        = BGPalFX 
triggerall = anim = 4000
trigger1 = (time % 30)=0 && time > 4
time = 30
add = 0,255*(id=33||id=35),255*(id=32||id=34) 
sinadd = 0,100*(id=33||id=35),100*(id=32||id=34),15

[State 4000, 4] 
type = Explod 
trigger1 = anim= 4001 && animelem =1
pos = 0,0 
postype = p1 
bindtime = 1
sprpriority = 3 
anim = 4130
removetime = -2

;------------------

;---------------------------------------------------------
; Mo
[Statedef 4010]
physics = N
anim = 4001
sprpriority = 5

[State 425, 1] 
type = AngleSet 
trigger1 = Time >= 0 
value= 306 + time*4 

[State 425, 1] 
type = AngleDraw 
trigger1 = Time >= 0 

[State 3610, 7] 
Type = destroyself 
trigger1 = time=40

;---------------------------------------------------------
; Lmina
[Statedef 4012]
physics = N
anim = 4002
sprpriority = 5

[State 425, 1] 
type = AngleSet 
trigger1 = Time >= 0 
value= 306 + time*4 

[State 425, 1] 
type = AngleDraw 
trigger1 = Time >= 0 

[State 4440, Super D]
type = AfterImage
trigger1 = Time = 0; enfeite
time = 40;100;360
framegap=2
PalBright = 1,1,1
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1


[State 3500, 6] ;Brilho do especial
type = Explod 
trigger1 = time=36
trigger2 = time=37
pos = 0, -150
postype = p1 
bindtime = -1 
sprpriority = 5 
anim = 3520
removetime = 3
scale=8,26
ontop =1

[State 3610, 7] 
Type = destroyself 
trigger1 = time=40

;-------------------------------------------
[Statedef 4110]
type = S
anim = 4110
movetype = A
hitcountpersist = 60

[State 0]
type = envshake
trigger1 = time = 6
time = 16
ampl = 4

[State 0]
type = PlaySnd
trigger1 = time >= 0
trigger1 = timemod = 12,0
value = 4110,0

[State 0]
type = posadd
trigger1 = time >= 0
x = 6

[State 1]
type = Projectile
trigger1 = time >= 0
trigger1 = timemod = 12,0
projanim = 4111
projpriority = 1
projremove = 0
projhits = 1
ProjID = 3115
projremovetime = 20
projshadow = -1
velocity = 0
attr = S, HP
damage   = 35,12
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 5,0
hitsound   = S10,2
guardsound = 6,0
sparkxy = 0,-20
ground.type = low
ground.slidetime = 35
ground.hittime  = 35
ground.velocity = -5, -2
ground.cornerpush.veloff = 0
air.velocity = -5,-2
guard.velocity = -16
fall=1

[State 3500, 6]
type = Explod 
trigger1 = time >= 0
trigger1 = (time%12) = 0
pos = 0, 0
postype = p1 
bindtime = -1 
anim = 4112
removetime = -2

[State 3500, 6]
type = Explod 
trigger1 = time >= 0
trigger1 = (time%3) = 0
pos = 0, 0
postype = p1 
bindtime = 1 
anim = 4112
;accel = -12, 0
removetime = 24
scale=0.5+0.25*((time%6)=0),0.5+0.25*((time%6)=0)

[State F]
type = Destroyself
;trigger2 = time = 140
trigger1 = FrontEdgeDist < -30
;---------------------------------

[Statedef 3070]
type = A
movetype = I
physics = N
anim = 3002

[State 9070, 1]
type = AssertSpecial
trigger1 = 1;Numhelper(3080) != 0
flag = NoBG
flag2 = NoFG
flag3 = NoBarDisplay

[State 184]
type = helper 
stateno = 3080; helper 
trigger1 = time<100 && (time%5)=0;numhelper(3080)=0
pos = 160,-120
postype = left
bindtime = -1
ID=3080
ownpal = 1 
name = "SuperFX2"
size.xscale = 25-time/2
size.yscale = 25-time/2

[State 3610, 7] 
Type = destroyself 
trigger1 = time=100;200;0;360
trigger2 = roundstate!=3

;---------------------------------------------------------
; Super KO FX
; (THANKS TO: Splodes Rogue)
[Statedef 3080]
type = A
movetype = I
physics = N
anim = 3001

[State 9070, 2]
type = Explod
trigger1 = time = 0
ID = 222
anim = 3001
postype = p1;left
pos = 0, 0
bindtime = -1
removetime = 1;-2
ownpal = 1
sprpriority = -4
;scalexy= 50-time,50-time

[State 4440, Super D]
type = AfterImage
trigger1 = Time = 0; enfeite
time = 20;100;360
framegap=1

;[State 9070, 3]
;type = PlaySnd
;trigger1 = time = 0
;value = 4, 3

[State 2025, 4]
type = AngleSet
Trigger1 = Time = 0
value = parent, time

[State 2025, 5]
type = AngleAdd
Trigger1 = 1
value = time * 4

[State 2025, 6]
type = AngleDraw
trigger1 = 1

[State 3610, 7] 
Type = destroyself 
trigger1 = time=5;0;360

;--------------------------------
;Weak
[Statedef 1821]
type    = S
movetype= A
physics = S
poweradd= 100
ctrl = 0
velset = 0
anim = 1821

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 5,0
freqmul = 1.1

[State 1000, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 4110,0

[State 1000, Helper]
type = Helper
trigger1 = animelem = 6
id = 1001
stateno = 1001
name = "weakwind"
postype = p1
pos = 50, 0
size.xscale = 1
size.yscale = 1
ownpal = 1

[state 1000, white fadeout]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time = 40
ignorehitpause = 1
persistent = 0

[State 100, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Weak
[Statedef 1001]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1001
sprpriority = 3

[State 1001, 1]
type = AfterImage
trigger1 = time = 1
time = 39
length = 55
PalBright = 0,0,0
PalContrast = 237, 255, 87
PalAdd = 0, 0, 0
FrameGap = 2
Trans = add

[State 1001, 2]
type = VelSet
trigger1 = 1
x = 4

[State 1001, Hitdef]
type = HitDef
trigger1 = 1
attr = S, NA
animtype  = light
damage    = 50, 9
guardflag = MA
pausetime = 0, 9
sparkxy = 25,0
sparkno = S1003
guard.sparkno = S1003
hitsound   = 5,3
guardsound = S7,1
ground.slidetime = 14
ground.hittime = 16
ground.velocity = -5
ground.type = Low
air.animtype = Back
air.velocity = -2.5,-5
getpower = 30

[State 1001,4]
type = Destroyself
trigger1 = movecontact

;---------------------------------------------------------------------------
;(Medium)
[Statedef 1002]
type    = S
movetype= A
physics = S
poweradd= 100
ctrl = 0
velset = 0
anim = 1821

[State 1002, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 5,0
freqmul = 1.1

[State 1002, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 4110,0

[state 1002, white fadeout]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time = 40
ignorehitpause = 1
persistent = 0

[State 1002, Helper]
type = Helper
trigger1 = animelem = 6
id = 1004
stateno = 1004
name = "mediumwind"
postype = p1
pos = 50, 0
size.xscale = 1
size.yscale = 1
ownpal = 1

[State 1002, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Medium
[Statedef 1004]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1001
sprpriority = 3

[State 1004, 1]
type = AfterImage
trigger1 = time = 1
time = 29
length = 55
PalBright = 0,0,0
PalContrast = 237, 255, 87
PalAdd = 0, 0, 0
FrameGap = 2
Trans = add

[State 1004, 2]
type = VelSet
trigger1 = 1
x = 5.3

[State 1004, Hitdef]
type = HitDef
trigger1 = 1
attr = S, NA
animtype  = medium
damage    = 55, 10
guardflag = MA
pausetime = 0, 9
sparkxy = 25,0
sparkno = S1003
guard.sparkno = S1003
hitsound   = 5,3
guardsound = S7,1
ground.slidetime = 16
ground.hittime = 18
ground.velocity = -8
ground.type = Low
air.animtype = Back
air.velocity = -5,-2
getpower = 30

[State 1004,4]
type = Destroyself
trigger1 = movecontact

;-------------------
;(Strong)
[Statedef 1003]
type    = S
movetype= A
physics = S
poweradd= 100
ctrl = 0
velset = 0
anim = 1821

[State 1003, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 5,0
freqmul = 1.1

[State 1003, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 4110,0

[state 1003, white fadeout]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time = 40
ignorehitpause = 1
persistent = 0

[State 1000, Helper]
type = Helper
trigger1 = animelem = 6
id = 1005
stateno = 1005
name = "strongwind"
postype = p1
pos = 50, 0
size.xscale = 1
size.yscale = 1
ownpal = 1

[State 1003, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Strong wind Helper
[Statedef 1005]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1001
sprpriority = 3

[State 1005, 4]
type = AfterImage
trigger1 = time = 1
time = 22
length = 55
PalBright = 0,0,0
PalContrast = 237, 255, 87
PalAdd = 0, 0, 0
FrameGap = 2
Trans = add

[State 1005, 5]
type = VelSet
trigger1 = 1
x = 6

[State 1005, Hitdef]
type = HitDef
trigger1 = 1
attr = S, NA
animtype  = heavy
damage    = 60,13
guardflag = MA
pausetime = 0, 9
sparkxy = 25,0
sparkno = S1003
guard.sparkno = S1003
hitsound   = 5,3
guardsound = S7,1
ground.slidetime = 18
ground.hittime = 20
ground.velocity = -3,-4
ground.type = Low
air.animtype = Back
air.velocity = -6,-4
getpower = 30

[State 1005,4]
type = Destroyself
trigger1 = movecontact


;-----------------------------------------
;-----------------------------------------

[Statedef 6401]
type    = S
movetype= A
physics = S
poweradd= -2000
ctrl = 0
velset = 0
anim = 4004

[State 201, 1]
type = PlaySnd
trigger1 = animelem=1
value = 0,13

[State 201, 2]
type = PlaySnd
trigger1 = animelem=3
value = 5,0

[State 2000, 1]
type = SuperPause
trigger1 = animelem = 1
time = 30
anim = -1

[State 3900, 1] 
type = Explod
trigger1 = AnimElem = 1
anim = 8002
ID = 8002
pos = -320, 5
postype = right
sprpriority = -5
supermove = 1
removetime = 65
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 3571, Dust] 
type = Explod
trigger1 = Time = 0
anim = 8001
pos = -45,-90
postype = p1
sprpriority = 5
supermove = 1
bindtime = 1
shadow = -1,0,0


[State 201, 1]
type = PlaySnd
trigger1 = animelem=2
value = 0,10

[State 1010, 0]
type = Helper
trigger1 = AnimElem = 3
helpertype = normal
name = "Flame Dragon"
id = 4007
postype = p1
pos = 0,0
stateno = 4007
keyctrl = 0
ownpal = 0
sprpriority = 1
priority = 3

[State 1010, 0]
type = Helper
trigger1 = AnimElem = 5
helpertype = normal
name = "Flame Dragon"
id = 4008
postype = p1
pos = 0,0
stateno = 4008
keyctrl = 0
ownpal = 0
sprpriority = 1
priority = 3

[State 1010, 0]
type = Helper
trigger1 = AnimElem = 7
helpertype = normal
name = "Flame Dragon"
id = 4009
postype = p1
pos = 0,0
stateno = 4009
keyctrl = 0
ownpal = 0
sprpriority = 1
priority = 3

[State 1010, 0]
type = Helper
trigger1 = AnimElem = 9
helpertype = normal
name = "Flame Dragon"
id = 4004
postype = p1
pos = 0,0
stateno = 4004
keyctrl = 0
ownpal = 0
sprpriority = 1
priority = 3

[State 1010, 0]
type = Helper
trigger1 = AnimElem = 11
helpertype = normal
name = "Flame Dragon"
id = 4005
postype = p1
pos = 0,0
stateno = 4005
keyctrl = 0
ownpal = 0
sprpriority = 1
priority = 3

[State 1002, 6]
type = ChangeState
trigger1 = Time = 100
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Flame Dragon 1
[Statedef 4007]
type    = S     
movetype= A     
physics = N     
juggle  = 1     
velset = 0,0
ctrl = 0  
poweradd = 0
anim = 4007

[State 201, 1]
type = PlaySnd
trigger1 = animelem=3
value = 0,14

[State 5150, 2]
type = SprPriority
trigger1 = Time >= 0
value = 2

[State 1011 , 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 6
trigger5 = animelem = 7
trigger6 = animelem = 8
trigger7 = animelem = 9
attr = SCA, HP
damage    = 30 
animtype = Heavy
guardflag = MA
hitflag = MAFDP
priority = 3, Hit
pausetime = 0,0
sparkno = -1
sparkxy = -10,-70
hitsound   = S0,5
ground.type = high
ground.slidetime = 15
ground.hittime = 24
guard.hittime = 14
ground.velocity = 0, -7
guard.velocity = -8
air.velocity = 0, -12
fall = 1
palfx.time = 32
palfx.add = 100,-50,-200
palfx.mul = 255,255,64
palfx.sinadd = 50,10,0,10
palfx.color = 0
palfx.invertall = 1

[State 1201, 4]
type = explod
trigger1 = movehit
anim = 2003
sprpriority = 0
postype = p2
bindtime = -1
pos = 0,-50
persistent = 0
ignorehitpause = 1


[state 1011, 8]
type = BindToParent
trigger1 = parent, stateno = 6401
pos = 90,15

[state 1011, 8]
type = destroyself
trigger1 = Animtime = 0
trigger2 = parent, stateno != 6401

;---------------------------------------------------------------------------
;Flame Dragon 2
[Statedef 4008]
type    = S     
movetype= A     
physics = N     
juggle  = 1     
velset = 0,0
ctrl = 0  
poweradd = 0
anim = 4007

[State 201, 1]
type = PlaySnd
trigger1 = animelem=3
value = 0,14

[State 5150, 2]
type = SprPriority
trigger1 = Time >= 0
value = 2

[State 1011 , 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 6
trigger5 = animelem = 7
trigger6 = animelem = 8
trigger7 = animelem = 9
attr = SCA, HP
damage    = 30 
animtype = Heavy
guardflag = MA
hitflag = MAFDP
priority = 3, Hit
pausetime = 0,0
sparkno = -1
sparkxy = -10,-70
hitsound   = S0,5
ground.type = high
ground.slidetime = 15
ground.hittime = 24
guard.hittime = 14
ground.velocity = 0, -7
guard.velocity = -8
air.velocity = 0, -12
fall = 1
palfx.time = 32
palfx.add = 100,-50,-200
palfx.mul = 255,255,64
palfx.sinadd = 50,10,0,10
palfx.color = 0
palfx.invertall = 1

[State 1201, 4]
type = explod
trigger1 = movehit
anim = 2003
sprpriority = 0
postype = p2
bindtime = -1
pos = 0,-50
persistent = 0
ignorehitpause = 1


[state 1011, 8]
type = BindToParent
trigger1 = parent, stateno = 6401
pos = 120,15

[state 1011, 8]
type = destroyself
trigger1 = Animtime = 0
trigger2 = parent, stateno != 6401
;---------------------------------------------------------------------------
;Flame Dragon 3
[Statedef 4009]
type    = S     
movetype= A     
physics = N     
juggle  = 1     
velset = 0,0
ctrl = 0  
poweradd = 0
anim = 4007

[State 201, 1]
type = PlaySnd
trigger1 = animelem=3
value = 0,14

[State 5150, 2]
type = SprPriority
trigger1 = Time >= 0
value = 2

[State 1011 , 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 6
trigger5 = animelem = 7
trigger6 = animelem = 8
trigger7 = animelem = 9
attr = SCA, HP
damage    = 20 
animtype = Heavy
guardflag = MA
hitflag = MAFDP
priority = 3, Hit
pausetime = 0,0
sparkno = -1
sparkxy = -10,-70
hitsound   = S0,5
ground.type = high
ground.slidetime = 15
ground.hittime = 24
guard.hittime = 14
ground.velocity = 0, -7
guard.velocity = -8
air.velocity = 0, -12
fall = 1
palfx.time = 32
palfx.add = 100,-50,-200
palfx.mul = 255,255,64
palfx.sinadd = 50,10,0,10
palfx.color = 0
palfx.invertall = 1

[State 1201, 4]
type = explod
trigger1 = movehit
anim = 2003
sprpriority = 0
postype = p2
bindtime = -1
pos = 0,-50
persistent = 0
ignorehitpause = 1


[state 1011, 8]
type = BindToParent
trigger1 = parent, stateno = 6401
pos = 150,15

[state 1011, 8]
type = destroyself
trigger1 = Animtime = 0
trigger2 = parent, stateno != 6401

;---------------------------------------------------------------------------
;Flame Dragon 4
[Statedef 4004]
type    = S     
movetype= A     
physics = N     
juggle  = 1     
velset = 0,0
ctrl = 0  
poweradd = 0
anim = 4007

[State 201, 1]
type = PlaySnd
trigger1 = animelem=3
value = 0,14

[State 5150, 2]
type = SprPriority
trigger1 = Time >= 0
value = 2

[State 1011 , 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 6
trigger5 = animelem = 7
trigger6 = animelem = 8
trigger7 = animelem = 9
attr = SCA, HP
damage    = 20 
animtype = Heavy
guardflag = MA
hitflag = MAFDP
priority = 3, Hit
pausetime = 0,0
sparkno = -1
sparkxy = -10,-70
hitsound   = S0,5
ground.type = high
ground.slidetime = 15
ground.hittime = 24
guard.hittime = 14
ground.velocity = 0, -7
guard.velocity = -8
air.velocity = 0, -12
fall = 1
palfx.time = 32
palfx.add = 100,-50,-200
palfx.mul = 255,255,64
palfx.sinadd = 50,10,0,10
palfx.color = 0
palfx.invertall = 1

[State 1201, 4]
type = explod
trigger1 = movehit
anim = 2003
sprpriority = 0
postype = p2
bindtime = -1
pos = 0,-50
persistent = 0
ignorehitpause = 1


[state 1011, 8]
type = BindToParent
trigger1 = parent, stateno = 6401
pos = 160,15

[state 1011, 8]
type = destroyself
trigger1 = Animtime = 0
trigger2 = parent, stateno != 6401
;---------------------------------------------------------------------------
;Flame Dragon 5
[Statedef 4005]
type    = S     
movetype= A     
physics = N     
juggle  = 1     
velset = 0,0
ctrl = 0  
poweradd = 0
anim = 4007

[State 201, 1]
type = PlaySnd
trigger1 = animelem=3
value = 0,14

[State 5150, 2]
type = SprPriority
trigger1 = Time >= 0
value = 2

[State 1011 , 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 6
trigger5 = animelem = 7
trigger6 = animelem = 8
trigger7 = animelem = 9
attr = SCA, HP
damage    = 20 
animtype = Heavy
guardflag = MA
hitflag = MAFDP
priority = 3, Hit
pausetime = 0,0
sparkno = -1
sparkxy = -10,-70
hitsound   = S0,5
ground.type = high
ground.slidetime = 15
ground.hittime = 24
guard.hittime = 14
ground.velocity = 0, -7
guard.velocity = -8
air.velocity = 0, -12
fall = 1
palfx.time = 32
palfx.add = 100,-50,-200
palfx.mul = 255,255,64
palfx.sinadd = 50,10,0,10
palfx.color = 0
palfx.invertall = 1

[State 1201, 4]
type = explod
trigger1 = movehit
anim = 2003
sprpriority = 0
postype = p2
bindtime = -1
pos = 0,-50
persistent = 0
ignorehitpause = 1


[state 1011, 8]
type = BindToParent
trigger1 = parent, stateno = 6401
pos = 180,15

[state 1011, 8]
type = destroyself
trigger1 = Animtime = 0
trigger2 = parent, stateno != 6401

;--------------------------------------
;--------------------------------------
;Gancho a
[Statedef 1500]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 80
ctrl = 0
anim = 1500

[State 850, NotHitBy]; if this move is infinity counter
type = NotHitBy
trigger1 = prevstateno = 851
value = SCA
time = 1

[State 1500, varadd]
type = varadd
triggerall = time = 1
trigger1 = prevstateno = 1510
trigger2 = prevstateno = 1520
v = 6
value = 1

[State 1500, velocity]
type = velset
trigger1 = time >= 4
trigger1 = time < 18
x = 2.9
y = -0.2

[State 1500, velocity]
type = velset
trigger1 = time < 4
x = 2.9
y = -0.8

[State 1500, snd1]
type = playsnd
trigger1 = animelem = 1
trigger1 = prevstateno != 1510
trigger1 = prevstateno != 1520
value = 3,1
channel = 1

[State 1500, snd1]
type = playsnd
trigger1 = animelem = 1
value = 3,0
channel = 3

[State 1500, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = A, SP
animtype = Up
damage = 40,5
priority = 5
hitflag = MAF
guardflag = MA
pausetime = 3, 4
sparkno = S10009
guard.sparkno = s10002
sparkxy = 0,-75
;hitsound = S1,1
ground.type = High
ground.slidetime = 11
ground.hittime = 18
ground.velocity = -3,-2.5
guard.slidetime = 12
guard.hittime = 12
guard.velocity = -1.5
air.velocity = -2,-4.5
airguard.velocity = -1,-2.25
fall = 1
fall.recover = 0

[State 1500, HitDef]
type = HitDef
trigger1 = animelem = 6
attr = A, SP
animtype = Up
damage = 40,5
priority = 5
hitflag = MAF
guardflag = MA
pausetime = 3, 4
sparkno = S10009
guard.sparkno = s10002
sparkxy = 0,-75
;hitsound = S1,1
guardsound = S202,0
ground.type = High
ground.slidetime = 11
ground.hittime = 18
ground.velocity = -3,-2.5
guard.slidetime = 12
guard.hittime = 12
guard.velocity = -1.5
air.velocity = -2,-4.5
airguard.velocity = -1,-2.25
fall = 1
fall.recover = 0

[State 1500, change]
type = velset
trigger1 = time = 16
x = 0

[State 1500, hitsnd]
type = playsnd
;triggerall = movehit
trigger1 = time < 7  && movehit
;trigger2 = animelem = 6  && movehit
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 1500, hitsnd]
type = playsnd
;triggerall = movehit
trigger1 = time > 7  && movehit
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 1520, hitsnd]
type = playsnd
;triggerall = movehit
trigger1 = time < 7  && moveguarded
;trigger2 = animelem = 6  && movehit
value = 0,3
channel = 2
ignorehitpause = 1
persistent = 0

[State 1520, hitsnd]
type = playsnd
;triggerall = movehit
trigger1 = time > 7  && moveguarded
value = 0,3
channel = 2
ignorehitpause = 1
persistent = 0

;[State 1500, change]
;type = veladd
;trigger1 = time > 18
;y = 0.4

[State 1500, 5]
type = Changestate
trigger1 = animtime = 0
value = 50
ctrl = 0

[State 1500, 5]
type = Changestate
trigger1 = time > 5 && command = "b"
trigger1 = var(6) < 2
value = 1510
ctrl = 0

[State 1500, 5]
type = Changestate
trigger1 = time > 5 && command = "c"
trigger1 = var(6) < 2
value = 1520
ctrl = 0

;---------------------------------------------------------------------------
;Gancho b
[Statedef 1510]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 80
ctrl = 0
anim = 1510

[State 1510, varadd]
type = varadd
triggerall = time = 1
trigger1 = prevstateno = 1500
trigger2 = prevstateno = 1520
v = 6
value = 1

[State 1510, velocity]
type = velset
trigger1 = time >= 13
trigger1 = time < 15
x = 1.4
y = -1.2

[State 1510, velocity]
type = velset
trigger1 = time >= 7
trigger1 = time < 13
x = 2.2
y = -2.2


[State 1510, velocity]
type = velset
trigger1 = time < 7
x = 2.9
y = -3.5

[State 1510, snd1]
type = playsnd
trigger1 = animelem = 1
trigger1 = prevstateno != 1500
trigger1 = prevstateno != 1520
value = 3,1
channel = 1

[State 1510, snd1]
type = playsnd
trigger1 = animelem = 1
value = 3,0
channel = 3

[State 1510, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = A, SP
animtype = Up
damage = 40,5
priority = 5
hitflag = MAF
guardflag = MA
pausetime = 3, 4
sparkno = S10009
guard.sparkno = s10002
sparkxy = 0,-75
;hitsound = S1,1
guardsound = S202,0
ground.type = High
ground.slidetime = 11
ground.hittime = 18
ground.velocity = -3,-3.5
guard.slidetime = 12
guard.hittime = 12
guard.velocity = -1.5
air.velocity = -2,-5.5
airguard.velocity = -1,-2.25
fall = 1
fall.recover = 0

[State 1510, HitDef]
type = HitDef
trigger1 = animelem = 6
attr = A, SP
animtype = Up
damage = 40,5
priority = 5
hitflag = MAF
guardflag = MA
pausetime = 3, 4
sparkno = S10009
guard.sparkno = s10002
sparkxy = 0,-75
;hitsound = S1,1
guardsound = S202,0
ground.type = High
ground.slidetime = 11
ground.hittime = 18
ground.velocity = -3,-3.5
guard.slidetime = 12
guard.hittime = 12
guard.velocity = -1.5
air.velocity = -2,-5.5
airguard.velocity = -1,-2.25
fall = 1
fall.recover = 0

[State 1510, change]
type = velset
trigger1 = time = 15
x = 0

[State 1510, hitsnd]
type = playsnd
;triggerall = movehit
trigger1 = time < 7  && movehit
;trigger2 = animelem = 6  && movehit
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 1510, hitsnd]
type = playsnd
;triggerall = movehit
trigger1 = time > 7  && movehit
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 1520, hitsnd]
type = playsnd
;triggerall = movehit
trigger1 = time < 7  && moveguarded
;trigger2 = animelem = 6  && movehit
value = 0,3
channel = 2
ignorehitpause = 1
persistent = 0

[State 1520, hitsnd]
type = playsnd
;triggerall = movehit
trigger1 = time > 7  && moveguarded
value = 0,3
channel = 2
ignorehitpause = 1
persistent = 0

;[State 1510, change]
;type = veladd
;trigger1 = time > 18
;y = 0.4

[State 1510, 5]
type = Changestate
trigger1 = animtime = 0
value = 50
ctrl = 0

[State 1500, 5]
type = Changestate
trigger1 = time > 5 && command = "a"
trigger1 = var(6) < 2
value = 1500
ctrl = 0

[State 1500, 5]
type = Changestate
trigger1 = time > 5 && command = "c"
trigger1 = var(6) < 2
value = 1520
ctrl = 0

;---------------------------------------------------------------------------
;Gancho c
[Statedef 1520]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 80
ctrl = 0
anim = 1510

[State 1520, varadd]
type = varadd
trigger1 = prevstateno = 1500
trigger2 = prevstateno = 1510
triggerall = time = 1
v = 6
value = 1

[State 1520, velocity]
type = velset
trigger1 = time >= 13
trigger1 = time < 15
x = -0.2
y = -2.7

[State 1520, velocity]
type = velset
trigger1 = time >= 7
trigger1 = time < 13
x = -0.2
y = -3.2


[State 1520, velocity]
type = velset
trigger1 = time < 7
x = -0.1
y = -3.5

[State 1520, snd1]
type = playsnd
trigger1 = animelem = 1
trigger1 = prevstateno != 1500
trigger1 = prevstateno != 1510
value = 3,1
channel = 1

[State 1520, snd1]
type = playsnd
trigger1 = animelem = 1
value = 3,0
channel = 3

[State 1520, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = A, SP
animtype = Up
damage = 40,5
priority = 5
hitflag = MAF
guardflag = MA
pausetime = 3, 4
sparkno = S10009
sparkxy = 0,-75
guard.sparkno = s10002
;hitsound = S1,1
guardsound = S202,0
ground.type = High
ground.slidetime = 11
ground.hittime = 18
ground.velocity = -3,-4.5
guard.slidetime = 12
guard.hittime = 12
guard.velocity = -1.5
air.velocity = -2,-6.5
airguard.velocity = -1,-2.25
fall = 1
fall.recover = 0

[State 1520, HitDef]
type = HitDef
trigger1 = animelem = 6
attr = A, SP
animtype = Up
damage = 40,5
priority = 5
hitflag = MAF
guardflag = MA
pausetime = 3, 4
sparkno = S10009
sparkxy = 0,-75
guard.sparkno = s10002
;hitsound = S1,1
guardsound = S202,0
ground.type = High
ground.slidetime = 11
ground.hittime = 18
ground.velocity = -3,-4.5
guard.slidetime = 12
guard.hittime = 12
guard.velocity = -1.5
air.velocity = -2,-6.5
airguard.velocity = -1,-2.25
fall = 1
fall.recover = 0

[State 1520, change]
type = velset
trigger1 = time = 15
x = 0

[State 1520, hitsnd]
type = playsnd
;triggerall = movehit
trigger1 = time < 7  && movehit
;trigger2 = animelem = 6  && movehit
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 1520, hitsnd]
type = playsnd
;triggerall = movehit
trigger1 = time > 7  && movehit
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 1520, hitsnd]
type = playsnd
;triggerall = movehit
trigger1 = time < 7  && moveguarded
;trigger2 = animelem = 6  && movehit
value = 0,3
channel = 2
ignorehitpause = 1
persistent = 0

[State 1520, hitsnd]
type = playsnd
;triggerall = movehit
trigger1 = time > 7  && moveguarded
value = 0,3
channel = 2
ignorehitpause = 1
persistent = 0

;[State 1520, change]
;type = veladd
;trigger1 = time > 18
;y = 0.4

[State 1520, 5]
type = Changestate
trigger1 = animtime = 0
value = 50
ctrl = 0

[State 1520, 5]
type = Changestate
trigger1 = time > 5 && command = "a"
trigger1 = var(6) < 2
value = 1500
ctrl = 0

[State 1520, 5]
type = Changestate
trigger1 = time > 5 && command = "b"
trigger1 = var(6) < 2
value = 1510
ctrl = 0

;-------------------------------------
;-------------------------------------

[Statedef 9060]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -3000
ctrl = 0
velset = 0,0
anim = 9060

[State 1999]
type = varset
trigger1 = 1
v = 16
value = 2



[State 3000, Super Focus]
type = Explod
trigger1 = time = 12
anim = 8911
postype = P1
pos = 0,-104
ownpal = 1
ignorehitpause = 1
sprpriority = 5
supermovetime = 40
ontop = 1

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 12
time = 45
pos = 0,-104
anim = S8000
sound = S30,0
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
sprpriority = -5

[State 3000, change]
type = changestate
trigger1 = animtime = 0
value = 3001

[State 3000, change]
type = posset
trigger1 = animtime = -1
y = -1

;Psy Maelstrom
[Statedef 3001]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3001

[State 3001, hitsnd]
type = playsnd
trigger1 = time = 0
value = 30,0
persistent = 0

[State 3001, hitsnd]
type = playsnd
trigger1 = time = 1
trigger2 = time = 18
trigger3 = time = 36
value = 3,0
channel = 3

[State 3001, hitdef]
type = hitdef
trigger1 = (time%4) = 1
;trigger1 = animelem != 43
;trigger1 = animelem != 44
attr = A, HA
animtype  = hard
damage    = 30,9
getpower = 0,0
hitflag = MAFD
guardflag = MA
pausetime = 2,2
sparkno = S10011
guard.sparkno = s10002
sparkxy = -10,-57
guardsound = s0,3
ground.type = high
guard.slidetime = 12
guard.hittime = 12
ground.velocity = 0,-15
guard.velocity = -3.5
air.velocity = ifelse(animtime > -4,-10, 0),ifelse(animtime > -4,12,ifelse(p2dist y < 0,-4, -10))
airguard.velocity = -3.5,-1.5
fall = 1
fall.recover = 0

;*********************
;*********************Hitsounds
[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 0
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 1
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 2
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 3
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 4
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 5
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 6
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 7
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 8
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 9
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 10
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 11
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 12
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 13
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 14
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 15
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 16
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 17
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 18
value = 0,11
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 19
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 20
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 21
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 22
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 23
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 24
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 25
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 26
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 27
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 28
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 29
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 30
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 31
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 32
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 33
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 34
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 35
value = 0,9
channel = 2
ignorehitpause = 1
persistent = 0

[State 3001, hitsnd]
type = playsnd
triggerall = movehit
trigger1 = uniqhitcount = 36
value = 0,11
channel = 2
ignorehitpause = 1
persistent = 0
;**********************

[State 3001, velocity]
type = velset
trigger1 = time > 0
trigger1 = time < 10
y = -10

[State 3001, velocity]
type = velset
trigger1 = time > 11
trigger1 = time < 20
y = -6

[State 3001, velocity]
type = velset
trigger1 = time > 19
trigger1 = time < 42
y = -3.5

[State 3001, velocity]
type = velset
trigger1 = time > 41
trigger1 = time < 60
y = -2

[State 3001, velocity]
type = velset
trigger1 = time > 59
;trigger1 = time < 63
y = -1

[State 3001, change]
type = changestate
trigger1 = animtime = 0
value = 50

;-------------------------
;-------------------------

[Statedef 9400]
number = 6
type    = S
movetype= A
physics = S
juggle  = 1
poweradd = -2000
ctrl = 0
anim = 1901
velset = 0

[State 200, light]
type = Explod
trigger1 = AnimElem = 5
ID = 3706
anim = 3706
pos = 150,35
postype = p1
sprpriority = 2
supermove = 0
ignorehitpause = 1
ownpal = 1
bindtime = 1
persistent = 0

[State 200, super]
type = BGPalfx
trigger1 = Time = 0
ignorehitpause = 1
time = 200
mul = 192,255,192
add = 5,5,5
invertall = 0

[State 200, cosmo]
type = Explod
trigger1 = time = 0
ID = 3601
anim = 3601
pos = 0,0
postype = p1
sprpriority = -2
supermove = 0
ignorehitpause = 1
ownpal = 1
bindtime = 1
persistent = 0

;cosmo remove
[State 200,2]
type = RemoveExplod
trigger1 = StateNo != 9400
ID = 3601

[State 200, 0]
type = NotHitBy
trigger1 = 1
type = NotHitBy
value = , NA, AP

dragon
[State 200, 0.1]
type = helper
trigger1 = AnimElem = 8
trigger1 = numhelper(4320) = 0
id = 4320
name = "dragon"
postype = p1
pos = 130,0
stateno = 4320
helpertype = normal
keyctrl = 0
ownpal = 1

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0;4
value = 1325, 0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 4
value = 1, 0

[State 200, yaahaa]
type = PlaySnd
trigger1 = AnimElem = 8 
value = 1500, 0


[State 200, 3]
type =HitDef
trigger1 = AnimElem = 8               ;Time to activate controller
priority = 7
attr = S, NA                    ;Attribute: Standing, Normal Attack
damage    = 80, 30                   ;danno che infligge, danno se parato
guardflag = -1                  ;Flags on how move is to be guarded against
;hitflag = MAF                    ;Flags of conditions that move can hit
priority = 7                     ;Attack priority: 0 (least) to 7 (most), 4 default
pausetime = 10,20                ;Time attacker pauses, time opponent shakes
;numhits = 1                   ;numero di hit con il colpo
sparkno = 72                   ;Spark image group and no
sparkxy = -30,-90                  ;X-offset for the "hit spark" rel. to p2,
animtype  = Hard                 ;Y-offset for the spark rel. to p1
hitsound = S2,6                  ;Sound to play on hit
guardsound = S7,1                 ;Sound to play on guard
numhits = 1  
;down.bounce = 1             
; mindist  = 0,0,0                 ;Min distance of p2 from p1 when hit
; maxdist  = 0,0,0                 ;Max distance of p2 from p1 when hit
ground.type = hight                ;Type (refer to testp.h)
ground.slidetime = 5             ;Time that the victim slides back
ground.hittime  = 4;15             ;Time victim is in hit state
ground.velocity = -2, -15        ;Velocity at which victim is pushed
animtype = hard                  ;type of animation p2(cla)
guard.slidetime = 5    ;          ;Values for guarded attack (def: ground.slidetime)
guard.hittime  = 15    ;          ; (def: ground.hittime)
guard.velocity = -4    ;          ; (def: ground.velocity)
guard.ctrltime = 7    ;           ;Time to regain control after guard (def: guard.slidetime)
airguard.velocity = -2.6      ;   ;Guard velocity in air (def: (air.xvel*2, air.yvel/2))
airguard.ctrltime = 7        ;    ;Time to regain control after air guard (def: ground.ctrltime)
air.type = High                  ;Type (refer to testp.h)
air.velocity = 0,0           ;X-velocity at which victim is pushed,
animtype = up
fall = 1         
envshake.time =  10 
envshake.freq = 10   
envshake.ampl = 10  
envshake.phase = 10
fall.damage = 150

;palfx.time = 50    ;abilitano la colorazione dell'avversario
;palfx.mul = 240,220,128
;palfx.sinadd = 32,128,220,16
;palfx.add = 190,180,84

[State 200, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 200, 5]
type = LifeAdd  ;con questo comand0 si sceglie se togliere(-) o aggiungere(+) 
trigger1 = AnimElem = 5
value = -10         
;-------------------------------
;[State 200, 5];questo e' per aggiungere un'animazione da lancio tipo le fireball
;type = Projectile
;trigger1 = AnimElem = 4, = 1
;attr = S, SP
;projanim = 100          ;numero dell'animazione
;projhitanim = 630       ;animazione di quando il colpo va a segno
;projshadow = 68,68,68
;offset = 12,0    
;velocity = 1
;damage = 100,15
;animtype = Hard
;guardflag = MA
;pausetime = 0,12
;sparkno = -1
;guard.sparkno = -1
;hitsound   = S240,0
;guardsound = S1000,1
;ground.type = High
;ground.slidetime = 14
;ground.hittime  = 16
;ground.velocity = -8
;air.velocity = 1,1


;------------------afterimage
[State 200, 6]
type = AfterImage
trigger1 = time = 4
time = 20
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1
;-------------------afterimage
[State 200, 7] ;Flash
type = EnvColor
Trigger1 = Time = 30
value = 240,240,240
under = 1
time = 3


[Statedef 4320]
type    = A
movetype= A
physics = S
juggle  = 1
poweradd = 10
ctrl = 0
anim = 4320
velset = 0

[State 4320, 0]
type = VelSet
trigger1 = AnimElem = 7
y = -10

[State 4320, 0]
type = HitDef
trigger1 = AnimElem = 1
priority = 7
attr = S, NA
givepower = 100
damage   = 80, 15
animtype = up
guardflag = -1
p2stateno = 3601
pausetime = 0,5
ground.type = hight                
ground.slidetime = 0             
ground.hittime  = 4             
ground.velocity = 0,-15
sparkno = S3724
sparkxy =  0,0
hitsound   = S2,6
guardsound = S7,1
air.type = Low
air.velocity = 0,-20
airguard.velocity = -3.5 
fall = 1 
fallrecover = 0
envshake.time =  20
envshake.freq = 99   
envshake.ampl = 10  
envshake.phase = 99

[State 4320, 1]
type = HitDef
trigger1 = AnimElem = 3
priority = 7
attr = S, NA
givepower = 100
damage   = 80, 15
animtype = up
guardflag = MA
pausetime = 0,5
ground.type = hight                
ground.slidetime = 0             
ground.hittime  = 4             
ground.velocity = 0,-15
sparkno = S3724
sparkxy =  0,0
hitsound   = S2,6
guardsound = S7,1
air.type = Low
air.velocity = 0,-20
airguard.velocity = -3.5 
fall = 1 
fallrecover = 0


[State 4320, 2]
type = HitDef
trigger1 = AnimElem = 5
priority = 7
attr = S, NA
givepower = 100
damage   = 80, 15
animtype = up
guardflag = MA
pausetime = 0,5
ground.type = hight                
ground.slidetime = 0             
ground.hittime  = 4             
ground.velocity = 0,-15
sparkno = S3724
sparkxy =  0,0
hitsound   = S2,6
guardsound = S7,1
air.type = Low
air.velocity = 0,-20
airguard.velocity = -3.5 
fall = 1 
fallrecover = 0

[State 4320, 3]
type = HitDef
trigger1 = AnimElem = 7
priority = 7
attr = S, NA
givepower = 100
damage   = 100, 15
animtype = up
guardflag = MA
pausetime = 0,1
ground.type = hight                
ground.slidetime = 0             
ground.hittime  = 4             
ground.velocity = 0,-15
sparkno = S3724
sparkxy =  0,0
hitsound   = S2,6
guardsound = S7,1
air.type = Low
air.velocity = -1,-24
airguard.velocity = -3.5 
fall = 1 
fallrecover = 1

[State 4320, byebye]
type = DestroySelf
trigger1 = Time = 130


[Statedef 405]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 405
velset = 0

[State 405, light]
type = Explod
trigger1 = AnimElem = 5
anim = 3720
pos = 75,-19
postype = p1
sprpriority = 4
supermove = 1
ignorehitpause = 1
ownpal = 1
bindtime = 1
persistent = 0
ownpal = 1

[State 405, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 2,6

[State 405, 2]
type = HitDef
trigger1 = AnimElem = 5
priority = 5
attr = S, NA
damage   = 190,19
getpower = 70
givepower = 1000
animtype = Heavy
priority = 3
guardflag = MA
pausetime = 0,17
sparkxy =  -5,-10
hitsound   = S2,6
guardsound = S9,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 0,-12
air.velocity = -3,-9
airguard.velocity = -3,-6
fall = 1
fall.recover = 0
envshake.time = 15
envshake.freq = 50
envshake.ampl = 15
envshake.phase = 10

[State 405, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
;----------------------------
;agarre

[Statedef 8810] 
type = S 
movetype = A 
physics = N
ctrl = 0 
anim = 800 
velset = 0,0 

[State 800, 1] 
type = HitDef 
trigger1 = Time = 0
attr = S, NT 
hitflag = MAF 
priority = 1, Miss 
sparkno = -1 
p1facing = ifelse (command = "holdback", -1, 1) ;Turn if holding forwards
p2facing = 1
p1stateno = 8190 + 40 * (pos y < 0)
p2stateno = 8290 + 40 * (pos y < 0)
fall.damage = 70 

[State 800, 3] 
type = ChangeState 
trigger1 = AnimTime = 0 
value = 210;50 
;ctrl = 1 

; C throw (success) 
[Statedef 8190] 
type = S 
movetype = A 
physics = N 
anim = 805 
velset = 0,0

[State 250, 1] 
type = PlaySnd 
trigger1 = Time = 50
value = 0,5

[State 1000, 1]; virar 
type = Turn 
trigger1 = Time = 0 
trigger1 = p2dist X < -5 
trigger2 = Time = 1 
trigger2 = p2dist X < 0

[State 810, sound] 
type = playsnd 
trigger1 = time = 1 
value = 800,0 
channel = 0 

[State 3600, 4] 
type = PlaySnd 
value = 3600,2
trigger1 = time = 45

[State 810, 1] 
type=NotHitBy 
trigger1 = 1 
value=SCA 
time=1 

[State 810, 3] 
type = Explod 
trigger1 = time = 1
trigger2 = time = 3
pos = 0,0
postype = p1 
bindtime = 10
sprpriority = 4
anim = 807

[State 810, 3] 
type = Explod 
trigger1 = time = 1
trigger2 = time = 3
pos = 0,0
postype = p1 
bindtime = 10
sprpriority = -2
anim = 808

[State 810, 3] 
type = Explod 
trigger1 = time = 50
pos = 50,-100
postype = p1 
bindtime = 1
sprpriority = 2
anim = 9524

[State 810, 1]
type = TargetBind
trigger1 = time = 1
time = 1
pos = 50,0

[State 420, 2] 
type = HitDef 
trigger1 = time = 50;movecontact!=1
attr = S, NT
damage    = 80,0 
animtype = hard;up 
getpower = 30,15 
givepower = 15,8 
hitflag = M;F;D 
guardflag = MA 
priority = 3, Hit 
pausetime = 1,1
numhits = 1 
sparkno=S9524
sparkxy = 0,-94 
hitsound = S3600,2
guardsound = 6, 0
ground.type = High 
ground.slidetime = 13
ground.hittime  = 17
ground.velocity = -2,-12
air.type = Low
air.velocity = -2,-12 
airguard.velocity = -3.5,-3 
fall = 1 
air.fall = 1 
fall.recovertime = 40 
fall.recover = 1 
down.velocity = -2,-6.5
down.hittime = 20
fall.damage = 30
p2facing=1

[State 810, 8] 
type = ChangeState 
trigger1 = AnimTime = 0 
value = 0 
ctrl=1

; Thrown by C throw 
[Statedef 8290] 
type = A 
movetype = H 
physics = N 
ctrl = 0 
velset = 0,0 

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 8290

[State 1410, 5] 
type = posadd
trigger1 = abs(const(size.head.pos.y))<70
triggerall = time=1
y = -70+abs(const(size.head.pos.y))

[State 820, 1] 
type = NotHitBy 
trigger1 = time< 50
value = SCA 
time = 1 

[State 820, 4] 
type = selfState 
trigger1 = time> 50
value = 5000 

; C throw (success) (air)
[Statedef 850] 
type = A 
movetype = A 
physics = N 
anim = 850 
velset = 0,0

[State 810, sound] 
type = playsnd 
trigger1 = time = 1 
value = 800,0 
channel = 0 

[State 1005, 8]
trigger1 = anim = 850 && animelem=2;statetype = A
trigger2 = anim = 855
type = velset;Gravity
y=9*(pos y < 0)

[State 1005, 8]
trigger1 = anim = 855
type = posset
y=0

[State 1005, 8]
trigger1 = anim = 850
type=NotHitBy 
trigger1 = 1 
value=SCA 
time=1 

[State 810, 1]
type = TargetBind
trigger1 = animelem = 1 && anim = 850
time = 1
pos = 21,-32

[State 810, 1]
type = TargetBind
trigger1 = animelem = 2 && anim = 850 && p2dist y != 0
time = 1
pos = 0,0

[State 810, 8] 
type = ChangeState 
trigger1 = anim = 855 && pos y > 0
value = 5123
;ctrl=0

[State 820, 1]
type = ChangeAnim
Trigger1 = pos y > 0
value = 855

[State 420, 2] 
type = HitDef 
trigger1 = pos y > 0;movecontact!=1
attr = SAC, NT
damage    = 80,0 
animtype = hard;up 
getpower = 30,15 
givepower = 15,8 
hitflag = MAFD 
guardflag = MA 
priority = 3, Hit 
pausetime = 10,10
numhits = 1 
sparkno = 62;F61 + (time = 1);2 
;sparkxy = -25,-64 
;hitsound = S3600,2
guardsound = 6, 0
ground.type = High 
ground.slidetime = 13
ground.hittime  = 17
ground.velocity = -2,6.3 
air.type = Low
air.velocity = -2,6.3 
airguard.velocity = -3.5,-3 
fall = 1 
air.fall = 1 
fall.recovertime = 40 
fall.recover = 1 
down.velocity = -2,-6.5
down.hittime = 20
fall.damage = 30
p2facing=1


[State 810, 8] 
type = ChangeState 
trigger1 = anim = 855 && pos y = 0
value = 5123
;ctrl=0

; Thrown by C throw (air)
[Statedef 860] 
type = A 
movetype = H 
physics = N 
ctrl = 0 
velset = 0,0 

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 860

[State 820, 1] 
type = NotHitBy 
trigger1 = pos y < 0
value = SCA 
time = 1 

[Statedef 5123] 
type    = L 
movetype= I 
physics = N 
ctrl = 0 

[State 182, 2]
type = PlayerPush
trigger1 = 1
value = 0

[State 5123, 1] 
type = ChangeAnim 
trigger1 = Time = 0 
value = 5122 

[State 5123, 2] 
type = Veladd 
trigger1 = animelem = 4 
x = -6.5 

[State 5123, 3] 
type = NotHitBy 
trigger1 = 1 
value = SCA 
time = 1 

[State 5123, 5] 
type = HitFallSet 
trigger1 = AnimTime = 0 
value = 1 

[State 5123, 6] 
type = NotHitBy 
trigger1 = AnimTime = 0 
value = , NT,ST,HT 
time = 12 

[State 5123, 6] 
type = NotHitBy 
trigger1 = AnimTime = 0 
value2 = SCA 
time = 3 

[State 5123, 7] 
type = ChangeState 
trigger1 = animtime = 0 
value = 0 
ctrl = 1 