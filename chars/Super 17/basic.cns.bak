;Stand Light Punch ----------------------------------------------------------------

[StateDef 200]
anim = 200
ctrl = 0
type = S 
movetype = A      
physics = S
velset = 0,0

[State 200, 1.5]
type = Playsnd
trigger1 = Animelem = 1
value = 500, 3

[State 200, HitDef]
type = HitDef
trigger1 = Time = 0    
attr = S, NA           
damage = 30, 8
guardflag = MA            
pausetime = 12,12      
hitsound = S500,4        
guardsound = 6,0       
sparkxy = -20,-100
sparkno = s15001
animtype = Medium 
ground.type = High     
ground.slidetime = 10  
ground.hittime  = 12   
ground.velocity = -5   
air.velocity = -2,-3   
juggle = 1       
     
[State 200, 1]
type = ChangeState
trigger1 = pos Y >= -5
trigger1 = AnimTime = 0
value = 0
ctrl = 1 

[State 200, 1]
type = ChangeState
trigger1 = pos Y < -10
trigger1 = AnimTime = 0
value = 2000
ctrl = 1 

;Stand Strong Punch ---------------------------------------------------------------

[StateDef 210]
anim = 210
ctrl = 0
type = S 
movetype = A      
physics = S
velset = 0,0

[State 210, 1.5]
type = Playsnd
trigger1 = Animelem = 1
value = 500, 3

[State 210, HitDef]
type = HitDef
trigger1 = Time = 0    
attr = S, NA           
damage = 60, 15
guardflag = MA            
pausetime = 12,12      
hitsound = S500,4        
guardsound = 6,0       
sparkxy = -20,-100
sparkno = s15001
animtype = Medium 
ground.type = High     
ground.slidetime = 10  
ground.hittime  = 12   
ground.velocity = -5   
air.velocity = -2,-3   
juggle = 1       
     
[State 200, 1]
type = ChangeState
trigger1 = pos Y >= -5
trigger1 = AnimTime = 0
value = 0
ctrl = 1 

[State 200, 1]
type = ChangeState
trigger1 = pos Y < -10
trigger1 = AnimTime = 0
value = 2000
ctrl = 1 

;Stand Hard Punch -----------------------------------------------------------------

[StateDef 220]
anim = 220
ctrl = 0
type = S 
movetype = A      
physics = S
velset = 0,0

[State 220, 1.5]
type = Playsnd
trigger1 = Animelem = 1
value = 500, 3

[State 220, HitDef]
type = HitDef
trigger1 = Time = 0    
attr = S, NA           
damage = 90, 23
guardflag = MA            
pausetime = 12,12      
hitsound = S500,4      
guardsound = 6,0       
sparkxy = -20,-100
sparkno = s15001
animtype = Medium 
ground.type = High     
ground.slidetime = 10  
ground.hittime  = 12   
ground.velocity = -5   
air.velocity = -2,-3   
juggle = 1       
     
[State 200, 1]
type = ChangeState
trigger1 = pos Y >= -5
trigger1 = AnimTime = 0
value = 0
ctrl = 1 

[State 200, 1]
type = ChangeState
trigger1 = pos Y < -10
trigger1 = AnimTime = 0
value = 2000
ctrl = 1 

;Standing Light Kick --------------------------------------------------------------

[StateDef 230]
anim = 230
ctrl = 0
type = S 
movetype = A      
physics = S
velset = 0,0

[State 230, 1.5]
type = Playsnd
trigger1 = Animelem = 1
value = 500, 3

[State 230, HitDef]
type = HitDef
trigger1 = Time = 0    
attr = S, NA           
damage = 30 , 8
guardflag = MA            
pausetime = 12,12      
hitsound = S500,4      
guardsound = 6,0       
sparkxy = -20,-50
sparkno = s15001
animtype = Medium 
ground.type = Low    
ground.slidetime = -5  
ground.hittime  = 12   
ground.velocity = -5   
air.velocity = -2,-3   
juggle = 1       
     
[State 200, 1]
type = ChangeState
trigger1 = pos Y >= -5
trigger1 = AnimTime = 0
value = 0
ctrl = 1 

[State 200, 1]
type = ChangeState
trigger1 = pos Y < -10
trigger1 = AnimTime = 0
value = 2000
ctrl = 1 

;Standing Strong Kick -------------------------------------------------------------

[StateDef 240]
anim = 240
ctrl = 0
type = S 
movetype = A      
physics = S
velset = 0,0

[State 240, 1.5]
type = Playsnd
trigger1 = Animelem = 1
value = 500, 3

[State 240, HitDef]
type = HitDef
trigger1 = Time = 0    
attr = S, NA           
damage = 60, 15
guardflag = MA            
pausetime = 12,12      
hitsound = S500,4     
guardsound = 6,0       
sparkxy = -20,-100
sparkno = s15001
animtype = Medium 
ground.type = High     
ground.slidetime = 10  
ground.hittime  = 12   
ground.velocity = -5   
air.velocity = -2,-3   
juggle = 1       
     
[State 200, 1]
type = ChangeState
trigger1 = pos Y >= -5
trigger1 = AnimTime = 0
value = 0
ctrl = 1 

[State 200, 1]
type = ChangeState
trigger1 = pos Y < -10
trigger1 = AnimTime = 0
value = 2000
ctrl = 1 

;Standing Hard Kick ---------------------------------------------------------------

[StateDef 250]
anim = 250
ctrl = 0
type = S 
movetype = A      
physics = S
velset = 0,0

[State 250, 1.5]
type = Playsnd
trigger1 = Animelem = 1
value = 500, 3

[State 250, HitDef]
type = HitDef
trigger1 = Time = 0    
attr = S, NA           
damage = 90, 23
guardflag = MA            
pausetime = 12,12      
hitsound = S500,4         
guardsound = 6,0       
sparkxy = -20,-100
sparkno = s15001
animtype = Medium 
ground.type = High     
ground.slidetime = 10  
ground.hittime  = 12   
ground.velocity = -5   
air.velocity = -2,-3   
juggle = 1       
     
[State 200, 1]
type = ChangeState
trigger1 = pos Y >= -5
trigger1 = AnimTime = 0
value = 0
ctrl = 1 

[State 200, 1]
type = ChangeState
trigger1 = pos Y < -10
trigger1 = AnimTime = 0
value = 2000
ctrl = 1 

;Crouching light punch ------------------------------------------------------------

[StateDef 400]
anim = 400
ctrl = 0
type = C 
movetype = A      
physics = C
velset = 0,0

[State 400, 1.5]
type = Playsnd
trigger1 = Animelem = 1
value = 500, 3

[State 400, HitDef]
type = HitDef
trigger1 = Time = 0    
attr = C, NA           
damage = 30, 8
guardflag = MA            
pausetime = 12,12      
hitsound = S500,4       
guardsound = 6,0       
sparkxy = -20,-50
sparkno = s15001
animtype = Medium 
ground.type = Low     
ground.slidetime = 10  
ground.hittime  = 12   
ground.velocity = -5   
air.velocity = -2,-3   
juggle = 1       
     
[State 400, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;Crouching strong punch -----------------------------------------------------------

[StateDef 410]
anim = 410
ctrl = 0
type = C 
movetype = A      
physics = C
velset = 0,0

[State 410, 1.5]
type = Playsnd
trigger1 = Animelem = 1
value = 500, 3

[State 410, HitDef]
type = HitDef
trigger1 = Time = 0    
attr = C, NA           
damage = 60, 15
guardflag = MA            
pausetime = 12,12      
hitsound = S500,4      
guardsound = 6,0       
sparkxy = -20,-50
sparkno = s15001
animtype = Medium 
ground.type = Low     
ground.slidetime = 10  
ground.hittime  = 12   
ground.velocity = -5   
air.velocity = -2,-3   
juggle = 1       
     
[State 410, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;Crouching hard punch (uppercut) --------------------------------------------------


[StateDef 420]
anim = 420
ctrl = 0
type = C 
movetype = A      
physics = C
velset = 0,0

[State 420, 1.5]
type = Playsnd
trigger1 = Animelem = 1
value = 500, 3

[State 420, HitDef]
type = HitDef
trigger1 = Time = 0    
attr = C, NA           
damage = 90, 23
guardflag = MA            
pausetime = 12,24  ;test 12,12      
hitsound = S500,4      
guardsound = 6,0       
sparkxy = -20,-50
sparkno = s15001
animtype = Up
;ground.type = High     
;ground.slidetime = 10  
;ground.hittime  = 12   
;ground.velocity = -5   
;air.velocity = -2,-3   
juggle = 1

;Up Type Code Test--------------------       

ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -0,-11
air.type = High
air.velocity = -0,-10
fall.recover = 0
air.fall = 0
fall = 0
air.recover = 0
air.juggle = 4
down.velocity = 0,-12

;-------------------------------------

[State 420, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1



;Crouching Light Kick -------------------------------------------------------------


[StateDef 430]
anim = 430
ctrl = 0
type = C 
movetype = A      
physics = C
velset = 0,0

[State 430, 1.5]
type = Playsnd
trigger1 = Animelem = 1
value = 500, 3

[State 430, HitDef]
type = HitDef
trigger1 = Time = 0    
attr = C, NA           
damage = 30, 8
guardflag = MA            
pausetime = 12,12      
hitsound = S500,4       
guardsound = 6,0       
sparkxy = -20,0
sparkno = s15001
animtype = Medium 
ground.type = Low     
ground.slidetime = 10  
ground.hittime  = 12   
ground.velocity = -5   
air.velocity = -2,-3   
juggle = 1       
     
[State 430, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;Crouching Strong Kick ------------------------------------------------------------


[StateDef 440]
anim = 440
ctrl = 0
type = C 
movetype = A      
physics = C
velset = 0,0

[State 440, 1.5]
type = Playsnd
trigger1 = Animelem = 1
value = 500, 3

[State 440, HitDef]
type = HitDef
trigger1 = Time = 0    
attr = C, NA           
damage = 60, 15
guardflag = MA            
pausetime = 12,12      
hitsound = S500,4        
guardsound = 6,0       
sparkxy = -20,0
sparkno = s15001
animtype = Medium 
ground.type = Low     
ground.slidetime = 10  
ground.hittime  = 12   
ground.velocity = -5   
air.velocity = -2,-3   
juggle = 1       
     
[State 440, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;Crouching hard kick (trip) -------------------------------------------------------


[StateDef 450]
anim = 450
ctrl = 0
type = C 
movetype = A      
physics = C
velset = 0,0

[State 450, 1.5]
type = Playsnd
trigger1 = Animelem = 1
value = 500, 3

[State 450, HitDef]
type = HitDef
trigger1 = Time = 0    
attr = C, NA           
damage = 90, 23
guardflag = MA            
pausetime = 12,12      
hitsound = S500,4        
guardsound = 6,0       
sparkxy = -20,0
sparkno = s15001
animtype = Medium 
ground.type = Trip   
ground.slidetime = 10  
ground.hittime  = 12   
ground.velocity = -5   
air.velocity = -2,-3   
juggle = 1       
     
[State 450, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;Jump light punch -----------------------------------------------------------------

[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 1
;poweradd= 11
ctrl = 0
anim = 600
;sprpriority = 2

[State 600, 1.5]
type = Playsnd
trigger1 = Animelem = 1
value = 500, 3

[State 600, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 30, 8
guardflag = HA
;priority = 3
pausetime = 12,12
sparkno = s15001
sparkxy = -20,-50
hitsound = S500,4  
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

[State 600, 1]
type = CtrlSet
trigger1 = Time = 17
value = 50



;Jump strong punch ----------------------------------------------------------------

[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 1
;poweradd= 11
ctrl = 0
anim = 610
;sprpriority = 2

[State 610, 1.5]
type = Playsnd
trigger1 = Animelem = 1
value = 500, 3

[State 610, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 60, 15
guardflag = HA
;priority = 3
pausetime = 12,12
sparkno = s15001
sparkxy = -20,-50
hitsound = S500,4  
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

[State 610, 1]
type = CtrlSet
trigger1 = Time = 17
value = 50

;Jump hard punch ------------------------------------------------------------------

[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 1
;poweradd= 11
ctrl = 0
anim = 620
;sprpriority = 2

[State 620, 1.5]
type = Playsnd
trigger1 = Animelem = 1
value = 500, 3

[State 620, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 90, 23
guardflag = HA
;priority = 3
pausetime = 12,12
sparkno = s15001
sparkxy = -20,-50
hitsound = S500,4  
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

[State 620, 1]
type = CtrlSet
trigger1 = Time = 17
value = 50


;Jump light kick ------------------------------------------------------------------

[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 1
;poweradd= 11
ctrl = 0
anim = 630
;sprpriority = 2

[State 630, 1.5]
type = Playsnd
trigger1 = Animelem = 1
value = 500, 3

[State 630, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 30, 8
guardflag = HA
;priority = 3
pausetime = 12,12
sparkno = s15001
sparkxy = -20,-50
hitsound = S500,4  
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

[State 630, 1]
type = CtrlSet
trigger1 = Time = 17
value = 50

;Jump strong kick -----------------------------------------------------------------

[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 1
;poweradd= 11
ctrl = 0
anim = 640
;sprpriority = 2

[State 640, 1.5]
type = Playsnd
trigger1 = Animelem = 1
value = 500, 3

[State 640, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 60, 15
guardflag = HA
;priority = 3
pausetime = 12,12
sparkno = s15001
sparkxy = -20,-50
hitsound = S500,4  
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

[State 640, 1]
type = CtrlSet
trigger1 = Time = 17
value = 50

;Jump hard kick -------------------------------------------------------------------

[Statedef 650]
type    = A
movetype= A
physics = A
juggle  = 1
;poweradd= 11
ctrl = 0
anim = 650
;sprpriority = 2

[State 650, 1.5]
type = Playsnd
trigger1 = Animelem = 1
value = 500, 3

[State 650, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 90, 23
guardflag = HA
;priority = 3
pausetime = 12,12
sparkno = s15001
sparkxy = -20,-100
hitsound = S500,4  
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

[State 650, 1]
type = CtrlSet
trigger1 = Time = 17
value = 50


;FIN ------------------------------------------------------------------------------





;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
; Win pose 1 - Bow
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

;[State 200, 0]
;type = Playsnd
;trigger1 = Animelem = 1
;value = 500, 5
;volume = 255

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 20
value = 190

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0




;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 195, 1]
type = CtrlSet
trigger1 = Time = 40
value = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;-----------------------------------------;
;-----------------------------------------;
; Basic Moves
;-----------------------------------------;
;-----------------------------------------;







;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
[Statedef -2]

:::::::::::::::::::::::::::::::
--|Freezer'S AI|----------------
:::::::::::::::::::::::::::::::

;Charge
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2movetype != H)
trigger1 = (power < 3000) && (random < 999) && (p2bodydist x >= 65)
value = 3004

;combo1
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2movetype != H)
trigger1 = (random < 999) && (p2bodydist x >= 35)
value = 2006

;combo2
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2movetype != H)
trigger1 = (random < 999) && (p2bodydist x >= 55)
value = 2006

;Charge
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2movetype != H)
trigger1 =  (random < 999) && (p2bodydist x <= 15)
value = 240

;Charge
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2movetype != H)
trigger1 = (power < 3000) && (random < 999) && (p2bodydist x <= 15)
value = 200


;Charge
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2movetype != H)
trigger1 = (power < 3000) && (random < 999) && (p2bodydist x <= 15)
value = 240

;Charge
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2movetype != H)
trigger1 = (power < 3000) && (random < 999) && (p2bodydist x <= 15)
value = 230

;Charge
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2movetype != H)
trigger1 = (power < 3000) && (random < 999) && (p2bodydist x <= 15)
value = 210

;Charge
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2movetype != H)
trigger1 = (power < 3000) && (random < 999) && (p2bodydist x <= 15)
value = 200

;Charge
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2movetype != H)
trigger1 = (power < 3000) && (random < 999) && (p2bodydist x <= 15)
value = 230

;Charge
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2movetype != H)
trigger1 = (power < 3000) && (random < 999) && (p2bodydist x <= 15)
value = 220

;Charge
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2movetype != H)
trigger1 = (power < 3000) && (random < 999) && (p2bodydist x <= 15)
value = 210

;Charge
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2movetype != H)
trigger1 = (power < 3000) && (random < 999) && (p2bodydist x <= 15)
value = 230

;Charge
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (ctrl) && (p2movetype = A)
trigger1 = (random < 999) && (p2bodydist x < 10) && (p2bodydist x <= 15)
value = 200

;Kamehameha 
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 2000) && (ctrl) && (p2statetype != L)
trigger1 = (power >= 2000) && (random < 799) && (power < 3000)
value = 3200

;dodompa 
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2statetype != L)
trigger1 = (power >= 1000); && (random < 799) && (power < 3000)
value = 3000

;Sdoppiamento
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2statetype != L)
trigger1 = (power >= 3000) && (random < 999)
value = 20001


;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

;This controller plays a sound everytime KFM lands from a jump, or
;from his back-dash.
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
trigger2 = stateno = 106 ;Run-back land
value = 40, 0

[State -3, AI]
type = Varset
trigger1 = IsHomeTeam
trigger1 = TeamSide = 2
v = 59
value = 1
