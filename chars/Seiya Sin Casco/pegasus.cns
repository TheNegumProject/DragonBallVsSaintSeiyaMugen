;--------------------------------
;       Seiya de Pegasus        ;
;--------------------------------

[Data]
life = 2000
attack = 150
defence = 135
power = 4000 
fall.defence_up = 65
liedown.time = 60
airjuggle = 15
sparkno = -1
guard.sparkno = -1
volume = 255
echo = 0

[Size]
xscale=1
yscale=1
z.width=3        
ground.back=20        
ground.front=20       
air.back=12
air.front=11
height=0    
attack.width = 4,4
attack.dist=160
proj.attack.dist=90
proj.doscale=0

[Movement]
airjump.num=1
airjump.height=0
yaccel=0.35
crouch.friction=0.8
stand.friction=0.8

[Velocity]
walk.fwd=2.7
walk.back=-2.5
run.fwd=8,0               
run.back=0,0
runjump.back=0,0
runjump.fwd=7,0
jump.neu=0,-8.5
jump.back=-2.8,0
jump.fwd=3.9,0
airjump.neu=0,-12
airjump.back=-5,-12
airjump.fwd=5,-12
;--------------------------------------------------
; Scatto indietro
[Statedef 105]
type    = A
physics = A
ctrl = 1
anim = 105

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 105, 2]
type = CtrlSet
trigger1 = Time = 2
value = 1

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106
;-------------------------------------

;scatto
[Statedef 106]
type = A
movetype = I
physics = N
anim = 106
velset = -8,-3.5

[State 106 , 1]
type = VelAdd
trigger1 = Time > 0
y = .7

[State 106 , 2]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
;---------------------------------------
;scatto
[Statedef 108]
type = A
movetype = I
physics = N
anim = 106
velset = -10,-9

[State 106 , 1]
type = VelAdd
trigger1 = Time > 0
y = .7

[State 106 , 2]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
;-----------------------------------
[Statedef 170]
type = S
anim = 541

[State 181 , 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 170,0

[State 170 , 1]
type = AssertSpecial
trigger1 = Time = [0,160]
flag = RoundNotOver

;----------------------------
;winpose general controller
[Statedef 180]
type = S
velset = 0

[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 2
range = 0,99

[State 180 , 7]
type = ChangeState
triggerall = roundno = 1
trigger1 = Var(2) = [0,49]
value = 181

[State 180 , 8]
type = ChangeState
triggerall = roundno = 1
trigger1 = Var(2) = [50,99]
value = 182

[State 180 , 9]
type = ChangeState
triggerall = roundno = 2
trigger1 = Var(2) = [0,49]
value = 183

[State 180 , 9]
type = ChangeState
triggerall = roundno = 2
trigger1 = Var(2) = [50,99]
value = 185

[State 180 , 9]
type = ChangeState
triggerall = roundno = 3
trigger1 = Var(2) = [0,99]
value = 183


;--------------------------------------------------------
;                    WIN-STATE
;--------------------------------------------------------
;winpose 1 
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0,0

[State 2100, athena]
type = Explod
trigger1 = Time = 0
anim = 3699
pos = 300,498
postype = p1
sprpriority = -10
supermove = 1
removetime = -1
ignorehitpause = 1
ownpal = 1
bindtime = -1


;lens flare
[State 2100, lensflare]
type = Explod
trigger1 = Time = 0
anim = 3671
pos = 0,-0
postype = Left
sprpriority = -2
ontop = 1
supermovetime = 300
removetime = 350
bindtime = -1
ownpal = 1
supermove = 1


[State 182, 1]
type = AssertSpecial
trigger1 = Time = [0, 0]
flag = roundnotover

[State 181 , 1]
type = AssertSpecial
trigger1 = Time = [0,430]
flag = RoundNotOver

[State 181 , 2]
type = PlaySnd
trigger1 = AnimElem = 9
value = 181,0

[State 181 , 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 910,0

;------------------------------------
; Win Pose 2
[Statedef 182]
type = S
ctrl = 0
anim = 3714
velset = 0,0,0

[State 181 , 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 182,0

[State 182, 1]
type = AssertSpecial
trigger1 = Time = [0, 0]
flag = roundnotover

[State 182, 1]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

; Win Pose 3

[Statedef 183]
type = S
ctrl = 0
anim = 180
velset = 0,0,0

[State 183, 1]
type = AssertSpecial
trigger1 = Time = [0, 0]
flag = roundnotover

[State 183, 2]
type = AssertSpecial
trigger1 = Time = [0,475]
flag = RoundNotOver

;Athena
[State 183, 3]
type = Explod
trigger1 = Time = 0 
anim = 189
sprpriority = 0
postype = p1
pos = 75,0
bindtime = 1
supermove = 1
ownpal = 1

;Athena
[State 183, 3]
type = Explod
trigger1 = Time = 0 
anim = 285
sprpriority = 0
postype = p1
pos = 75,0
bindtime = 1
supermove = 1
ownpal = 1

[State 183, 4]
type = PlaySnd
trigger1 = Time = 15
value = 183,0

; Win Pose 4

[Statedef 185]
type = S
ctrl = 0
anim = 3714
velset = 0,0,0

[State 183, 1]
type = AssertSpecial
trigger1 = Time = [0, 0]
flag = roundnotover

[State 183, 2]
type = AssertSpecial
trigger1 = Time = [0,475]
flag = RoundNotOver

;Athena
[State 183, 3]
type = Explod
trigger1 = Time = 0 
anim = 187
sprpriority = 0
postype = p1
pos = 75,0
bindtime = 1
supermove = 1
ownpal = 1




[State 183, 4]
type = PlaySnd
trigger1 = Time = 5
value = 185,0

[State 183, 4]
type = PlaySnd
trigger1 = Time = 50
value = 185,2



[State 183, 4]
type = PlaySnd
trigger1 = Time = 150
value = 185,1



;---------------------------------------

[Statedef 8002]
type = S
physics = S
anim = 3675
juggle = 5
velset = 0
ctrl = 0

[State 8002 , 4]
type = ReversalDef
priority = 7
trigger1 = time = 0
reversal.attr = SCA, NA, SA, HA
p1stateno = 8003
hitsound = S220,1
pausetime = 40,50
sparkno = -1
sparkxy = 90,3

[State 1400 , 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------

[Statedef 8003]
type = S
movetype = A
physics = S
anim = 1401
poweradd = 400
juggle = 5
velset = 0
ctrl = 0

[State 1400 , 1]
type = PlaySnd
trigger1 = time = 0
value = 1000,5

[State 8003, light]
type = Explod
trigger1 = MoveContact
ID = 3678
anim = 3678
pos = 100,6
postype = p1
sprpriority = 4
supermove = 1
removetime = 70
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 8003, light]
type = Explod
trigger1 = AnimElem = 1
ID = 3419
anim = 3419
pos = 0,0
postype = p1
sprpriority = -1
supermove = 1
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 8003, polvere]
type = MakeDust
trigger1 = time = 0
pos = -15,3
pos2 = -22,-3
spacing = 2

[State 8003 , 2]
type = VelAdd
trigger1 = time = 0
x = -9

[State 8003 , 2]
type = VelMul
trigger1 = AnimElem = 1
x = 3.6

[State 8003 , 6]
type = ChangeState
triggerall = MoveContact
trigger1 = Life <= 300
value = 2160
ctrl = 0

[State 8003 , 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 62002]
type = S
physics = S
anim = 3675
juggle = 5
velset = 0
ctrl = 0


[State 8002 , 4]
type = ReversalDef
priority = 7
trigger1 = time = 0
reversal.attr = SCA, NA, SA, HA
p1stateno = 280
hitsound = S220,1
pausetime = 40,50
sparkno = S3678
sparkxy = -26, 80


[State 1400 , 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------

;intro state decider
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

;[State 191, 1]
;type = ChangeState
;trigger1 = P2name = "shiryu de dragon"
;trigger2 = P4name = "shiryu de dragon"
;value = 9899

;[State 191, 2]
;type = ChangeState
;trigger1 = P2name = "Pegasus negro"
;trigger2 = P4name = "Pegasus negro"
;value = 9998

[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 2
range = 0,99


[State 180 , 9]
type = ChangeState
triggerall = roundno = 1
trigger1 = Var(2) = [0,24]
value = 194


[State 180 , 8]
type = ChangeState
triggerall = roundno = 1
trigger1 = Var(2) = [25,49]
value = 192

[State 180 , 9]
type = ChangeState
triggerall = roundno = 1
trigger1 = Var(2) = [50,74]
value = 194

[State 180 , 9]
type = ChangeState
triggerall = roundno = 1
trigger1 = Var(2) = [75,99]
value = 193

;------------------------------------------

; INTRO 1

[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0,0

[State 191, 2]
type = AssertSpecial
trigger1 = Time = [0,140]
flag = Intro

;cosmosound
[State 191, 0.1]
type = PlaySnd
trigger1 = Animelem = 1
value = 2115, 1

[State 191, 1] ;Intro not yet over
type = VarSet
trigger1 = Time = 0
v = 9
value = 1


[State 191, 3] ;Intro over, set v9 to 0
type = VarSet
trigger1 = Time = 65
v = 9
value = 0

;pegasus armor
[State 191 , 6]
type = Explod
trigger1 = AnimElem = 1 = 7  
anim = 3450
sprpriority = 1
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
ownpal = 1

;light
[State 191 , 6]
type = Explod
trigger1 = AnimElem = 30  
anim = 3500
sprpriority = -1
postype = p1
pos = 0,35
bindtime = 1
supermove = 1
ownpal = 1

;Bg effect
[State 191, super]
type = BGPalfx
trigger1 = Time = 0
ignorehitpause = 1
time = 200
mul = 150,150,222
sinadd = 34,56,67,240
add = 5,5,5
invertall = 0

;pegaso zoom
[State 191 , 6]
type = Explod
trigger1 = AnimElem = 10
anim = 3686
sprpriority = 4
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
ownpal = 1


;intro kosumo
[State 191 , 6]
type = Explod
ID = 3635
trigger1 = Time = 0 
anim = 3635
sprpriority = -2
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
ownpal = 1

;light remove
[State 191,2]
type = RemoveExplod
trigger1 = AnimElem = 27
ID = 3635

[State 191 , 3]
type = EnvShake
trigger1 = AnimElem = 29
time = 60

;intro kosumo
[State 191 , 6]
type = Explod
trigger1 = AnimElem = 29
anim = 3697
sprpriority = -2
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
ownpal = 1

[State 191, vestizione]
type = PlaySnd
trigger1 = Animelem = 18
value = 30,1

[State 191, vestizione]
type = PlaySnd
trigger1 = Animelem = 20
value = 30,0

[State 191, vestizione]
type = PlaySnd
trigger1 = Animelem = 22
value = 30,1

[State 191, vestizione]
type = PlaySnd
trigger1 = Animelem = 24
value = 30,0


[State 191 , 5]
type = PlaySnd
trigger1 = AnimElem = 14
value = 3710,7

;pegasus armor kosumo
[State 191 , 7]
type = Explod
trigger1 = AnimElem = 1 = 7  
anim = 3451
sprpriority = -1
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
ownpal = 1

;esplosione
[State 191, 8]
type = Explod
trigger1 = AnimElem = 2 = 8     ;14, =8
anim = 3400
sprpriority = 20
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
ownpal = 1

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 0

;----------------------------------

; INTRO 2

[Statedef 192]
type = S
anim = 193

[State 192 , 1]
type = AssertSpecial
trigger1 = Time = [0,490]
flag = Intro

[State 192, 2]
type = Explod
trigger1 = AnimElem = 7
anim = 3400
sprpriority = 20
postype = p1
pos = -15,0
bindtime = 1
supermove = 1
ownpal = 1

[State 192, 3]
type = Explod
trigger1 = AnimElem = 31
anim = 3400
sprpriority = 20
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
ownpal = 1

[State 192 , 4]
type = Explod
trigger1 = AnimElem = 31
anim = 3686
sprpriority = 4
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
ownpal = 1

[State 192 , 5]
type = Explod
trigger1 = AnimElem = 1
anim = 9936
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
removetime = 100
supermove = 1
ownpal = 1


[State 192 , 5]
type = Explod
trigger1 = AnimElem = 2
anim = 9195
sprpriority = 1
postype = p1
pos = 62,-5
bindtime = 1
supermove = 1
ownpal = 1

[State 192 , 6]
type = Explod
trigger1 = AnimElem = 13
anim = 9936
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
removetime = 81
supermove = 1
ownpal = 1

[State 191 , 7]
type = Explod
trigger1 = AnimElem = 6
anim = 9937
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
removetime = 9
supermove = 1
ownpal = 1

[State 192 , 8]
type = Explod
trigger1 = AnimElem = 22
anim = 9939
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
removetime = 9
supermove = 1
ownpal = 1

[State 192 , 9]
type = Explod
trigger1 = AnimElem = 7
anim = 9938
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
removetime = 54
supermove = 1
ownpal = 1

[State 192 , 10]
type = Explod
trigger1 = AnimElem = 23
anim = 9940
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
removetime = 33
supermove = 1
ownpal = 1

[State 192 , 11]
type = Explod
trigger1 = AnimElem = 19
anim = 9941
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
removetime = 9
supermove = 1
ownpal = 1

[State 192 , 12]
type = Explod
trigger1 = AnimElem = 20
anim = 9942
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
removetime = 9
supermove = 1
ownpal = 1

[State 192 , 13]
type = Explod
trigger1 = AnimElem = 21
anim = 9943
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
removetime = 9
supermove = 1
ownpal = 1

[State 192 , 14]
type = Explod
trigger1 = AnimElem = 22
anim = 9944
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
removetime = 14
supermove = 1
ownpal = 1

[State 192 , 15]
type = Explod
trigger1 = AnimElem = 23
anim = 9945
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
removetime = 14
supermove = 1
ownpal = 1

[State 192 , 16]
type = Explod
trigger1 = AnimElem = 24
anim = 9946
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
removetime = 14
supermove = 1
ownpal = 1

[State 192 , 17]
type = Explod
trigger1 = AnimElem = 25
anim = 9947
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
removetime = 9
supermove = 1
ownpal = 1

[State 192 , 18]
type = Explod
trigger1 = AnimElem = 26
anim = 9948
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
removetime = 9
supermove = 1
ownpal = 1

[State 192 , 19]
type = Explod
trigger1 = AnimElem = 27
anim = 9949
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
removetime = 9
supermove = 1
ownpal = 1

[State 192 , 20]
type = Explod
trigger1 = AnimElem = 28
anim = 9950
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
removetime = 9
supermove = 1
ownpal = 1

[State 192 , 21]
type = Explod
trigger1 = AnimElem = 28
anim = 3505
sprpriority = 5
postype = p1
pos = 76,-50
bindtime = 1
removetime = 15
supermove = 1
ownpal = 1

[State 192 , 22]
type = Explod
trigger1 = AnimElem = 17
anim = 3406
sprpriority = -7
postype = p1
pos = 60,0
bindtime = 1
removetime = 72
supermove = 1
ownpal = 1

[State 192 , 23]
type = EnvShake
trigger1 = AnimElem = 46
time = 60

[State 192 , 24]
type = Explod
trigger1 = AnimElem = 46
anim = 3697
sprpriority = -2
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
ownpal = 1

[State 192 , 25]
type = Explod
trigger1 = AnimElem = 46
anim = 9827
sprpriority = -5
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
ownpal = 1

[State 191, vestizione]
type = PlaySnd
trigger1 = Animelem = 36
value = 30,0

[State 191, vestizione]
type = PlaySnd
trigger1 = Animelem = 38
value = 30,0

[State 191, vestizione]
type = PlaySnd
trigger1 = Animelem = 40
value = 30,0

[State 191, vestizione]
type = PlaySnd
trigger1 = Animelem = 42
value = 30,0


[State 192, 26]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1000,7

[State 192, 27]
type = PlaySnd
trigger1 = AnimElem = 10
value = 2110,1

[State 192, 28]
type = PlaySnd
trigger1 = AnimElem = 6
value = 3710, 12

[State 192, 29]
type = PlaySnd
trigger1 = AnimElem = 33
value = 3710, 5

[State 192, 30]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 0
;-----------------------------------

; intro 3

[Statedef 193]
type = S
anim = 198

[State 192, 1]
type = AssertSpecial
trigger1 = Time = [0,1500]
flag = Intro

[State 192, snd]
type = PlaySnd
trigger1 =  Time = 80
trigger2 = AnimElem = 55
value = 3710,17

[State 192 , 24]
type = Explod
trigger1 = AnimElem = 1
anim = 4168
sprpriority = -2
postype = p1
pos = 0,0
removetime = -1
bindtime = 1
supermove = 1
ownpal = 1

[State 192, 2]
type = Explod
trigger1 = AnimElem = 56
anim = 3400
sprpriority = 20
postype = p1
pos = -5,0
bindtime = 1
supermove = 1
ownpal = 1

[State 192 , 4]
type = Explod
trigger1 = AnimElem = 57
anim = 3686
sprpriority = 4
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
ownpal = 1

[State 192, 3]
type = Projectile
trigger1 = time = 30
attr = S, SP
ignorehitpause = 1
projanim = 3565
projhitanim = -1
offset = -100,-13
velocity = 5
damage = 0,0
animtype = light
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
projremove = 0
projremovetime = 20

[State 192, 5]
type = Explod
trigger1 = Time = 50
anim = 3630
sprpriority = 2
postype = p2
pos = 20,0
bindtime = 1
supermove = 1
ownpal = 1

[State 192, snd]
type = PlaySnd
trigger1 = Time = 50
value = 300,1

[State 192, 3]
type = Projectile
trigger1 = time = 60
attr = S, SP
ignorehitpause = 1
projanim = 3565
projhitanim = -1
offset = -100,-13
velocity = 5
damage = 0,0
animtype = light
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
projremove = 0
projremovetime = 20

[State 192, 5]
type = Explod
trigger1 = Time = 70
anim = 3630
sprpriority = 2
postype = p2
pos = 20,0
bindtime = 1
supermove = 1
ownpal = 1

[State 192, snd]
type = PlaySnd
trigger1 = Time = 70
value = 300,1

[State 192, 3]
type = Projectile
trigger1 = time = 80
attr = S, SP
ignorehitpause = 1
projanim = 3565
projhitanim = -1
offset = -100,-13
velocity = 5
damage = 0,0
animtype = light
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
projremove = 0
projremovetime = 20

[State 192, 5]
type = Explod
trigger1 = Time = 100
anim = 3630
sprpriority = 2
postype = p2
pos = 20,0
bindtime = 1
supermove = 1
ownpal = 1

[State 192, snd]
type = PlaySnd
trigger1 = Time = 100
value = 300,1

[State 192, snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1100,1

[State 192, snd]                        
type = PlaySnd
trigger1 = AnimElem = 12
value = 3710,16

[State 192, snd]                        
type = PlaySnd
trigger1 = AnimElem = 10
value = 2115, 1

[State 192, 2]
type = EnvColor
trigger1 = AnimElem = 55
value = 255,255,255
time = 10

;light
[State 191 , 6]
type = Explod
trigger1 = AnimElem = 50
anim = 194
sprpriority = 2
postype = p1
pos = -15, -85
ontop =1
bindtime = 1
supermove = 1
ownpal = 1

[State 192, snd]
type = PlaySnd
trigger1 = AnimElem = 55
value = 300,3

;pegasus armor
[State 191 , 6]
type = Explod
trigger1 = AnimElem = 54 = 56
anim = 3957
sprpriority = 1
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
ownpal = 1

[State 191 , 6]
type = Explod
trigger1 = AnimElem = 54 = 56
anim = 3953
sprpriority = -2
postype = p1
pos = 0,0
removetime = 62
bindtime = 1
supermove = 1
ownpal = 1

[State 192 , 24]
type = Explod
trigger1 = AnimElem = 73
anim = 3697
sprpriority = -2
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
ownpal = 1

[State 191, vestizione]
type = PlaySnd
trigger1 = Animelem = 59
pan <= 120
value = 30,0

[State 191, vestizione]
type = PlaySnd
trigger1 = Animelem = 60
pan >= 120
value = 30,1

[State 191, vestizione]
type = PlaySnd
trigger1 = Animelem = 61
value = 30,0

[State 191, vestizione]
type = PlaySnd
trigger1 = Animelem = 62
pan <= 120
value = 30,1

[State 191, vestizione]
type = PlaySnd
trigger1 = Animelem = 63
pan >= 120
value = 30,0

[State 191, vestizione]
type = PlaySnd
trigger1 = Animelem = 65
value = 30,1

[State 191, vestizione]
type = PlaySnd
trigger1 = Animelem = 66
pan <= 120
value = 30,0

;light
[State 191 , 6]
type = Explod
trigger1 = AnimElem = 61  
anim = 3500
sprpriority = -1
postype = p1
pos = 0,35
bindtime = 1
supermove = 1
ownpal = 1

[State 192, snd]
type = PlaySnd
trigger1 = AnimElem = 71
value = 1100,1

[State 192 , 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;Intro 4

[Statedef 194]
type = S
ctrl = 0
anim = 196
velset = 0,0,0

[State 191, 2]
type = AssertSpecial
trigger1 = Time = [0,600]
flag = Intro

;cosmosound
[State 191, 0.1]
type = PlaySnd
trigger1 = Animelem = 3
value = 194, 0

[State 191, 2]
type = PlaySnd
trigger1 = AnimElem = 30
trigger2 = AnimElem = 36
value = 1000, 0

[State 191 , 5]
type = PlaySnd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 65
value = 1000,7

[State 191 , 5]
type = PlaySnd
trigger1 = AnimElem = 65
value = 52,0

[State 191 , 5]
type = PlaySnd
trigger1 = AnimElem = 39
trigger2 = AnimElem = 44
trigger3 = AnimElem = 49
trigger4 = AnimElem = 54
trigger5 = AnimElem = 59
value = 30,0

[State 191 , 5]
type = PlaySnd
trigger1 = AnimElem = 36
trigger2 = AnimElem = 41
trigger3 = AnimElem = 46
trigger4 = AnimElem = 51
trigger5 = AnimElem = 56
value = 30, 1

[State 191 , 5]
type = PlaySnd
trigger1 = AnimElem = 65
value = 1300,1



;Bg effect
[State 191, super]
type = BGPalfx
trigger1 = Time = 0
ignorehitpause = 1
time = 200
mul = 150,150,222
sinadd = 34,56,67,240
add = 5,5,5
invertall = 0

;intro kosumo
[State 191 , 6]
type = Explod
ID = 36356
trigger1 = AnimElem = 8
anim = 36356
sprpriority = -2
postype = p1
pos = 0,0
removetime = 166
bindtime = 1
supermove = 1
ownpal = 1

;light 
[State 191 , 6]
type = Explod
trigger1 = AnimElem = 30
trigger2 = AnimElem = 37
anim = 9199
sprpriority = 1
postype = p1
pos = -25,-160
bindtime = 1
supermove = 1
ownpal = 1

;esplosione
[State 191, 8]
type = Explod
trigger1 = AnimElem = 8
anim = 3400
sprpriority = -1
postype = p1
pos = 30,-20
bindtime = 1
supermove = 1
ownpal = 1

;esplosione
[State 191, 8]
type = Explod
trigger1 = AnimElem = 27
anim = 9196
sprpriority = 1
postype = p1
pos = -18,30
bindtime = 1
supermove = 1
ownpal = 1

;esplosione
[State 191, 8]
type = Explod
trigger1 = AnimElem = 23
anim = 9194
sprpriority = -1
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
ownpal = 1


;esplosione
[State 191, 8]
type = Explod
trigger1 = AnimElem = 18
anim = 38400
sprpriority = -1
postype = p1
pos = 40,10
bindtime = 1
supermove = 1
ownpal = 1


;light 
[State 191 , 6]
type = Explod
trigger1 = AnimElem = 62  
anim = 3722
sprpriority = -1
postype = p1
pos = -100,20
bindtime = 1
supermove = 1
ownpal = 1

[State 191 , 3]
type = EnvShake
trigger1 = AnimElem = 45
time = 40

[State 191, 1] ;Intro not yet over
type = VarSet
trigger1 = Time = 0
v = 9
value = 1

[State 191, 3] ;Intro over, set v9 to 0
type = VarSet
trigger1 = Time = 65
v = 9
value = 0

[State 191, 4]
type = Null
trigger1 = AnimTime = 0
value = 0
ctrl = 0


[State 9998, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;-------------------------------------------------

; Intro vs. Blackpegasus
[Statedef 9998]
type = S
anim = 9998

[State 9998, 1]
type = AssertSpecial
trigger1 = Time = [0,1100]
flag = Intro

[State 9998, 1]
type = AssertSpecial
trigger1 = Time = [0,1100]
flag = roundnotover

[State 9998 , 1]
type = AssertSpecial
trigger1 = Time = [0,1100]
flag = RoundNotOver

[State 9998, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;-------------------------------------------------
; Intro vs. Shiryu
[Statedef 9899]
type = S
anim = 9899

[State 9899, 1]
type = AssertSpecial
trigger1 = Time = [0,1600]
flag = Intro

[State 9899, 1]
type = AssertSpecial
trigger1 = Time = [0,1600]
flag = roundnotover

[State 9899 , 1]
type = AssertSpecial
trigger1 = Time = [0,1600]
flag = RoundNotOver

[State 9899, 2]
type = PlaySnd
trigger1 = AnimElem = 1
pan =120
value = 3600,1

[State 9899, 3]
type = PlaySnd
trigger1 = AnimElem = 20
pan =120
value = 5000,2

[State 9899, 4]
type = PlaySnd
trigger1 = AnimElem = 55
pan =120
value = 5000,3

[State 9899, sirio]
type = PlaySnd
trigger1 = AnimElem = 95
pan <=120
value = 5000,4

[State 9899, ahhh]
type = PlaySnd
trigger1 = Animelem = 253
value = 2000,0

[State 9899, flash]
type = Explod
trigger1 = AnimElem = 255
anim = 3401
sprpriority = 0
postype = p1
pos = -10
bindtime = 1
removetime = 60
supermove = 1
ownpal = 1

[State 9899, ahhh]
type = PlaySnd
trigger1 = Animelem = 255
value = 2100,1

[State 1700, envshake]
type = EnvShake
trigger1 = AnimElem = 255
time = 50

[State 9899, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------


;helper
;castalia helper
[Statedef 3711]
type    = S
physics = N
ctrl = 0
anim = 3711

[State 3711 , 1]
type = ChangeState
trigger1 = P2BodyDist X < 15
value = 3712
;---------------------------
[Statedef 3712]
type    = S
physics = N
ctrl = 0
anim = 3712

[State 3712 , 1]
type = ChangeState
trigger1 = P2BodyDist X < 1
value = 3713
;---------------------------

[Statedef 3713]
type    = S
physics = N
ctrl = 0
anim = 3713

[State 3712 , 1]
type = ChangeState
trigger1 = P2BodyDist X > 15
value = 3711

;--------------------------------------
;------------------------------------
;Provoking
[Statedef 199]
type = S
movetype = I
physics = S
anim = 1799
velset = 0
ctrl = 0
poweradd= 500

[State 199 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 199, 0

[State 199 , 3]
type = ChangeState
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
trigger4 = command = "x"
trigger5 = command = "y"
trigger6 = command = "z"
trigger7 = command = "holdfwd"
trigger8 = command = "holdback"
trigger9 = command = "holdup"
trigger10 = command = "holddown"
value = 0
ctrl = 1

;-----------------------------------------------

;pugno debole
[Statedef 200]
type = S
movetype = A
physics = S
anim = 200
juggle = 1
velset = 0
ctrl = 0
poweradd= 50

[State 200 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,0

[State 200 , 3]
type = HitDef
trigger1 = AnimElem = 3
priority = 3
attr = S, NA
damage = 25, 4
getpower = 10
givepower = 5
animtype = light
guardflag = MA
sparkno = S92
sparkxy = -15,-85
hitsound = S200,1
guardsound = S300,0
pausetime = 8,4
ground.hittime = 13
ground.type = high
ground.slidetime = 9
ground.velocity = -1
air.velocity = -3,-3


[State 200 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------------------------
;Pugno hard
[Statedef 201]
type = S
movetype = A
physics = S
anim = 201
juggle = 3
velset = 0
ctrl = 0
poweradd= 50

[State 201, polvere]
type = MakeDust
trigger1 = Time = 0
pos = -15,3
pos2 = -22,-3
spacing = 2

[State 201, 3]
type = VelSet
trigger1 = AnimElem = 3
x = 15

[State 201 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 240,0


[State 201 , 3]
type = HitDef
trigger1 = AnimElem = 3
priority = 5
attr = S, NA
damage = 45, 12
getpower = 100
givepower = 50
animtype = hard
guardflag = HA
sparkxy = -25,-91
sparkno = S93
hitsound = S240,1
guardsound = S300,2
pausetime = 10,15
ground.hittime = 19
ground.type = hight
ground.slidetime = 19
ground.velocity = -5
air.velocity = -4,-3


[State 201 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------

;-------------------------------------------------------------------

;Pugno medio
[Statedef 215]
type = S
movetype = A
physics = S
anim = 215
juggle = 3
velset = 0
ctrl = 0
poweradd= 50

[State 215 , 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 220,0

[State 215 , 3]
type = HitDef
trigger1 = AnimElem = 7
priority = 4
attr = S, NA
damage = 35, 8
getpower = 60
givepower = 30
animtype = hard
guardflag = HA
sparkxy = -20,-79
sparkno =S91
hitsound = S220,1
guardsound = S300,1
pausetime = 10,12
ground.hittime = 19
ground.type = hight
ground.slidetime = 19
ground.velocity = -10
air.velocity = -4,-3


[State 215 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------

;Calcio debole
[Statedef 220]
type = S
movetype = A
physics = S
anim = 220
juggle = 1
velset = 0
ctrl = 0
poweradd= 50

[State 220 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,0


[State 220 , 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 50
value = 1100,1


[State 220 , 3]
type = HitDef
trigger1 = AnimElem = 3
priority = 4
attr = S, NA
damage = 25
getpower = 15
givepower = 7
animtype = light
guardflag = MA
sparkno = S91
sparkxy = -15,-95
hitsound = S200,1
guardsound = S300,0
pausetime = 12,12
ground.hittime = 13
ground.type = high
ground.slidetime = 9
ground.velocity = -3
air.velocity = -2,0


[State 220 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------
;Mini comete standing	
[Statedef 225]
type = S
movetype = A
physics = S
anim = 228
juggle = 5
velset = 0,0
ctrl = 0
poweradd= 100
sprpriority = 2

[State 225, kiai]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1100,1

[State 225, light]
type = Explod
trigger1 = AnimElem = 4
anim = 3661
ID = 3661
pos = 5,0
postype = p1
sprpriority = 2
supermove = 1
removetime = 10
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1

[State 225, 1]
type = Projectile
trigger1 = AnimElem = 4
attr = S, SP
ProjAnim = 7005
ProjHitAnim = 8210     
ProjRemAnim = 8210  
offset = 0,0
velocity = 8, 0    
remvelocity = .7, 0     
accel = 0, 0            
damage    = 9,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = S7008
sparkxy = 43, -87
guard.sparkno = S7008
hitsound   = S220,1
guardsound = S300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 225, 1]
type = Projectile
trigger1 = AnimElem = 5
attr = S, SP
ProjAnim = 7005
ProjHitAnim = 4148
ProjRemAnim = 8210  
offset = 0,0
velocity = 8, 2
remvelocity = 15, 2    
accel = 0, 0            
damage    = 9,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = S7008
sparkxy = 43, -87
guard.sparkno = S7008
hitsound   = S220,1
guardsound = S300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 225, kiai]
type = PlaySnd
trigger1 = AnimElem = 12
value = 1100,1

[State 225, light]
type = Explod
trigger1 = AnimElem = 12
ignorehitpause = 1
anim = 3661
ID = 3661
pos = -0,0
postype = p1
sprpriority = -2
supermove = 1
removetime = -1
ignorehitpause = 1
ownpal = 1
bindtime = -1
removeongethit = 1

;light remove
[State 225,2]
type = RemoveExplod
trigger1 = AnimElem = 28
ID = 3661

[State 225, 3]
type = Projectile
trigger1 = AnimElem = 11
trigger2 = AnimElem = 17
trigger3 = AnimElem = 23
attr = S, SP
ProjAnim = 7005
ProjHitAnim = 8210     
ProjRemAnim = 8210  
offset = 0,0
velocity = 8, 0    
remvelocity = .7, 0     
accel = 0, 0            
damage    = 9,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = S7008
sparkxy = 43, -87
guard.sparkno = S7008
hitsound   = S220,1
guardsound = S300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 191 , 6]
type = Explod
trigger1 = AnimElem = 1
anim = 3670
ignorehitpause = 1
sprpriority = -2
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
removeongethit = 1
ownpal = 1

[State 1251, projetil 2]
type = Projectile
trigger1 = AnimElem = 13
trigger2 = AnimElem = 19
trigger3 = AnimElem = 25
ProjAnim = 7005      
ProjHitAnim = 8210     
ProjRemAnim = 8210      
offset = 0, 0        
velocity = 8, -0.7
remvelocity = 0, 0    
accel = 0, 0            
attr = S, SP
damage    = 9,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = S7008
sparkxy = 43, -87
guard.sparkno = S7008
hitsound   = S220,1
guardsound = S300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 225, 4]
type = Projectile
trigger1 = AnimElem = 15
trigger2 = AnimElem = 21
trigger3 = AnimElem = 27
attr = S, SP
ProjAnim = 7005
ProjHitAnim = 4148
ProjRemAnim = 8210  
offset = 0,0
velocity = 8, 2
remvelocity = 15, 2   
accel = 0, 0            
damage    = 9,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = S7008
sparkxy = 43, -87
guard.sparkno = S7008
hitsound   = S220,1
guardsound = S300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 225 , 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------
;mini METEOROS MULTIPLES
[Statedef 229]
type = S
movetype = A
physics = S
anim = 229
poweradd = 2
juggle = 3
velset = 0
ctrl = 0
poweradd= 100

[State -3,remove]
type = RemoveExplod
triggerall = NumExplod(2) = 1
trigger1 = Time = 0
ID = 2

[State 225, kiai]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1100,1

[State 225, kiai]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 22
trigger3 = AnimElem = 40
value = 1000,8

[State 229, 0]
type = SuperPause
trigger1 = Time = 0
time = 15
movetime = 0
anim = -1
pos = 5, 0

[State 191 , 6]
type = Explod
trigger1 = AnimElem = 1
anim = 397
sprpriority = -2
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
removeongethit = 1
ownpal = 1

[State 225, 1]
type = Projectile
trigger1 = AnimElem = 11
trigger2 = AnimElem = 29
trigger3 = AnimElem = 47
attr = S, SP
ProjAnim = 7005
ProjHitAnim = 8210     
ProjRemAnim = 8210  
offset = 0,0
velocity = 8, 0    
remvelocity = .7, 0     
accel = 0, 0            
damage    = 9,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = S7008
sparkxy = 43, -87
guard.sparkno = S7008
hitsound   = S220,1
guardsound = S300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 225, 1]
type = Projectile
trigger1 = AnimElem = 13
trigger2 = AnimElem = 31
trigger3 = AnimElem = 49
attr = S, SP
ProjAnim = 7005
ProjHitAnim = 8210     
ProjRemAnim = 8210  
offset = 0,0
velocity = 8, -0.7    
remvelocity = .7, 0     
accel = 0, 0            
damage    = 9,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = S7008
sparkxy = 43, -87
guard.sparkno = S7008
hitsound   = S220,1
guardsound = S300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 1]
type = Projectile
trigger1 = AnimElem = 4
trigger2 = AnimElem = 22
trigger3 = AnimElem = 40
ProjAnim = 1368    
ProjHitAnim = 8210     
ProjRemAnim = 8210  
projscale = 0.7, 0.7
offset = -20, -36        
velocity = 7, -0.1    
remvelocity = .7, 0     
accel = 0, 0            
attr = S, SP
damage    = 15, 10
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,24
sparkno = S7008
sparkxy = 65, -50
guard.sparkno = S7008
hitsound   = s240,1
guardsound = s300,2
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 225, 1]
type = Projectile
trigger1 = AnimElem = 15
trigger2 = AnimElem = 33
trigger3 = AnimElem = 51
attr = S, SP
ProjAnim = 7005
ProjHitAnim = 4148
ProjRemAnim = 8210  
offset = 0,0
velocity = 8, 2
remvelocity = 15, 2    
accel = 0, 0            
damage    = 9,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = S7008
sparkxy = 43, -87
guard.sparkno = S7008
hitsound   = S220,1
guardsound = S300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 229, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------
[Statedef 226]
type = A 
movetype = A  
physics = N
anim = 226
velset = 3.5,-2.2
poweradd= 50

[State 226 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 200,3

[State 226 , 2]
type = PlaySnd
trigger1 = Time = 2
value = 40,0

[State 226 , 3]
type = VelAdd
trigger1 = Time > 0
y = .3

[State 226 , 4]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage = 40
animtype = hard
guardflag = MA
sparkxy = -10,-90
hitsound = S260,0
guardsound = S200,1
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 19
ground.velocity = -10
air.velocity = -4,-3

[State 226 , 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 227
;-------------------------
[Statedef 227]
type = S
movetype = I
phsyics = S
anim = 227
velset = 0,0

[State 227 , 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 227 , 2]
type = PlaySnd
trigger1 = Time = 0
value = 52,0

[State 227 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;------------------------------------------
;auto-ginocchiata
[Statedef 230]
type = S
movetype = A
physics = S
anim = 230
juggle = 1
velset = 0
ctrl = 0
poweradd= 50

[State 230 , vel]
type = VelSet
trigger1 = AnimElem = 3
x = 8

[State 230 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,0

[State 230 , 3]
type = HitDef
trigger1 = AnimElem = 3
priority = 4
attr = S, NA
damage = 25, 4
getpower = 10
givepower = 5
animtype = light
guardflag = MA
sparkno = s92
sparkxy = -10,-62
hitsound = S200,1
guardsound = S300,0
pausetime = 12,6
ground.hittime = 13
ground.type = low
ground.slidetime = 9
ground.velocity = -3
air.velocity = -1,-0


[State 230 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 52
ctrl = 1

;----------------
;calcio forte per combo aerea
[Statedef 210]
type = S
movetype = A
physics = S
anim = 3721
velset = 0
ctrl = 0 
poweradd= 50

;energia su p2
[State 210 , 0]
type = Explod
triggerall = NumExplod(3500) = 0
trigger1 = MoveContact
id = 3500
anim = 3500
sprpriority = -3
removetime = 120
postype = p2
pos = -20,30
bindtime = 120
ownpal = 1
supermove = 1
removeongethit = 1

[State 210 , 2]
type = PlaySnd
trigger1 = AnimElem =1
value = 240,0

[State 210 , 3]
type = HitDef
trigger1 = AnimElem = 4
priority = 6
attr = S, NA
damage = 65, 15
getpower = 60
givepower = 30
animtype = hard
guardflag = MA
sparkxy = -10,-95
sparkno = S93
hitsound = S240,1
groundtype = up
guardsound = S300,2
pausetime = 9,12
ground.velocity = 0,-19
air.velocity = 0,0
ground.hittime = 40
getpower = 500
givepower = 400
air.hittime = 40
fall = 1
fallrecover = 1
envshake.time = 10
envshake.freq = 10
envshake.ampl = 10
envshake.phase = 10

[State 210 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------
;Calcio alto
[Statedef 240]
type = S
movetype = A
physics = S
anim = 240
juggle = 2
velset = 0
ctrl = 0
poweradd= 50

[State 230 , vel]
type = VelSet
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
x = 5

[State 240, 4]
type = CtrlSet
trigger1 = AnimElem = 7
value = 1

[State 240 , 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 0

[State 240 , 3]
type = PlaySnd
trigger1 = AnimElem = 3
value = 220,0

[State 240 , 4]
type = HitDef
trigger1 = AnimElem = 4
priority = 6
attr = S, NA
damage = 45, 12
getpower = 120
givepower = 60
animtype = hard
guardflag = MA
sparkno = S91
sparkxy = -15,-92
hitsound = S220,1
guardsound = S300,1
pausetime = 10,10
ground.hittime = 19
ground.type = high
ground.slidetime = 19
ground.velocity = -6
air.velocity = -1,-0


[State 240 , 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------------

;raffica 
[Statedef 241]
type = S
movetype = A
physics = S
anim = 241
juggle = 2
velset = 0
ctrl = 0
poweradd= 50

;Bg effect
[State 241, super]
type = BGPalfx
trigger1 = Time = 0
ignorehitpause = 1
time = 150
mul = 150,150,222
add = 5,5,5
invertall = 0

[State 241, 4]
type = StopSnd
trigger1 = Time = 0
channel = -1
;persistent = 1

[State 241 , 1]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 250
value = 240,3

[State 241 , 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 0

[State 241 , 3]
type = PlaySnd
trigger1 = AnimElem = 3
value = 200,2

[State 241, 1]
type = Projectile
trigger1 = AnimElem = 4
trigger2 = AnimElem = 6
trigger3 = AnimElem = 8
trigger4 = AnimElem = 10
trigger5 = AnimElem = 12
attr = A, SP
ignorehitpause = 1
projanim = 3698
projhitanim = 3661
offset = 0,0
velocity = 15,-8
damage = 5,1
animtype = Hard
guardflag = MA
pausetime = 12,0
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -8
air.velocity = -2.5,-5

[State 241, 1]
type = Projectile
trigger1 = AnimElem = 5
trigger2 = AnimElem = 7
trigger3 = AnimElem = 9
trigger4 = AnimElem = 11
attr = A, SP
ignorehitpause = 1
projanim = 3698
projhitanim = 3661
offset = 0,0
velocity = 16,-7
damage = 5,1
animtype = light
guardflag = MA
pausetime = 12,3
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -8
air.velocity = -2.5,-5
fall = 1

[State 241 , 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------
;Calcio medio
[Statedef 250]
type = S
movetype = A
physics = S
anim = 225
juggle = 1
velset = 0
ctrl = 0
poweradd= 50

[State 250 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220,0

[State 250 , 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 150
value = 1100,1

[State 250 , 3]
type = HitDef
trigger1 = AnimElem = 4
priority = 5
attr = S, NA
damage = 35
animtype = hard
guardflag = MA
sparkno = s92
sparkxy = -20,-66
hitsound = S220,1
guardsound = S300,1
pausetime = 8,11
ground.hittime = 19
ground.type = low
ground.slidetime = 19
ground.velocity = -3
air.velocity = -3,-0

[State 250, 5]
type = AfterImage
trigger1 = time = 4
time = 20
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 250 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------
;calcio girato
[Statedef 260]
type = S
movetype = A
physics = S
anim = 260
juggle = 2
velset = 0
ctrl = 0
poweradd= 50

[State 260 , 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 220,2


[State 260 , 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 250
value = 240,3

[State 260 , 3]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 45
getpower = 80
givepower = 40
animtype = hard
guardflag = MA
sparkno = 12 
sparkxy = -10,-90
hitsound = S260,0
guardsound = S200,1
pausetime = 9,15
ground.hittime = 19
ground.type = high
ground.slidetime = 19
ground.velocity = -5
air.velocity = -4,-3

[State 260 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------
;Calcio capovolto
[Statedef 270]
type = S
movetype = A
physics = S
anim = 3645
juggle = 2
velset = 0
ctrl = 0
poweradd= 50

[State 270 , 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 220,0

[State 270 , 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 240,0

;first
[State 270 , 3]
type = HitDef
trigger1 = AnimElem = 6
priority = 6
attr = S, NA
damage = 45, 12
animtype = hard
guardflag = MA
sparkxy = -10,-92
sparkno = S91
hitsound = S220, 1
guardsound = S300,1
pausetime = 10,15
ground.hittime = 19
ground.type = hight


;2nd hit
[State 270 , 4]
type = HitDef
trigger1 = AnimElem = 9
priority = 3
attr = S, NA
damage = 35, 8
animtype = hard
guardflag = MA
sparkxy = -30,-80
sparkno = S93
hitsound = S240,1
guardsound = S300,2
pausetime = 3,4
ground.hittime = 19
ground.type = hight
ground.slidetime = 19
ground.velocity = -4,15
air.velocity = -4,-3
fall = 1
fall.damage = 20

[State 270, 5]
type = Turn
trigger1 = Time = 48
;trigger1 = p2dist X > 0

[State 270, 6]
type = PosAdd
trigger1 = Time = 48
x = -95

[State 270, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------
;Pugno ravvicinato
[Statedef 280]
type = S
movetype = A
physics = S
anim = 280
velset = 0
ctrl = 0  
poweradd= 50

[State 230 , vel]
type = VelSet
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
x = 4

;scia luminosa
[State 280 , 0]
type = Explod
trigger1 = AnimElem = 4
anim = 3687
sprpriority = -1
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
ownpal = 1

;cosmo remove
[State 280,0]
type = RemoveExplod
trigger1 = Time = 0
ID = 2

[State 280 , 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 260,0

[State 280 , 3]
type = HitDef
trigger1 = AnimElem = 6
priority = 5
attr = S, NA
damage = 45
getpower = 100
givepower = 50
animtype = hard
guardflag = MA
sparkxy = -20,-80
sparkno = S94
hitsound = S240,1
guardsound = S300,2
pausetime = 12,12
ground.hittime = 16
ground.type = hight;low
ground.slidetime = -5
ground.velocity = -6,-6;0
air.velocity = -7;,-3
p2stateno = 1025

[State 280 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------
;Calcio hard
[Statedef 290]
type = S
movetype = A
physics = S
anim = 290
velset = 0
ctrl = 0 
poweradd= 50

[State 290, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 260,0

[State 290, 0.1]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = random < 600
value = 1100,1

[State 290, 1]
type = HitDef
trigger1 = AnimElem = 4
priority = 6
attr = S, NA
damage = 45
animtype = hard
guardflag = MA
sparkxy = -25,-85
sparkno =S94
getpower = 120
givepower = 60
hitsound = S240,1
guardsound = S300,2
guard.hittime = 20
guard.velocity = -20
pausetime = 12,12
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -4,-0

[State 290, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1   
 
;-----------------------------------------------
;Pugno basso debole
[Statedef 400]
type = C
movetype = A
physics = C
anim = 400
juggle = 1
velset = 0
ctrl = 0
poweradd= 50

[State 400 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,0

[State 400 , 3]
type = HitDef
trigger1 = AnimElem = 2
priority = 3
attr = C, NA
damage = 25, 4
getpower = 30
givepower = 15
animtype = light
guardflag = LA
sparkno = s91
sparkxy = -10,-60
hitsound = S200,1
guardsound = S300,0
pausetime = 8,6
ground.hittime = 12
ground.type = low
ground.slidetime = 10
ground.velocity = -2
air.velocity = -2,-2


[State 400 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-------------------------------------

[statedef 410]
type = C
movetype = A
physics =  S
poweradd = 7
ctrl = 0
anim = 410
velset = 0,0
juggle = 7

[State 410,hit ]
type = HitDef
trigger1 = AnimElem = 2
attr = C,NA
hitflag = MAF
guardflag = M
animtype = Medium
damage = 35, 8
pausetime = 10,7
sparkno = S92
sparkxy = -15,-52
hitsound = S220,1
guardsound = S300,1
ground.type = low
air.type = low
ground.slidetime = 11
ground.hittime = 14
ground.velocity = -4,0
air.velocity = -4,-2
getpower = 4,0
givepower = 0,4

[State 410,sn ]
type = PlaySnd
trigger1 = time = 0
value = 220,0

[State 410,st ]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;-------------------------------------

[statedef 420]
type = C
movetype = A
physics =  S
poweradd = 7
ctrl = 0
anim = 420
velset = 0,0
juggle = 7

[State 410,hit ]
type = HitDef
trigger1 = AnimElem = 2
attr = C,NA
hitflag = MAF
guardflag = M
animtype = Medium
damage = 45, 12
pausetime = 11,7
sparkno = S94
sparkxy = -18,-55
hitsound = S240,1
guardsound = S300,2
ground.type = low
air.type = low
ground.slidetime = 11
ground.hittime = 14
ground.velocity = -6,0
air.velocity = -6,-2
getpower = 4,0
givepower = 0,4

[State 410,sn ]
type = PlaySnd
trigger1 = time = 0
value = 240,0

[State 410,st ]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;-------------------------------------
;Scivolata
[Statedef 440]
type = C
movetype = A
physics = C
anim = 440
juggle = 1
velset = 0
ctrl = 0
poweradd= 50

[State 440, polvere]
type = MakeDust
trigger1 = Time = 0
trigger2 = Time = 3
pos = 15,3
pos2 = 22,-3
spacing = 2


[State 440, 0]
type = VelAdd
trigger1 = AnimElem = 2
x = 20

[State 440 , 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 220,0

;slide sound
[State 440 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1000,5

[State 440 , 3]
type = HitDef
trigger1 = AnimElem = 2
priority = 5
attr = C, NA
damage = 25
getpower = 70
givepower = 30
animtype = hard
guardflag = LA
sparkxy = -15,-5
sparkno =S92
hitsound = S240,1
guardsound = S300,1
pausetime = 12,12
ground.hittime = 19
ground.type = low
ground.slidetime = 19
ground.velocity = -10
air.velocity = -4,-3

[State 440 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;------------------------------------------
;Pugno basso medio\forte
[Statedef 460]
type = C
movetype = A
physics = C
anim = 460
poweradd = -20
juggle = 2
velset = 0
ctrl = 0
poweradd= 50

[State 460 , 1]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 8
trigger4 = AnimElem = 10
value = 220,0

[State 460 , 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000,8


[State 460, light]
type = Explod
trigger1 = AnimElem = 3
anim = 3661
ID = 3661
pos = -25,30
postype = p1
sprpriority = 2
supermove = 1
removetime = 30
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 460, Kosumo]
type = Explod
trigger1 = Time = 0
anim = 3694
pos = 0,0
postype = p1
sprpriority = -4
supermove = 1
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0


[State 225, 1]
type = Projectile
trigger1 = AnimElem = 3
trigger2 = AnimElem = 8
attr = S, SP
ProjAnim = 7005
ProjHitAnim = 8210     
ProjRemAnim = 8210  
offset = 0, 30
velocity = 8, 0    
remvelocity = .7, 0     
accel = 0, 0            
damage    = 9,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = S7008
sparkxy = 43, -87
guard.sparkno = S7008
hitsound   = S220,1
guardsound = S300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 225, 1]
type = Projectile
trigger1 = AnimElem = 5
trigger2 = AnimElem = 10
attr = S, SP
ProjAnim = 7005
ProjHitAnim = 8210     
ProjRemAnim = 8210  
offset = 0, 30
velocity = 8, -1    
remvelocity = .7, 0     
accel = 0, 0            
damage    = 9,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = S7008
sparkxy = 43, -87
guard.sparkno = S7008
hitsound   = S220,1
guardsound = S300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 460 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 12
ctrl = 1
;----------------------------------------

[statedef 430]
type = C
movetype = A
physics =  S
poweradd = 15
ctrl = 0
anim = 430
velset = 0,0
juggle = 6

[State 420,hit ]
type = HitDef
trigger1 = time = 0
attr = C,NA
hitflag = MAFD
guardflag = M
animtype = Light
damage = 25, 4
pausetime = 10,9
sparkxy = -5,-6
sparkno = S92
hitsound = s200,1
guardsound = s300,0
ground.type = low
air.type = low
ground.slidetime = 11
ground.hittime = 11
ground.velocity = -2,0
air.velocity = -2,-2
getpower = 4,0
givepower = 0,4

[State 420,sn ]
type = PlaySnd
trigger1 = time = 0
value = 200,0

[State 420,st ]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

[statedef 450]
type = C
movetype = A
physics =  S
poweradd = 15
ctrl = 0
anim = 450
velset = 0,0
juggle = 7

[State 425,p ]
type = PosAdd
trigger1 = time = 0
x = 10

[State 425,hit ]
type = HitDef
trigger1 = AnimElem = 2
attr = C,NA
hitflag = MAFD
guardflag = M
animtype = Medium
damage = 25, 6
pausetime = 10,9
sparkxy = -18,-30
sparkno = S92
hitsound = s200,1
guardsound = s300,0
ground.type = low
air.type = low
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -1,0
air.velocity = -1,-2
getpower = 4,0
givepower = 0,4

[State 425,hit ]
type = HitDef
trigger1 = AnimElem = 4
attr = C,NA
hitflag = MAFD
guardflag = M
animtype = Medium
damage = 25, 6
pausetime = 10,9
sparkxy = -5,-6
sparkno = S92
hitsound = s220,1
guardsound = s300,1
ground.type = low
air.type = low
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -5,0
air.velocity = -5,-2
getpower = 4,0
givepower = 0,4

[State 425,sn ]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,0

[State 425,sn ]
type = PlaySnd
trigger1 = AnimElem = 3
value = 220,0

[State 425,st ]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

[statedef 470]
type = C
movetype = A
physics =  S
poweradd = 20
ctrl = 0
anim = 470
velset = 0,0
juggle = 7

[State 400,hit ]
type = HitDef
trigger1 = time = 0
attr = C,NA
hitflag = MAFD
guardflag = M
animtype = Medium
damage = 70, 18
pausetime = 10,9
sparkno = s93
sparkxy = -5,-6
hitsound = s240,1
guardsound = s300,2
ground.type = Low
ground.slidetime = 16
ground.hittime  = 20
ground.velocity = -2   
guard.velocity = -6
air.velocity = -2.4,-3.5
airguard.velocity = -3 
getpower = 4,0
givepower = 0,4
fall = 1
fall.recover = 0

[State 400,sn ]
type = PlaySnd
trigger1 = time = 0
value = 240,0

[State 250, 5]
type = AfterImage
trigger1 = time = 1
time = 30
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1


[State 400,st ]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;----------------------------------------
;air super kick hard
[Statedef 600]
type = A
movetype = A
physics = A
juggle = 2
anim = 600
ctrl = 0
poweradd= 50


[State 630 , 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 250
value = 1100,1


[State 600 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 240,0

[State 600 , 3]
type = HitDef
trigger1 = AnimElem = 3
priority = 6
attr = A, NA
damage = 45, 12
getpower = 120
givepower = 60
animtype = hard
guardflag = HA
sparkno = s93
sparkxy = -20,-75
hitsound = S240,1
guardsound = S300,0
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -4,-5
air.velocity = -6,-6

[State 600 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1


;Calcio in volo medio/leggero
[Statedef 630]
type = A
movetype = A
physics = A
anim = 630
juggle = 1
ctrl = 0
poweradd= 50

[State 630 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220,0

[State 630 , 3]
type = HitDef
trigger1 = AnimElem = 3
priority = 4
attr = A, NA
damage = 35, 8
getpower = 40
givepower = 20
animtype = light
guardflag = HA
sparkno = s92
sparkxy = -20,-75
hitsound = S220,1
guardsound = S300,1
pausetime = 12,12
ground.hittime = 13
ground.type = high
ground.slidetime = 9
ground.velocity = -5
air.velocity = -3,-3

[State 630 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;----------------------------

[Statedef 620]
type = A
movetype = A
physics = A
anim = 620
juggle = 1
ctrl = 0
poweradd= 50

[State 630 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220,0

[State 630 , 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 250
value = 1100, 1

[State 630 , 3]
type = HitDef
trigger1 = AnimElem = 3
priority = 4
attr = A, NA
damage = 65, 15
getpower = 40
givepower = 20
animtype = light
guardflag = HA
sparkno = s94
sparkxy = 0,-49
hitsound = S220,1
guardsound = S300,2
pausetime = 12,12
ground.hittime = 13
ground.type = high
ground.slidetime = 9
ground.velocity = -5
air.velocity = -3,-3

[State 630 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;----------------------------

[Statedef 610]
type = A
movetype = A
physics = A
anim = 610
juggle = 1
ctrl = 0
poweradd= 50

[State 630 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,0

[State 630 , 3]
type = HitDef
trigger1 = AnimElem = 3
priority = 4
attr = A, NA
damage = 25, 4
getpower = 40
givepower = 20
animtype = light
guardflag = HA
sparkno = s91
sparkxy = 1,-27
hitsound = S200,1
guardsound = S300,0
pausetime = 12,12
ground.hittime = 13
ground.type = high
ground.slidetime = 9
ground.velocity = -5
air.velocity = -3,-3

[State 630 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;----------------------------
;Pugno in volo
[Statedef 640]
type = A
movetype = A
physics = A
juggle = 2
anim = 640
ctrl = 0
poweradd= 50

[State 640 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 240,0

[State 640 , 3]
type = HitDef
trigger1 = AnimElem = 3
priority = 4
attr = A, NA
damage = 45, 12
getpower = 60
givepower = 30
animtype = hard
guardflag = HA
sparkno = s94
sparkxy = -18,-45
hitsound = S240,1
guardsound = S300,2
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -5
air.velocity = -3,-3

[State 640 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;----------------------------
;Pugno in volo
[Statedef 650]
type = A
movetype = A
physics = A
juggle = 2
anim = 650
ctrl = 0
poweradd= 50

[State 640 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,0

[State 640 , 3]
type = HitDef
trigger1 = AnimElem = 2
priority = 4
attr = A, NA
damage = 25, 4
getpower = 60
givepower = 30
animtype = hard
guardflag = HA
sparkno = s91
sparkxy = -10,-45
hitsound = S200,1
guardsound = S300,0
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -5
air.velocity = -3,-3

[State 640 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;----------------------------

;Pugno in volo
[Statedef 690]
type = A
movetype = A
physics = A
juggle = 2
anim = 690
ctrl = 0
poweradd= 50

[State 640 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,0

[State 640 , 3]
type = HitDef
trigger1 = AnimElem = 2
priority = 4
attr = A, NA
damage = 65, 15
getpower = 60
givepower = 30
animtype = hard
guardflag = HA
sparkno = s93
sparkxy = -10,-45
hitsound = S200,1
guardsound = S300,1
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -5
air.velocity = -3,-3

[State 640 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;----------------------------

;Pugno in volo
[Statedef 670]
type = A
movetype = A
physics = A
juggle = 2
anim = 670
ctrl = 0
poweradd= 50

[State 640 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220,0

[State 640 , 3]
type = HitDef
trigger1 = AnimElem = 2
priority = 4
attr = A, NA
damage = 35, 8
getpower = 60
givepower = 30
animtype = hard
guardflag = HA
sparkno = s92
sparkxy = -10,-78
hitsound = S220,1
guardsound = S300,1
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -5
air.velocity = -3,-3

[State 640 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1


;---------------------------------------
;Calcio volante alato
[Statedef 660]
type = A
movetype = A
physics = A
anim = 660
juggle = 2
ctrl = 0
poweradd= 100

[State 660, afterimage]
type = AfterImage
trigger1 = time = 0
time = 40
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 107,107,222 ;blue 
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 660 , vel]
type = VelSet
trigger1 = AnimElem = 4
x = 18
y = 13

[State 660, pegasofly]
type = Explod
trigger1 = AnimElem = 3
anim = 3691
pos = 0,0
postype = p1
sprpriority = -2
supermove = 1
ignorehitpause = 1
ownpal = 1
bindtime = -1

[State 660, kosumo]
type = Explod
trigger1 = AnimElem = 4
anim = 3695
pos = 0,0
postype = p1
sprpriority = -2
removetime = 20
supermove = 1
ignorehitpause = 1
ownpal = 1
bindtime = -1

[State 660 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 260,0


[State 660 , 2]
type = PlaySnd
trigger1 = Time = 0
value = 1100, 1

[State 660 , 3]
type = HitDef
trigger1 = AnimElem = 4
priority = 7
attr = A, NA
damage = 80
getpower = 150
animtype = hard
guardflag = HA
sparkxy = 0,-25
sparkno =S94
hitsound = S240,1
guardsound = S300,2
pausetime = 18,18
ground.type = Low
ground.slidetime = 16
ground.hittime  = 20
ground.velocity = -2   
guard.velocity = -6
air.velocity = -2.4,-3.5
airguard.velocity = -3 
Fall = 1

[State 660 , 4]
type = ChangeState
trigger1 = MoveContact = 1
value = 2233


[State 660 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[Statedef 2233]
type = A
movetype = A
physics = A
anim = 543
velset = -1, -5
juggle = 2
ctrl = 0

[State 660 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;-----------------------------------------------------------------
;calcio missile in salto verticale
[Statedef 680]
type = A
movetype = A
physics = A
anim = 680
ctrl = 0
poweradd= 100

[State 1000, light]
type = Explod
trigger1 = AnimElem = 5
anim = 3723
ID = 3723
pos = 26,0
postype = p1
sprpriority = 3
supermove = 1
removetime = 20
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0


[State 660, kosumo]
type = Explod
trigger1 = AnimElem = 5
anim = 3396
pos = 0,0
postype = p1
sprpriority = -2
removetime = 15
supermove = 1
ignorehitpause = 1
ownpal = 1
bindtime = -1


[State 680 , 9]
type = SuperPause
trigger1 = Time = 0
time = 15
anim = -1
movetime = 15

[State 680 , vel]
type = VelSet
trigger1 = AnimElem = 5
y = 14

[State 680 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 260,0

[State 680 , 2]
type = PlaySnd
trigger1 = Time = 0
value = 1100,1

[State 680 , 3]
type = HitDef
trigger1 = AnimElem = 5
priority = 2
attr = S, NA
damage = 55, 15
animtype = hard
guardflag = MA
sparkno = S93
sparkxy = -20,0
hitsound = S240,1
guardsound = S300,2
pausetime = 12,10
ground.velocity = -4,15
air.velocity = -4,15
fall = 1
fall.recover = 0

[State 680 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;------------------------------------------
;cometa lucente
[Statedef 1000]
type = S
movetype = A
physics = S
anim = 1000
poweradd = -250
juggle = 5
ctrl = 0
velset = 0

[State 1000 , 5]
type = PlaySnd
trigger1 = Time = 5
value = 1100,2

[State 1000, cometalucente]
type = PlaySnd
trigger1 = Time = 0
value = 1100,0

[State 191 , 6]
type = Explod
trigger1 = AnimElem = 1
anim = 396
sprpriority = -2
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
removeongethit = 1
ownpal = 1

[State 1000, light]
type = Explod
trigger1 = AnimElem = 6
anim = 3661
ID = 3661
pos = 45, 14
postype = p1
sprpriority = -2
supermove = 1
removetime = 10
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 1251, projetil 1]
type = Projectile
trigger1 = AnimElem = 7
ProjAnim = 1367    
ProjHitAnim = 8210     
ProjRemAnim = 8210  
offset = 25, 0        
velocity = 8, -0.6     
remvelocity = .7, 0     
accel = 0, 0            
attr = S, SP
damage    = 150, 35
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,24
sparkno = S8220
sparkxy = 90, -72
guard.sparkno = S8220
hitsound   = s240,1
guardsound = s300,2
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8,-2
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3
p2stateno = 1025

[state 1200, white fadeout]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time= 40
ignorehitpause = 1
persistent= 0

[State 1000 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------
;new state
;---------------------------------
; player 2 state
[Statedef 1025]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1025, Anim] 
type = ChangeAnim2
trigger1 = Time >= 0
value = 1025

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 1026

;------------------
;player2 on air
[Statedef 1026]
type    = A
movetype= H
physics = N

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = Time >= 0
y = .45

[State 1026, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 1027

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;------------------
;player2 hit on wall
[Statedef 1027]
type    = A
movetype= H
physics = N

[State 1027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3
ownpal = 1

[State 1027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1027

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 240,0

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 1028

;------------------
; hit on wall
[Statedef 1028]
type    = A
movetype= H
physics = N

[State 1028, 1]
type = NotHitBy
trigger1 = Time >= 0
value = , NA, NP

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = Time >= 0
y = .35

[State 1028, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;-------------------------------------------------
;new state
;-----------------------------------------------

;Cometa lucente(suiseiken)in volo
[Statedef 1100]
type = A
movetype = A
physics = N
anim = 1100
poweradd = -250
juggle = 5
velset = 0,0
ctrl = 0

[State 1100, star]
type = Explod
trigger1 = Time = 0
anim = 3701
pos = -320,0
postype = right
sprpriority = -3
supermove = 1
removetime = 80
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 810, bg]
type = Explod
trigger1 = Time = 0
anim = 3190
id =90
pos = 0
postype =back
sprpriority = -2
ontop = 0
removetime = 80
bindtime = -1
ownpal = 1
supermove = 1

[State 1100 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1100,0

[State 1100 , 2]
type = VelSet
trigger1 = AnimElem = 7
x = 8
y = 8

[State 1100 , 3]
type = VelAdd
trigger1 = Time > 21
y = .5

[State 1100, 2]
type = SuperPause
trigger1 = Time = 0
time = 10
darken = 0
anim = S3500
pos = -30,0
movetime = 0

[State 1100, 0]
type = Explod
trigger1 = AnimElem = 7
anim = 3630
pos = 40,60
postype = p1
sprpriority = 2
supermove = 1
removetime = 20
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

;Bg effect
[State 1100, super]
type = BGPalfx
trigger1 = Time = 0
ignorehitpause = 1
time = 200
mul = 150,150,222
sinadd = 34,56,67,240
add = 5,5,5

[State 1100, 0]
type = Explod
trigger1 = AnimElem = 8
anim = 3719
pos = 0,0
postype = p1
sprpriority = -2
supermove = 1
removetime = 20
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 1100, 0]
type = Explod
trigger1 = AnimElem = 6
anim = 3722
pos = -55,0
postype = p1
sprpriority = -2
supermove = 1
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 1100, 0]
type = Explod
trigger1 = AnimElem = 8
anim = 3722
pos = -50,0
postype = p1
sprpriority = 4
supermove = 1
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 1100 , 5]
type = PlaySnd
trigger1 = Time = 22
value = 1100,2

[State 1100 , 6]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 9
priority = 7
attr = A, SA
damage = 60
getpower = 100
givepower = 50
priority = 7 
animtype = hard
guardflag = MA
sparkxy = -10,-45
sparkno = -1
hitsound = S240,1
guardsound = S300,2
pausetime = 2,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -5,-5
air.velocity = -3,-3
fall = 1

[state 1200, white fadeout]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time= 40
ignorehitpause = 1
persistent= 0

[State 1100 , 7]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1120

;----------------------------------------
;atterraggio da suiseiken
[Statedef 1120]
type = C
movetype = A
physics = N
anim = 1120
velset = 4,0

[State 1120 , 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1120 , 2]
type = PlaySnd
trigger1 = Time = 0
value = 52,0

[State 1120 , 3]
type = VelAdd
trigger1 = Vel X > 0
x = -.3

[State 1120 , 4]
type = VelSet
trigger1 = Vel X < 0
x = 0

[State 1120 , 5]
type = HitDef
trigger1 = AnimElem = 4
priority = 5
attr = C, SA
damage = 45
animtype = hard
guardflag = MA
sparkxy = -10,-30
sparkno = -1
hitsound = S240,1
guardsound = S300,2
pausetime = 12,10
ground.hittime = 19
ground.type = hight
ground.slidetime = 19
ground.velocity = -23,-35
air.velocity = -4,-3
fall = 1

[State 1120 , 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------
;gomitata
[Statedef 1200]
type = S
movetype = A
physics = S
anim = 1200
juggle = 5
velset = 0
ctrl = 0
poweradd= 50

[State 1200, 0]
type = AfterImage
trigger1 = time = 0
time = 60
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 107,107,222 ;blue 
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 1200 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1100,1

[State 1200 , 2]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 3

[State 3650, 3]
type = VelAdd
trigger1 = AnimElem = 2
x = 8

[State 3650, 4]
type = VelAdd
trigger1 = AnimElem = 3
x = 7

[State 3650, 4]
type = VelAdd
trigger1 = AnimElem = 4
x = 8

[State 3650, 4]
type = VelAdd
trigger1 = AnimElem = 5
x = 4

[State 3650, 4]
type = VelAdd
trigger1 = AnimElem = 6
x = 4


[State 1200 , 5]
type = HitDef
trigger1 = AnimElem = 4
priority = 4
attr = A, SA
damage = 35
getpower = 60
givepower = 30
animtype = medium
guardflag = MA
sparkno = s92
sparkxy = -10,-90
hitsound = S240,1
guardsound = S1000,2
pausetime = 13,15
ground.hittime = 19
ground.type = high
ground.slidetime = 12
ground.velocity = -8
air.velocity = -2,-8


[State 1200 , 5]
type = HitDef
trigger1 = AnimElem = 6
priority = 4
attr = A, SA
damage = 35
getpower = 60
givepower = 30
animtype = medium
guardflag = MA
sparkno = s92
sparkxy = -18,-90
hitsound = S240,1
guardsound = S1000,2
pausetime = 13,15
ground.hittime = 19
ground.type = high
ground.slidetime = 12
ground.velocity = -8
air.velocity = -2,-8

[State 1220, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------
[Statedef 1210]
type = A
movetype = A
phsyics = N
anim = 3650
velset = 3,-8

[State 1210 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1200,2

[State 1210 , 2]
type = VelAdd
trigger1 = Time > 0
y = 0

[State 1210 , 3]
type = HitDef
trigger1 = AnimElem = 1
attr = A, SA
damage = 40,5
animtype = hard
guardflag = MA
sparkxy = -10,-100
hitsound = S1200,1
guardsound = S1000,2
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -5
air.velocity = -2,-8

[State 1210 , 4]
type = HitDef
trigger1 = AnimElem = 2
attr = A, SA
damage = 40,5
animtype = hard
guardflag = MA
sparkxy = -10,-100
hitsound = S1200,1
guardsound = S1000,2
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -5
air.velocity = -2,-8

[State 1210 , 5]
type = VelSet
trigger1 = AnimElem = 4
x = 0

[State 1210 , 6]
type = HitDef
trigger1 = AnimElem = 4
trigger1 = !MoveContact
attr = A, SA
damage = 40,5
animtype = hard
guardflag = MA
sparkxy = -10,-85
hitsound = S1200,1
guardsound = S1000,2
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -5
air.velocity = -2,-8

[State 1210 , 7]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 1220

[Statedef 1220]
type = S
movetype = I
physics = S
anim = 3650
velset = 0,0

[State 1220 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 52,0

[State 1220 , 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1220 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;.......................................................................
;corsa avanti
[Statedef 100]
type    = S
physics = S
anim = 100
sprpriority = 1

[State 100, 1]
type = VelSet
trigger1 = 1
x = 6 

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3]
type = AfterImage
trigger1 = Time = 0
time = 114
FrameGap = 3
length = 15
Trans = Add1

[State 100, polvere]
type = MakeDust
trigger1 = command != "holdfwd"
pos = 0,0
spacing = 2

[State 100, 4]
type = ChangeState
trigger1 = command != "holdfwd"
value = 0


;.................................................

;Combo gomitata/calcio
[Statedef 1230]
type = S
movetype = A
physics = S
anim = 1230
juggle = 5
velset = 0
ctrl = 0
poweradd= 50

[State 1330, nothittable]
type = NotHitBy
trigger1 = 1
type = NotHitBy
value = , NA, AP

[State 1240 , 2]
type = VelAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
y = 0
x = 3

[State 1240 , 2]
type = VelAdd
trigger1 = AnimElem = 4
y = -5
x = 5

[State 1200, 0]
type = AfterImage
trigger1 = time = 0
time = 60
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 107,107,222 ;blue 
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 1230 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1100, 1

[State 1230 , 2]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 3

[State 1230 , 3]
type = HitDef
trigger1 = AnimElem = 4
priority = 4
attr = S, SA
damage = 35
animtype = hard
guardflag = MA
sparkno = s91
sparkxy = -10,-75
hitsound = S240,1
guardsound = S1000,2
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -4,-15
air.velocity = -3,-3
fall = 1

[State 1230 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1240
;----------------------------------

;Star kick
[Statedef 1240]
type = A
movetype = A
phsyics = N
anim = 1240
velset = 5,-11

[State 1330, nothittable]
type = NotHitBy
trigger1 = 1
type = NotHitBy
value = , NA, AP

[State 1240 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1000,0

[State 1240 , 2]
type = VelAdd
trigger1 = Time > 0
y = .5


[State 1230 , 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220, 0

[State 1230 , 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 220, 0


;1st hit
[State 1240 , 3]
type = HitDef
trigger1 = AnimElem = 3
priority = 5
attr = A, SA
damage = 25
animtype = hard
guardflag = MA
sparkno = s92
sparkxy = -45,-90
hitsound = S240,1
guardsound = S1000,2
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -3,-10
air.velocity = -3,-3
fall = 1

;2nd hit
[State 1240 , 4]
type = HitDef
trigger1 = AnimElem = 8
priority = 6
attr = A, SA
damage = 25
getpower = 60
givepower = 30
animtype = hard
guardflag = MA
sparkno = s94
sparkxy = -45,-45
hitsound = S240,1
guardsound = S1000,2
pausetime = 12,10
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -3
air.velocity = -7,15
fall = 1

[State 1240 , 5]
type = VelSet
trigger1 = (AnimElem = 8) && (MoveContact)
x = -1
y = -2

[State 1240 , 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 50

;--------------------------------------------
[Statedef 1330]
type = S
movetype = A
physics = S
anim = 1330
poweradd = -1000
juggle = 5
velset = 7
ctrl = 0

[State 1330, 1]
type = SuperPause
Trigger1 = time = 0
SOUND =s2100, 0
time = 70
anim = -1
supermove = 1
movetime = 0
darken = 0

[State 2199 , 6]
type = Explod
trigger1 = time = 0
anim = 3689
sprpriority = -2
postype = p1
pos = 0,0
removetime = 70
ignorehitpause = 1
supermove = 1
bindtime = -1
ownpal = 1
persistent = 0

[State 2199 , 6]
type = Explod
trigger1 = time = 0
anim = 399
sprpriority = -1
postype = p1
pos = 0,0
removetime = 70
ignorehitpause = 1
supermove = 1
bindtime = -1
ownpal = 1
persistent = 0

[State 2199, kosumo]
type = Explod
trigger1 = time = 0
anim = 3701
pos = -320,0
postype = right
sprpriority = -3
supermove = 1
removetime = 70
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 1330, polvere]
type = MakeDust
trigger1 = time = 0
pos = -15,3
pos2 = -22,-3
spacing = 2

[State 1330, nothittable]
type = NotHitBy
trigger1 = 1
type = NotHitBy
value = , NA, AP

;flash
[State 1330 , 0]
type = Explod
trigger1 = AnimElem = 3
anim = 3500
postype = p1
pos = 20,30
bindtime = 1
supermove = 1
ownpal = 1

[State 1330 , sound]
type = PlaySnd
trigger1 = Time = 0
trigger1 = AnimElem = 1
value = 1200,2

;Bg effect
[State 1330, super]
type = BGPalfx
trigger1 = time >= 0
ignorehitpause = 1
time = 1
mul = 107,107,222
add = -5,-5,-5
invertall = 1

[State 1330, showgalaxian]
type = Explod
trigger1 = AnimElem = 3
anim = 3480
ID = 3480
pos = -320,0
postype = right
sprpriority = -2
supermove = 1
removetime = 170
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 1330 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 2001, 0

[State 1330 , 2]
type = VelSet
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 5
x = 4

[State 1330 , 2.1]
type = PosAdd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 7
trigger3 = AnimElem = 8
x = 30

[State 1330 , 4]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
trigger4 = AnimElem = 7
trigger5 = AnimElem = 11
priority = 7   
attr = S, SP   
damage = 10, 4
animtype = hard
guardflag = MA
sparkxy = 0,-30
sparkno = S3530
hitsound = S220,1
guardsound = S300,1
pausetime = 12,35
ground.hittime = 19
ground.type = low
ground.slidetime = 9
ground.velocity = -18
air.velocity = -3,-3
envshake.time =  10 
envshake.freq = 10  
envshake.ampl = 10 
envshake.phase = 10
numhits = 10

[State 1330 , 5]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1300,1

;Light flash punch
[State 1330, one]
type = Projectile
trigger1 = AnimElem = 4, = 1
trigger2 = AnimElem = 5, = 2
trigger3 = AnimElem = 6, = 3
trigger4 = AnimElem = 7, = 1
trigger5 = AnimElem = 8, = 2
trigger6 = AnimElem = 9, = 3
attr = S, SP
projanim = 7005         
projhitanim = 8210 
offset = 12,0    
velocity = 10
damage = 12, 4
animtype = Hard
guardflag = MA
pausetime = 0,12
sparkno = s7008
sparkxy = 43, -87
guard.sparkno = S7008
hitsound   = S240,1
guardsound = S300,2
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -15
air.velocity = 1,1
envshake.time =  5 
envshake.freq = 5     
envshake.ampl = 5  
envshake.phase = 5
numhits = 10

;Light flash punch seconda scarica
[State 1330, two]
type = Projectile
trigger1 = AnimElem = 4,= 0
trigger2 = AnimElem = 5,= 3
trigger3 = AnimElem = 6,= 5
trigger4 = AnimElem = 7,= 6
trigger5 = AnimElem = 8,= 7
trigger6 = AnimElem = 9,= 8
guardflag = MA
attr = S, SP
projanim = 7005 
projhitanim = 8210     
offset = 40,15   
velocity = 11
damage = 6, 4
sparkxy = 43, -67
sparkno = s7008
guard.sparkno = S7008
hitsound   = S240,1
guardsound = S300,2
pausetime = 0,12
ground.hittime  = 16
ground.velocity = -2

;Light flash punch finale
[State 1330, three]
type = Projectile
trigger1 = AnimElem = 4, = 3
trigger2 = AnimElem = 5, = 0
trigger3 = AnimElem = 6, = 2
trigger4 = AnimElem = 7, = 4
trigger5 = AnimElem = 8, = 6
trigger6 = AnimElem = 9, = 5
guardflag = MA
attr = S, SP
projanim = 7005      
projhitanim = 8210    
offset = -12, 25   
velocity = 12
damage = 6, 4
sparkno = s7008
sparkxy = 43, -53
guard.sparkno = S7008
hitsound   = S240,1
guardsound = S300,2
pausetime = 0,12
ground.hittime  = 16
ground.velocity = -2


[state 1200, white fadeout]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time= 40
ignorehitpause = 1
persistent= 0

[State 1330 , 5]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1300,1
volume = 255

[State 1330 , 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 1340
;--------------------------------------------------------------------
[Statedef 1340]
type = S
movetype = A
phsyics = N
anim = 1340
velset = 7

[State 1340, nothittable]
type = NotHitBy
trigger1 = 1
type = NotHitBy
value = , NA, AP

;Bg effect
[State 1340, super]
type = BGPalfx
trigger1 = time >= 0
ignorehitpause = 1
time = 1
mul = 107,107,222
add = -5,-5,-5
invertall = 1

[State 1340 , 0]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
trigger3 = AnimElem = 6
trigger4 = AnimElem = 8
trigger5 = AnimElem = 10
x = 20

[State 1340, afterimage]
type = AfterImage
trigger1 = time = 4
time = 40
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 107,107,222 ;blue 
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 1340 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1000,5

[State 1340 , 2]
type = VelSet
trigger1 = Time > 0
x = 5

;Final
[State 1340 , 3]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 11
priority = 7
attr = S, SP     
damage = 10, 4
animtype = hard
guardflag = MA
sparkno =S392
sparkxy = -45,-77
hitsound = S240,1
guardsound = S300,2
pausetime = 0,4;35
ground.hittime = 19
ground.type = low  ;punto di collisione del p2
envshake.freq = 10  
envshake.ampl = 10 
envshake.phase = 10

[state 1200, white fadeout]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time= 40
ignorehitpause = 1
persistent= 0

[State 1340 , 4]
type = ChangeState
trigger1 = Time = 20
value = 1350
;-----------------------------------------------
[Statedef 1350]
type = S
movetype = A
phsyics = N
anim = 1350
velset = 0,0  ;30

[State 1350, nothittable]
type = NotHitBy
trigger1 = 1
type = NotHitBy
value = , NA, AP

[State 1350 , 0]
type = HitDef
trigger1 = AnimElem = 6
priority = 7
attr = S, SP    
damage = 35, 5
animtype = hard
guardflag = MA
sparkno =S392
sparkxy = -45,-77
hitsound = S220,1
guardsound = S300,1
pausetime = 0,12
p2stateno = 2295
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -10
air.velocity = -3,-3
envshake.time =  10 
envshake.freq = 10    
envshake.ampl = 10  
envshake.phase = 10
fall = 1
fallrecover=0

[state 1200, white fadeout]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time= 40
ignorehitpause = 1
persistent= 0

[State 1350, screenmove]
type = Screenbound
trigger1 = AnimElem = 6
value = 50
movecamera = 99,99

[State 1350 , kiai]
type = PlaySnd
trigger1 = Time = 0
trigger1 = AnimElem = 1
value = 1100, 1

[State 1350 , 1]
type = VelAdd
trigger1 = AnimElem = 5
x = 20

[State 1350 , 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------end of ryuseiken light effect
;-----------------------------------------------------------
;reversal attack(superguard)
[Statedef 1400]
type = S
physics = S
anim = 3675
juggle = 5
velset = 0
ctrl = 0

[State 1400 , 4]
type = ReversalDef
priority = 7
trigger1 = time = 0
reversal.attr = SCA, NA, SA, HA
p1stateno = 1401
getpower = 450
hitsound = S240,0
pausetime = 40,50
sparkxy = 10,-60

[State 1400 , 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------
;new state of reversal attack
;reversal attack
[Statedef 1401]
type = S
movetype = A
physics = S
anim = 1401
poweradd = 450
juggle = 5
velset = 0
ctrl = 0

[State 1400 , 1]
type = PlaySnd
trigger1 = time = 0
value = 1300,2

[State 1401, light]
type = Explod
trigger1 = MoveContact
ID = 3678
anim = 3678
pos = 90,3
postype = p1
sprpriority = 4
supermove = 1
removetime = 70
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 1401, polvere]
type = MakeDust
trigger1 = time = 0
pos = -15,3
pos2 = -22,-3
spacing = 2

[State 1401 , 2]
type = VelAdd
trigger1 = time = 0
x = -9

[State 1401 , 2]
type = VelMul
trigger1 = AnimElem = 1
x = 3.6

[State 1401 , 6]
type = ChangeState
triggerall = MoveContact
trigger1 = Life <= 300
value = 2160
ctrl = 0

[State 1401 , 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------
;Pugno volante combo

[Statedef 1800]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
ctrl = 0

[State 1400, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 1400, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1, = 0
value = 1400,0
channel = 0

[State 1400, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 995
sprpriority = 2
postype = p1
pos = 30,5
bindtime = 1
ownpal = 1
id = 995
name = "Dust"
pausemovetime = 999999
supermovetime = 999999

[State 1400, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1801

;---------------------------------------------------------------------------
; 
[Statedef 1801]
type = A
movetype = A
physics = N
velset = 6,-6
juggle = 2
ctrl = 0

[State 1401, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 1401, VelAdd]
type = VelAdd
trigger1 = Vel X > 0
x = -1

[State 1401, VelAdd]
type = VelAdd
trigger1 = Time < 6
y = .475

[State 1401, VelAdd]
type = VelAdd
trigger1 = Time >= 6
y = .6

[State 1401, VelAdd]
type = Null ;VelAdd
trigger1 = 1
y = .6364

[State 1401, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1401, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 6
x = 0

[State 1401, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 10
y = 0

[State 1425, 3.3]
type = Explod
trigger1 = AnimElem = 2
anim = 3630
pos = 50,-55
postype = p1
sprpriority = 3
bindtime = 42
removetime = 18
ownpal = 1
supermove = 1
removeongethit = 1

[State 210, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = AnimElem = 1
attr = A, SA
animtype = Medium
damage = 42,7
hitflag = MA
guardflag = MA
pausetime = 9, 9
sparkno = S92
sparkxy = -30,-90
hitsound = S220,1
guardsound = S300,1
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8

[State 210, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = AnimElem = 2
attr = A, SA
animtype = Medium
damage = 42,7
hitflag = MA
guardflag = MA
pausetime = 9, 9
sparkno = S92
sparkxy = -30,-120
hitsound = S220,1
guardsound = S300,1
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
p2stateno = 1805

[State 1400, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
value = 220,0
channel = 0

[State 1401, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1401, VarAdd]
type = VarAdd
trigger1 = HitCount = 2
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1401, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
var(14) = 1

[State 1401, VarSet]
type = VarSet
trigger1 = MoveHit
var(55) = 15
persistent = 0
ignorehitpause = 1

[State 1401, VarAdd]
type = VarAdd
trigger1 = var(55) > 0
var(55) = -1
ignorehitpause = 1

[State 1401, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1802

[State 1401, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1803

;---------------------------------------------------------------------------
; 
[Statedef 1802]
type = A
movetype = A
physics = N
velset = 0,-7
ctrl = 0

[State 1402, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 1402, Gravity]
type = Gravity
trigger1 = 1

[State 1425, 3.3]
type = Explod
trigger1 = AnimElem = 1
anim = 3630
pos = 45,-35
postype = p1
sprpriority = 3
bindtime = 42
removetime = 14
ownpal = 1
supermove = 1
removeongethit = 1

[State 1402, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
attr = A, SA
animtype = Medium
damage = 42,7
hitflag = MA
guardflag = MA
pausetime = 9, 9
sparkno = S93
sparkxy = -30,-140
hitsound = S240,1
guardsound = S300,1
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
fall = 1


[State 1400, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 260,0
channel = 0


[State 1402, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1402, VarSet]
type = VarSet
trigger1 = MoveHit
var(55) = 15
persistent = 0
ignorehitpause = 1

[State 1402, VarAdd]
type = VarAdd
trigger1 = var(55) > 0
var(55) = -1
ignorehitpause = 1

[State 1402, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1803

;---------------------------------------------------------------------------
; 
[Statedef 1803]
type = A
movetype = I
physics = N
ctrl = 0

[State 1403, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 1403, Gravity]
type = Gravity
trigger1 = 1

[State 1403, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 1403, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
y = 0

[State 1403, ChangeAnim]
type = ChangeAnim
trigger1 = !AnimTime
value = 44

[State 1403, ChangeState]
type = ChangeState
trigger1 = Pos Y = 0
trigger1 = Vel Y = 0
value = 1830

; Launched
[Statedef 1805]
type = A
movetype = H
physics = N
anim = 5011
velset = 0,0
ctrl = 0

[State 1405, Turn]
type = Turn
trigger1 = !Time && !(p2dist X < 0 && facing != enemyNear, facing) && (facing = enemyNear, facing)
value = 1

[State 1405, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 9
trigger1 = Alive
value = IfElse(SelfAnimExist(5052),5052,(IfElse(SelfAnimExist(5051),5051,5050)))

[State 1405, VelSet]
type = VelSet
trigger1 = Time = 9
trigger1 = Alive
x = 0
y = -8

[State 1405, VelSet]
type = VelSet
trigger1 = Time = 9
trigger1 = !Alive
x = -10
y = -6

[State 1405, SelfState]
type = SelfState
trigger1 = Time = 9
trigger1 = !Alive
value = 5050

[State 1405, Gravity]
type = Gravity
trigger1 = Time > 14

[State 1405, SelfState]
type = SelfState
;trigger1 = Vel Y > 0
trigger1 = Time = 40
value = 5040
ctrl = 1

[Statedef 1830]
type = S
movetype = I
physics = N
ctrl = 0

[State 1430, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 1430, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------

[Statedef 1810]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
ctrl = 0

[State 1410, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 1800
value = 1800

[State 1410, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1, = 0
value = 1400,0
channel = 0

[State 1410, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 995
sprpriority = 2
postype = p1
pos = 30,5
bindtime = 1
ownpal = 1
id = 995
name = "Dust"
pausemovetime = 999999
supermovetime = 999999

[State 1410, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1811

;---------------------------------------------------------------------------
; Gene Splice Y Air One
[Statedef 1811]
type = A
movetype = A
physics = N
velset = 5,-7
juggle = 2
ctrl = 0

[State 1411, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 1801
value = 1801

[State 1411, VelAdd]
type = VelAdd
trigger1 = Time < 14
trigger1 = Vel X > 0
x = -.075

[State 1411, VelAdd]
type = VelAdd
trigger1 = Time >= 10
trigger1 = Vel X > 0
x = -.325

[State 1411, VelAdd]
type = VelAdd
trigger1 = Time < 6
y = .4

[State 1411, VelAdd]
type = VelAdd
trigger1 = Time >= 6
y = .5

[State 1411, VelAdd]
type = Null ;VelAdd
trigger1 = 1
y = .6364

[State 1411, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1411, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 13
x = 0

[State 1411, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 10
y = 0

[State 1425, 3.3]
type = Explod
trigger1 = AnimElem = 2
anim = 3630
pos = 50,-55
postype = p1
sprpriority = 3
bindtime = 42
removetime = 18
ownpal = 1
supermove = 1
removeongethit = 1

[State 1411, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = AnimElem = 1
attr = A, SA
animtype = Medium
damage = 42,7
hitflag = MA
guardflag = MA
pausetime = 9, 9
sparkno = S92
sparkxy = -30,-90
hitsound = S220,1
guardsound = S300,1
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8

[State 1411, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = AnimElem = 2
attr = A, SA
animtype = Medium
damage = 42,7
hitflag = MA
guardflag = MA
pausetime = 9, 9
sparkno = S92
sparkxy = -30,-120
hitsound = S220,1
guardsound = S300,1
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
p2stateno = 1805


[State 1400, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
value = 220,0
channel = 0


[State 1411, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1411, VarAdd]
type = VarAdd
trigger1 = HitCount = 2
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1411, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
var(14) = 1

[State 1411, VarSet]
type = VarSet
trigger1 = MoveHit
var(55) = 15
persistent = 0
ignorehitpause = 1

[State 411, VarAdd]
type = VarAdd
trigger1 = var(55) > 0
var(55) = -1
ignorehitpause = 1

[State 1411, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1812

[State 1411, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1803

;---------------------------------------------------------------------------
; Gene Splice Y Air Two
[Statedef 1812]
type = A
movetype = A
physics = N
velset = 0,-7
ctrl = 0

[State 1412, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 1802
value = 1802

[State 1412, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1412, Gravity]
type = Gravity
trigger1 = 1

[State 1425, 3.3]
type = Explod
trigger1 = AnimElem = 1
anim = 3630
pos = 45,-35
postype = p1
sprpriority = 3
bindtime = 42
removetime = 14
ownpal = 1
supermove = 1
removeongethit = 1


[State 1412, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
attr = A, SA
animtype = Medium
damage = 42,7
hitflag = MA
guardflag = MA
pausetime = 9, 9
sparkno = S92
sparkxy = -30,-140
hitsound = S220,1
guardsound = S300,1
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
p2stateno = 1805

[State 1400, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220,0
channel = 0

[State 1412, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1412, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
var(14) = 1

[State 1412, VarSet]
type = VarSet
trigger1 = MoveHit
var(55) = 15
persistent = 0
ignorehitpause = 1

[State 1412, VarAdd]
type = VarAdd
trigger1 = var(55) > 0
var(55) = -1
ignorehitpause = 1

[State 1412, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1813

[State 1412, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1803

;---------------------------------------------------------------------------
; 
[Statedef 1813]
type = A
movetype = A
physics = N
velset = 0,-7
ctrl = 0

[State 1413, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 1801
value = 1801

[State 1413, Gravity]
type = Gravity
trigger1 = 1

[State 1425, 3.3]
type = Explod
trigger1 = AnimElem = 2
anim = 3630
pos = 55,-55
postype = p1
sprpriority = 3
bindtime = 42
removetime = 18
ownpal = 1
supermove = 1
removeongethit = 1


[State 1413, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
trigger1 = AnimElem = 2, >= 0
attr = A, SA
animtype = Medium
damage = 42,7
hitflag = MA
guardflag = MA
pausetime = 9, 9
sparkno = S93
sparkxy = -30,-140
hitsound = S240,1
guardsound = S300,2
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
Fall = 1

[State 1400, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 260,0
channel = 0

[State 1413, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1413, VarSet]
type = VarSet
trigger1 = MoveHit
var(55) = 15
persistent = 0
ignorehitpause = 1

[State 1413, VarAdd]
type = VarAdd
trigger1 = var(55) > 0
var(55) = -1
ignorehitpause = 1

[State 1413, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1803

;---------------------------------------------------------------------------
; 
[Statedef 1820]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
ctrl = 0

[State 1420, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 1800
value = 1800

[State 1420, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1, = 0
value = 1400,0
channel = 0

[State 1420, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 995
sprpriority = 2
postype = p1
pos = 30,5
bindtime = 1
ownpal = 1
id = 995
name = "Dust"
pausemovetime = 999999
supermovetime = 999999

[State 1420, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1821

;---------------------------------------------------------------------------
; Gene Splice Z Air One
[Statedef 1821]
type = A
movetype = A
physics = N
velset = 6,-7
juggle = 2
ctrl = 0

[State 1421, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 1801
value = 1801

[State 1421, VelAdd]
type = VelAdd
trigger1 = Time < 19
trigger1 = Vel X > 0
x = -.3

[State 1421, VelAdd]
type = VelAdd
trigger1 = Time >= 15
trigger1 = Vel X > 0
x = -.45

[State 1421, VelAdd]
type = VelAdd
trigger1 = Time < 6
y = .425

[State 1421, VelAdd]
type = VelAdd
trigger1 = Time >= 6
y = .475

[State 1421, VelAdd]
type = Null ;VelAdd
trigger1 = 1
y = .6364

[State 1421, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1421, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 17
x = 0

[State 1421, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 13
y = 0

[State 1425, 3.3]
type = Explod
trigger1 = AnimElem = 2
anim = 3630
pos = 50,-55
postype = p1
sprpriority = 3
bindtime = 42
removetime = 18
ownpal = 1
supermove = 1
removeongethit = 1

[State 1421, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = AnimElem = 1
attr = A, SA
animtype = Medium
damage = 42,7
hitflag = MA
guardflag = MA
pausetime = 9, 9
sparkno = S92
sparkxy = -30,-90
hitsound = S220,1
guardsound = S300,1
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8

[State 1421, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = AnimElem = 2
attr = A, SA
animtype = Medium
damage = 42,7
hitflag = MA
guardflag = MA
pausetime = 9, 9
sparkno = S92
sparkxy = -30,-120
hitsound = S220,1
guardsound = S300,1
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
p2stateno = 1805

[State 1400, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
value = 220,0
channel = 0

[State 1421, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1421, VarAdd]
type = VarAdd
trigger1 = HitCount = 2
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1421, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
var(14) = 1

[State 1421, VarSet]
type = VarSet
trigger1 = MoveHit
var(55) = 15
persistent = 0
ignorehitpause = 1

[State 1421, VarAdd]
type = VarAdd
trigger1 = var(55) > 0
var(55) = -1
ignorehitpause = 1

[State 1421, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1822

[State 1421, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1803

;---------------------------------------------------------------------------
; 
[Statedef 1822]
type = A
movetype = A
physics = N
velset = 0,-7
ctrl = 0

[State 1422, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 1802
value = 1802

[State 1422, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1422, Gravity]
type = Gravity
trigger1 = 1

[State 1425, 3.3]
type = Explod
trigger1 = AnimElem = 1
anim = 3630
pos = 45,-35
postype = p1
sprpriority = 3
bindtime = 42
removetime = 14
ownpal = 1
supermove = 1
removeongethit = 1


[State 1422, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
attr = A, SA
animtype = Medium
damage = 42,7
hitflag = MA
guardflag = MA
pausetime = 9, 9
sparkno = S92
sparkxy = -30,-140
hitsound = S220,1
guardsound = S300,1
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
p2stateno = 1805

[State 1400, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220,0
channel = 0

[State 1422, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1422, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
var(14) = 1

[State 1422, VarSet]
type = VarSet
trigger1 = MoveHit
var(55) = 15
persistent = 0
ignorehitpause = 1

[State 1422, VarAdd]
type = VarAdd
trigger1 = var(55) > 0
var(55) = -1
ignorehitpause = 1

[State 1422, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1823

[State 1422, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1803

;---------------------------------------------------------------------------
; 
[Statedef 1823]
type = A
movetype = A
physics = N
velset = 0,-7
ctrl = 0

[State 1423, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 1801
value = 1801

[State 1423, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1423, Gravity]
type = Gravity
trigger1 = 1

[State 1425, 3.3]
type = Explod
trigger1 = AnimElem = 2
anim = 3630
pos = 50,-55
postype = p1
sprpriority = 3
bindtime = 42
removetime = 18
ownpal = 1
supermove = 1
removeongethit = 1


[State 1423, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
trigger1 = AnimElem = 2, >= 0
attr = A, SA
animtype = Medium
damage = 42,7
hitflag = MA
guardflag = MA
pausetime = 9, 9
sparkno = S92
sparkxy = -30,-140
hitsound = S220,1
guardsound = S300,1
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
p2stateno = 1805

[State 1400, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220,0
channel = 0

[State 1423, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1423, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
var(14) = 1

[State 1423, VarSet]
type = VarSet
trigger1 = MoveHit
var(55) = 15
persistent = 0
ignorehitpause = 1

[State 1423, VarAdd]
type = VarAdd
trigger1 = var(55) > 0
var(55) = -1
ignorehitpause = 1

[State 1423, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1824

[State 1423, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1803

;---------------------------------------------------------------------------
; 
[Statedef 1824]
type = A
movetype = A
physics = N
velset = 0,-7
ctrl = 0

[State 1424, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 1802
value = 1802

[State 1424, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1424, Gravity]
type = Gravity
trigger1 = 1

[State 1425, 3.3]
type = Explod
trigger1 = AnimElem = 1
anim = 3630
pos = 45,-35
postype = p1
sprpriority = 3
bindtime = 42
removetime = 14
ownpal = 1
supermove = 1
removeongethit = 1


[State 1424, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
attr = A, SA
animtype = Medium
damage = 42,7
hitflag = MA
guardflag = MA
pausetime = 9, 9
sparkno = S93
sparkxy = -30,-140
hitsound = S240,1
guardsound = S300,2
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
Fall = 1

[State 1400, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 260,0
channel = 0

[State 1424, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1424, VarSet]
type = VarSet
trigger1 = MoveHit
var(55) = 15
persistent = 0
ignorehitpause = 1

[State 1424, VarAdd]
type = VarAdd
trigger1 = var(55) > 0
var(55) = -1
ignorehitpause = 1

[State 1424, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1803


;--------------------------------------------------
[Statedef 1500]
type = S
movetype = A
physics = S
anim = 1500
hitsound = S260,0
poweradd = 200
velset = 0
ctrl = 0

[State 1500 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1500,0

[State 1500 , 3]
type = PlaySnd
trigger1 = AnimElem = 3, = 1
trigger2 = AnimElem = 8, = 1
trigger3 = AnimElem = 16, = 1
value = 200,2

[State 1500 , 4]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
damage = 10,5
animtype = hard
hitflag = MA
guardflag = MA
sparkxy = -10,-50
hitsound = S240,0
guardsound = S1000,2
pausetime = 3,3
ground.hittime = 19
ground.type = low
ground.slidetime = 0
ground.velocity = 0
air.velocity = -3,-3

[State 1500 , 5]
type = HitDef
trigger1 = AnimElem = 10
attr = S, SA
damage = 10,5
animtype = hard
hitflag = MA
guardflag = MA
sparkxy = -10,-45
hitsound = S240,0
guardsound = S1000,2
pausetime = 3,3
ground.hittime = 19
ground.type = high
ground.slidetime = 0
ground.velocity = 0
air.velocity = -3,-3

[State 1500 , 6]
type = HitDef
trigger1 = AnimElem = 17
attr = S, SA
damage = 30,5
animtype = hard
hitflag = MA
guardflag = MA
sparkxy = -10,-50
hitsound = S240,0
guardsound = S1000,2
pausetime = 4,4
ground.hittime = 19
ground.type = low
ground.slidetime = 0
ground.velocity = 0
air.velocity = -3,-3

[State 1500 , 7]
type = HitDef
trigger1 = AnimElem = 22
attr = S, SA
damage = 10,5
animtype = hard
hitflag = MA
guardflag = MA
sparkxy = -10,-110
hitsound = S240,0
guardsound = S1000,2
pausetime = 6,12
ground.velocity = -3,-7
air.velocity = -3,-3
fall = 1

[State 1500 , 8]
type = PosAdd
trigger1 = AnimElem = 19
trigger2 = AnimElem = 20
trigger3 = AnimElem = 21
trigger4 = AnimElem = 22
trigger5 = AnimElem = 23
trigger6 = AnimElem = 24
trigger7 = AnimElem = 25
x = 8

[State 1500 , 9]
type = PosAdd
trigger1 = AnimElem = 26
x = 4

[State 1500 , 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



[Statedef 1525]
type = S
movetype = A
physics = S
anim = 1525
poweradd = 100
velset = 20
ctrl = 0

[State 1525 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1100,1

[State 1525 , 3]
type = PlaySnd
trigger1 = AnimElem = 3, = 1
trigger2 = AnimElem = 8, = 1
trigger3 = AnimElem = 16, = 1
value = 200,0

[State 1525 , 4]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
attr = S, SA
damage = 9,5
animtype = hard
hitflag = MA
guardflag = MA
sparkno =S91
sparkxy = -15,-77
hitsound = S220,1
guardsound = S300,1
pausetime = 3,3
ground.hittime = 19
ground.type = low
ground.slidetime = 0
ground.velocity = -4,0
air.velocity = -3,-3

[State 1525 , 5]
type = HitDef
trigger1 = AnimElem = 10
trigger2 = AnimElem = 14
attr = S, SA
damage = 8,4
animtype = hard
hitflag = MA
guardflag = MA
sparkno =S92
sparkxy = -15,-77
hitsound = S220,1
guardsound = S300,1
pausetime = 3,3
ground.hittime = 19
ground.type = high
ground.slidetime = 0
ground.velocity = -4,0
air.velocity = -3,-3

[State 1525 , 6]
type = HitDef
trigger1 = AnimElem = 17
trigger2 = AnimElem = 22
attr = S, SA
damage = 8,3
animtype = hard
hitflag = MA
guardflag = MA
sparkno =S91
sparkxy = -15,-77
hitsound = S220,1
guardsound = S300,1
pausetime = 4,4
ground.hittime = 19
ground.type = low
ground.slidetime = 0
ground.velocity = -4,0
air.velocity = -3,-3

[State 1525 , 10]
type = PosAdd
trigger1 = AnimElem = 19
trigger2 = AnimElem = 20
trigger3 = AnimElem = 21
trigger4 = AnimElem = 22
trigger5 = AnimElem = 23
trigger6 = AnimElem = 24
trigger7 = AnimElem = 25
x = 8

[State 1525 , 11]
type = PosAdd
trigger1 = AnimElem = 26
x = 4

[State 1525 , 7]
type = ChangeState
trigger1 = AnimElem = 26
value = 1530

[State 1525 , 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1530]
type = S
movetype = A
physics = S
anim = 1530

[State 1530 , 1]
type = VelSet
trigger1 = Time = [0,4]
x = 1.3

[State 1530 , 2]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 5
attr = S, SA
damage = 5,1
animtype = hard
hitflag = MA
guardflag = MA
sparkno =S92
sparkxy = -25,-77
hitsound = S220,1
guardsound = S300,1
pausetime = 4,4
ground.hittime = 19
ground.type = low
ground.slidetime = 0
ground.velocity = -4,0
air.velocity = -3,-3

[State 1530 , 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 1540
ctrl = 1

[Statedef 1540]
type = S
movetype = A
physics = S
anim = 1540
velset = 0
ctrl = 0 
poweradd= 50

;energia su p2
[State 210 , 0]
type = Explod
triggerall = NumExplod(3500) = 0
trigger1 = MoveContact
id = 3500
anim = 3500
sprpriority = -3
removetime = 120
postype = p2
pos = -20,30
bindtime = 120
ownpal = 1
supermove = 1
removeongethit = 1

[State 210 , 2]
type = PlaySnd
trigger1 = AnimElem =1
value = 240,0


[State 210 , 3]
type = HitDef
trigger1 = AnimElem = 4
priority = 6
attr = S, NA
damage = 65, 15
getpower = 60
givepower = 30
animtype = hard
guardflag = MA
sparkxy = -10,-95
sparkno = S93
hitsound = S240,1
groundtype = up
guardsound = S300,2
pausetime = 19,12
ground.velocity = -3,-8
air.velocity = 0,0
ground.hittime = 40
getpower = 500
givepower = 400
air.hittime = 40
fall = 1
fallrecover = 1
envshake.time = 10
envshake.freq = 10
envshake.ampl = 10
envshake.phase = 10

[State 1540 , 8]
type = ChangeState
trigger1 = MoveContact = 1
value = 1230

[State 1540 , 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------
;multiple combo - scivolata
[Statedef 1600]
type = A
movetype = A
physics = N
anim = 1610
velset = 0,-3.2
poweradd= 100

[State 1600 , 1]
type = CtrlSet
trigger1 = Time = 0
value = 0

[State 1600 , 1]
type = VelSet
trigger1 = Time > 0
x = 5.3

[State 1600 , 2]
type = VelAdd
trigger1 = Time > 0
y = .5

[State 1600 , 3]
type = PlaySnd
trigger1 = Time = 0
value = 1100,1

[State 1600 , 4]
type = HitDef
trigger1 = AnimElem = 1
priority = 5
attr = S, NA
damage = 25
animtype = light
guardflag = MA
sparkno = s92
sparkxy = -10,-62
hitsound = S220,1
guardsound = S1000,2
pausetime = 12,12
ground.hittime = 19
ground.type = low
ground.slidetime = 16
ground.velocity = -11
air.velocity = -7,-3

[State 1600 , 5]
type = PlaySnd
trigger1 = Time = 2
value = 1000, 3

[State 1600 , 6]
type = ChangeState
trigger1 = Pos y > 0
trigger1 = Vel Y > 0
value = 1620

;---------------------
[Statedef 1620]
type = S
movetype = A
physics = N
anim = 1620

[State 1620 , 1]
type = CtrlSet
trigger1 = Time = 0
value = 0

[State 1620 , 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1620 , 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 440, polvere]
type = MakeDust
trigger1 = Time = 0
trigger2 = Time = 3
pos = 15,3
pos2 = 22,-3
spacing = 2

;slide sound
[State 440 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1000,5

[State 1620 , 4]
type = HitDef
trigger1 = AnimElem = 3
priority = 6
attr = A, SA
damage = 50
getpower = 50
givepower = 25
animtype = hard
guardflag = MA
sparkxy = -20,-5
sparkno =S92
hitsound = S240,1
guardsound = S1000,2
pausetime = 20,6
ground.hittime = 19
ground.type = low
ground.slidetime = 16
ground.velocity = -5,-2
air.velocity = -3,-3
fall = 1


[State 1620 , 3]
type = PlaySnd
trigger1 = Time = 0
value = 1000,4

[State 1620 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;--------------------------------------------------
;--------------------------------------------------
;--------------------------------------------------
;--------------------------------------------------
;--------------------------------------------------
;--------------------------------------------------
;recover energie and new state
[Statedef 2000]
type = S
movetype = I
physics = S
anim = 2000
poweradd = -3000
velset = 0
ctrl = 0

[State 2000 , 2]
type = VarSet
trigger1 = time = 0
v = 1
value = 0

[State 2000, palfx]
type = PalFX
trigger1 = time = [0,1500]
time = 1500
add = 5,5,5
sinadd = 40,40,40,3

;cosmo standing remove
[State 2000,2]
type = RemoveExplod
trigger1 = 1
ID = 2

[State 2000, 0] 
type = DisplayToClipboard
trigger1 = Time = 1
text="pegasus settimo senso"

[State 2000, 0] 
type = AssertSpecial
trigger1 = Time = [0,9000]
flag = nomusic
persistent = 1

[State 2000 , 1]
type = NotHitBy
trigger1 = Time = 0
time = 5
value = SCA

[State 2000 , 2]
type = SuperPause
trigger1 = Time = 0
time = 90
anim = s2030

[State 2000 , 3]
type = EnvShake
trigger1 = Time = 0
time = 50

[State 2000 , 3]
type = PlaySnd
trigger1 = Time = 4
value = 300,2

[State 2000 , 3]
type = PlaySnd
trigger1 = Time = 4
value = 1000,7

[State 2000 , 4]
type = PlaySnd
trigger1 = Time = 0
value = 3710,5

[State 2000 , 5]
type = Explod
trigger1 = Time = 1
anim = 3494
sprpriority = -1
postype = p1
pos = 0,-0
supermove = 1
ownpal = 1
bindtime = 1

[State 2000 , 5]
type = Explod
trigger1 = Time = 0
anim = 3496
sprpriority = -1
postype = p1
pos = 0,-0
supermove = 1
ownpal = 1
bindtime = 1

[State 2000 , 5]
type = Explod
trigger1 = AnimElem = 7
anim = 2031
sprpriority = 2
postype = p1
pos = 0,0
supermove = 1
ownpal = 1
bindtime = 1

[State 735000, cosmo]
type = Explod
trigger1 = AnimElem = 1
pos = -15,10
anim = 3688
sprpriority = -3
removetime = 70

[State 2000 , 8]
type = LifeAdd
trigger1 = AnimElem = 3
value = 100

;ultra power
[State 2000, 10]
type = AttackMulSet
trigger1 = time = [0,1500]
value = 2.1

;ultra defence
[State 2000, 11]
type = DefenceMulSet
trigger1 = time = [0,1500]
value = -0.2

[State 2000 , 12.1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;end of recover

;----------------------------------------------------------

;Freccia di Sagitter
[Statedef 2100]
type = S
movetype = A
physics = S
anim = 2100
poweradd = -3000
velset = 0
ctrl = 0

[State 2100, nothittableanything]
type = NotHitBy
trigger1 = 1
type = NotHitBy
value = SCA

;lens flare
[State 2100, lensflare]
type = Explod
trigger1 = Time = 0
anim = 3671
pos = 0,-0
postype = Left
sprpriority = -2
ontop = 1
supermovetime = 300
removetime = 230
bindtime = -1
ownpal = 1
supermove = 1

;---------------golden cloth

;golden cloth helper screen move
;dleng
[State  2100, 5]
type = PlaySnd
trigger1 = Time = 0
value = 3550,0

[State 2100, cloth]
type = Explod
anim = 3717
trigger1 = time = 119
pos = 0,0
postype = p1
sprpriority = 4
supermove = 1
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

;cloth
[State 2100, cloth]
type = Explod
anim = 3715
trigger1 = time = 5
pos = 0,0
postype = p1
sprpriority = -4
supermove = 1
removetime = 114
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

;golden cloth explod real
[State 2100, cloth]
type = Explod
anim = 3684
trigger1 = Time = 5
pos = 0,0
postype = p1
sprpriority = -1
supermove = 1
removetime = 114
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 2100, cloth]
type = Explod
anim = 3622
trigger1 = Time = 105
pos = 0,0
postype = p1
sprpriority = 4
supermove = 1
removetime = 20 
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

;flash
[State 2100, 0.2]
type = Explod
trigger1 = AnimElem = 24
anim = 3620
sprpriority = -1
postype = p1
pos = -80,20
bindtime = 1
supermove = 1
ownpal = 1

;flash
[State 2100, 0]
type = Explod
trigger1 = AnimElem = 24
anim = 3610
postype = p1
sprpriority = -2
pos = 20,30
bindtime = 1
supermove = 1
ownpal = 1

;Micene
[State 2100, aioros]
type = Explod
trigger1 = time = 157
anim = 3631
pos = 0,-25
postype = p1
sprpriority = -2
supermove = 1
;removetime = 80
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 2100, kosumosagitter]
type = Explod
trigger1 = AnimElem = 27
anim = 3580
pos = 0,-3
postype = p1
sprpriority = -2
supermove = 1
removetime = 200
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 2100 , 1]
type = SprPriority
trigger1 = Time = 0
value = 2

[State 2100 , 2]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 13

[State 2100 , 3]
type = SuperPause
trigger1 = AnimElem = 11
time = 250
darken = 0
anim = S3400
movetime = 110

[State 2100 , 5]
type = PlaySnd
trigger1 = AnimElem = 1 
value = 2130,1

[State 2100 , 5]
type = PlaySnd
trigger1 = AnimElem = 25
value = 3710,2

[State 2100 , 5]
type = PlaySnd
trigger1 = time = 1
value = 300,2

[State 2100 , goldencloth]
type = PlaySnd
trigger1 = Time = 0
value = 2110,1

[State 2100 , 10]
type = EnvColor
trigger1 = AnimElem = 6, = 2
trigger2 = AnimElem = 9, = 2
trigger3 = AnimElem = 12, = 2
trigger4 = AnimElem = 16, = 2
trigger5 = AnimElem = 20, = 1
value = 231,231,231
time = 1

;little light
[State 2100 , 6]
type = Explod
trigger1 = AnimElem = 27
anim = 3673
removetime = 150
sprpriority = 4
supermovetime = 300
postype = p1
pos = 80,-33
bindtime = 1
supermove = 1
ownpal = 1

[State 2100, arrowofsun];hit
type = Projectile
trigger1 = AnimElem = 29
sprpriority = 6
forcestand = 1
attr = S, SP
projanim = 3590
projhitanim = 3495
projstagebound = 40
projshadow = 255,255,255
supermovetime = 1000
offset = 0,-3
postype = p1    
velocity = 10
damage = 460, 320
animtype = Hard
guardflag = MA
pausetime = 20,20
sparkno = -1
guard.sparkno = -1
hitsound = S1200,11
guardsound = S300,2
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -15,-10
air.velocity = 8,6
fall = 1
p2stateno = 1025

[State 2100 , 5]
type = PlaySnd
trigger1 = AnimElem = 29
value = 1100,1

[State 2100, arrowofsunkosumo]
type = Projectile
trigger1 = AnimElem = 29
sprpriority = -6
attr = S, SP
projanim = 3600
projhitanim = 3600
offset = 0,-3
postype = p1    
velocity = 10

[State 2100 , 19]
type = ChangeState
trigger1 = AnimTime = 0
value = 2110
;--------------------------
;free of the armor
[Statedef 2110]
type = S
movetype = I
physics = S
anim = 3690
velset = 0

[State 1330, nothittable]
type = NotHitBy
trigger1 = time = 0
type = NotHitBy
value = -1;, NA, AP

[State 2110, free]
type = Explod
trigger1 = AnimElem = 3
anim = 3692
ignorehitpause = 1
sprpriority = 4
postype = p1
pos = 0,0
supermove = 1
bindtime = 1
ownpal = 1


;elmo
[State 2110, free]
type = Explod
trigger1 = AnimElem = 3
anim = 3693
sprpriority = 4
ignorehitpause = 1
postype = p1
pos = 0,0
supermove = 1
bindtime = 1
ownpal = 1

;luce
[State 2110, free]
type = Explod
trigger1 = AnimElem = 3
anim = 3630
sprpriority = 4
ignorehitpause = 1
removetime = 55
ontop = 1
postype = p1
pos = 15,8
supermove = 1
bindtime = 1
ownpal = 1

;luce 2
[State 2110, free]
type = Explod
trigger1 = AnimElem = 4
anim = 3630
sprpriority = 4
ignorehitpause = 1
ontop = 1
postype = p1
pos = 15,-20
supermove = 1
bindtime = 1
ownpal = 1


[State 2100 , 5]
type = PlaySnd
trigger1 = AnimElem = 22
value = 3710, 15

[State 2199 , 3]
type = SuperPause
trigger1 = AnimElem = 14
time = 100
anim = -1
darken = 0
supermove = 1
movetime = 100


[State 2110 , 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------
[Statedef 2150]
type = S
movetype = A
physics = S
anim = 2150
poweradd = -3000
velset = 0
ctrl = 0

[State 2150 , 1]
type = SprPriority
trigger1 = Time = 0
value = 2

[State 2150 , 2]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 13

[State 2150 , 3]
type = SuperPause
trigger1 = Time = 0
time = 34
anim = -1
movetime = 13

[State 2150 , 4]
type = PlaySnd
trigger1 = Time = 1
value = 2100,0

[State 2150 , 5]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0

[State 2150 , 6]
type = Explod
trigger1 = Time = 1
anim = 3020
sprpriority = -2
postype = p1
pos = 48,-67
supermove = 1
bindtime = 1
ownpal = 1

[State 2150 , 7]
type = Explod
trigger1 = Time = 1
anim = 3030
sprpriority = 2
postype = p1
pos = 48,-67
supermove = 1
bindtime = 1
ownpal = 1

[State 2150 , 8]
type = Explod
trigger1 = AnimElem = 6, = 1
trigger2 = AnimElem = 10, = 1
trigger3 = AnimElem = 14, = 1
trigger4 = AnimElem = 18, = 1
trigger5 = AnimElem = 22, = 1
trigger6 = AnimElem = 26, = 1
trigger7 = AnimElem = 30, = 1
trigger8 = AnimElem = 34, = 1
trigger9 = AnimElem = 38, = 1
trigger10 = AnimElem = 42, = 1
trigger11 = AnimElem = 46, = 1
anim = 2170
postype = p1
pos = 0,0
shadow = 68,68,68
sprpriority = -2
bindtime = 1
supermove = 1
ownpal = 1

[State 2150 , 9]
type = Explod
trigger1 = AnimElem = 6, = 1
trigger2 = AnimElem = 10, = 1
trigger3 = AnimElem = 14, = 1
trigger4 = AnimElem = 18, = 1
trigger5 = AnimElem = 22, = 1
trigger6 = AnimElem = 26, = 1
trigger7 = AnimElem = 30, = 1
trigger8 = AnimElem = 34, = 1
trigger9 = AnimElem = 38, = 1
trigger10 = AnimElem = 42, = 1
trigger11 = AnimElem = 46, = 1
anim = 2180
postype = p1
pos = 0,0
shadow = 68,68,68
sprpriority = 2
bindtime = 1
supermove = 1
ownpal = 1

[State 2150 , 10]
type = EnvColor
trigger1 = AnimElem = 10, = 1
trigger2 = AnimElem = 14, = 1
trigger3 = AnimElem = 18, = 1
trigger4 = AnimElem = 22, = 1
trigger5 = AnimElem = 26, = 1
trigger6 = AnimElem = 30, = 1
trigger7 = AnimElem = 34, = 1
trigger8 = AnimElem = 38, = 1
trigger9 = AnimElem = 42, = 1
trigger10 = AnimElem = 46, = 1
trigger11 = AnimElem = 50, = 1
value = 231,231,231
time = 1

[State 2150 , 11]
type = HitDef
trigger1 = AnimElem = 6, = 1
attr = S, HA
damage = 200
animtype = hard
sparkxy = -10,-70
hitsound = S2100,1
pausetime = 0,4
ground.hittime = 16
ground.type = low
ground.slidetime = 0
ground.velocity = 0
air.velocity = -3
forcestand = 1

[State 2150 , 12]
type = HitDef
trigger1 = AnimElem = 10, = 1
attr = S, HA
damage = 100
animtype = hard
sparkxy = -10,-70
hitsound = S2100,1
pausetime = 0,4
ground.hittime = 16
ground.type = low
ground.slidetime = 0
ground.velocity = 0
air.velocity = -3

[State 2150 , 13]
type = HitDef
trigger1 = AnimElem = 14, = 1
attr = S, HA
damage = 40
animtype = hard
sparkxy = -10,-70
hitsound = S2100,1
pausetime = 0,4
ground.hittime = 16
ground.type = low
ground.slidetime = 0
ground.velocity = 0
air.velocity = -3

[State 2150 , 14]
type = HitDef
trigger1 = AnimElem = 18, = 1
attr = S, HA
damage = 20
animtype = hard
sparkxy = -10,-70
hitsound = S2100,1
pausetime = 0,4
ground.hittime = 16
ground.type = low
ground.slidetime = 0
ground.velocity = 0
air.velocity = -3

[State 2150 , 15]
type = HitDef
trigger1 = AnimElem = 22, = 1
trigger2 = AnimElem = 26, = 1
trigger3 = AnimElem = 30, = 1
trigger4 = AnimElem = 34, = 1
trigger5 = AnimElem = 38, = 1
trigger6 = AnimElem = 42, = 1
trigger7 = AnimElem = 46, = 1
attr = S, HA
damage = 10
animtype = hard
sparkxy = -10,-70
hitsound = S2100,1
pausetime = 0,4
ground.hittime = 16
ground.type = low
ground.slidetime = 0
ground.velocity = 0
air.velocity = -3

[State 2150 , 16]
type = PlaySnd
trigger1 = AnimElem = 40
value = 2150,0

[State 2150 , 17]
type = Explod
trigger1 = AnimElem = 50
anim = 2170
postype = p1
pos = 0,0
shadow = 68,68,68
removetime = 6
sprpriority = -2
bindtime = 1
supermove = 1
ownpal = 1

[State 2150 , 18]
type = Explod
trigger1 = AnimElem = 50
anim = 2180
postype = p1
pos = 0,0
shadow = 68,68,68
removetime = 6
sprpriority = 2
bindtime = 1
supermove = 1
ownpal = 1

[State 2150 , 19]
type = HitDef
trigger1 = AnimElem = 50
attr = S, HA
damage = 80
animtype = hard
sparkxy = -10,-70
hitsound = S2100,1
pausetime = 0,8
ground.velocity = -3,-7
air.velocity = -3
fall = 1
fall.recover = 0


[State 2150 , 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 2160

;-----------------------------------------
;supercaduta
[Statedef 2160]
type = A
movetype = I
physics = N
anim = 2160
ctrl = 1

;remove light block
[State 2160,remove]
type = RemoveExplod
trigger1 = Time = 1
ID = 3678

[State 2160 , 1]
type = Explod
trigger1 = Time = 2
anim = 2190
postype = p1
pos = 0,0
shadow = 68,68,68
sprpriority = -2
bindtime = 1
supermove = 1
ownpal = 1

[State 2160 , 2]
type = VelSet
trigger1 = Time = 3
x = -5
y = -9

[State 2160 , 3]
type = VelAdd
trigger1 = Time > 3
y = .5

[State 2160 , 4]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 2161

[Statedef 2161]
type = A
movetype = I
physics = N
anim = 2161
velset = 0,-4

[State 2161 , 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2161 , 2]
type = EnvShake
trigger1 = Time = 0
time = 15

[State 2161 , 3]
type = PlaySnd
trigger1 = Time = 0
value = F5,4

[State 2161 , 4]
type = VelAdd
trigger1 = Time > 0
y = .5

[State 2161 , 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 2162
;------------------------------------------
[Statedef 2162]
type = A
movetype = I
physics = N
anim = 2162
velset = 0

[State 2162 , 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2162 , 2]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 2162 , 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 2163
;---------------------------------------
[Statedef 2163]
type = S
movetype = I
physics = S
anim = 2163
velset = 0,0

[State 2163 , 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2163 , 2]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 2163 , 3]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 37

[State 2163 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 5120 
ctrl = 0

;-------------------------------------------------------------------
;2 fulmine di Pegasus
[Statedef 2199]
type = S
movetype = A
physics = S
anim = 3696
poweradd = -2000
velset = 0
ctrl = 0

[State 2163 , 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3710,3

[State 2163 , 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3710,2

[State 2163 , 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3710,4

;pegaso zoom
[State 2199 , 6]
type = Explod
trigger1 = AnimElem = 1
anim = 3682
sprpriority = -1
postype = p1
pos = 0,0
removetime = 204
ignorehitpause = 1
supermove = 1
bindtime = -1
ownpal = 1
persistent = 0


[State 2199, kosumo]
type = Explod
trigger1 = AnimElem = 1
anim = 3701
pos = -320,0
postype = right
sprpriority = -3
supermove = 1
removetime = 210
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 2199, kosumo]
type = Explod
trigger1 = AnimElem = 1
anim = 3700
pos = -0,0
postype = p1
sprpriority = -2
supermove = 1
removetime = 210
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0


;Bg effect
[State 2199, super]
type = BGPalfx
trigger1 = time >= 0
ignorehitpause = 1
ID = 3570
time = 99
mul = 150,150,222
add = 0,0,0
invertall = 0
persistent = 1
bindtime = -1

;Bg effect
[State 2199, super]
type = BGPalfx
trigger1 = time >= 10
ignorehitpause = 1
ID = 3570
time = 99
mul = 107,107,222
add = 0,0,0
invertall = 0
persistent = 1
bindtime = -1

[State 2199 , 3]
type = SuperPause
trigger1 = Time = 0
time = 250
anim = -1
darken = 0
supermove = 1
movetime = 250

[State 2199, 0]
type = AfterImage
trigger1 = time = 0
time = 300
FrameGap = 1
length = 10
PalBright   =   50,  50,  50
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1


[State 2200 , 4]
type = PlaySnd
trigger1 = Time = 200
value = 3710,1


[State 2199 , 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 2200

[Statedef 2200]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 2200
velset = 0

;-----------afterimage
[State 2200, 0]
type = AfterImage
trigger1 = Time = 0
time = 2

[State 2200,1]
type = AfterImageTime
trigger1 = Time = [2,10000]
time = 2
;-----------afterimage


;=========
; Projetil 
;=========

[State 1251, projetil 1]
type = Projectile
trigger1 = AnimElem = 4
trigger2 = AnimElem = 9
trigger3 = AnimElem = 14
trigger4 = AnimElem = 19
trigger5 = AnimElem = 24
trigger6 = AnimElem = 29
trigger7 = AnimElem = 34
trigger8 = AnimElem = 39
trigger9 = AnimElem = 44
trigger10 = AnimElem = 49
trigger11 = AnimElem = 54
trigger12 = AnimElem = 59
trigger13 = AnimElem = 64
trigger14 = AnimElem = 69
trigger15 = AnimElem = 74
attr = S, SP
ProjAnim = 7005
ProjHitAnim = 8210     
ProjRemAnim = 8210  
offset = 0,0
velocity = 15, 0    
remvelocity = .7, 0     
accel = 0, 0            
damage    = 2, 1
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = S7008
sparkxy = 43, -87
guard.sparkno = S7008
hitsound   = S220,1
guardsound = S300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3


[State 1251, projetil 2]
type = Projectile
trigger1 = AnimElem = 5
trigger2 = AnimElem = 10
trigger3 = AnimElem = 15
trigger4 = AnimElem = 20
trigger5 = AnimElem = 25
trigger6 = AnimElem = 30
trigger7 = AnimElem = 35
trigger8 = AnimElem = 40
trigger9 = AnimElem = 45
trigger10 = AnimElem = 50
trigger11 = AnimElem = 55
trigger12 = AnimElem = 60
trigger13 = AnimElem = 65
trigger14 = AnimElem = 70
trigger15 = AnimElem = 75
attr = S, SP
ProjAnim = 7005
ProjHitAnim = 8210     
ProjRemAnim = 8210  
offset = 0,0
velocity = 15, -0.6  
remvelocity = .7, 0     
accel = 0, 0            
damage    = 2, 1
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = S7008
sparkxy = 43, -87
guard.sparkno = S7008
hitsound   = S220,1
guardsound = S300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 3]
type = Projectile
trigger1 = AnimElem = 6
trigger2 = AnimElem = 11
trigger3 = AnimElem = 16
trigger4 = AnimElem = 21
trigger5 = AnimElem = 26
trigger6 = AnimElem = 31
trigger7 = AnimElem = 36
trigger8 = AnimElem = 41
trigger9 = AnimElem = 46
trigger10 = AnimElem = 51
trigger11 = AnimElem = 56
trigger12 = AnimElem = 61
trigger13 = AnimElem = 66
trigger14 = AnimElem = 71
trigger15 = AnimElem = 76
attr = S, SP
ProjAnim = 7005
ProjHitAnim = 4148
ProjRemAnim = 8210  
offset = 0,0
velocity = 8, 5
remvelocity = 15, 5   
accel = 0, 0            
damage    = 2, 1
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = S7008
sparkxy = 43, -87
guard.sparkno = S7008
hitsound   = S220,1
guardsound = S300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 4]
type = Projectile
trigger1 = AnimElem = 7
trigger2 = AnimElem = 12
trigger3 = AnimElem = 17
trigger4 = AnimElem = 22
trigger5 = AnimElem = 27
trigger6 = AnimElem = 32
trigger7 = AnimElem = 37
trigger8 = AnimElem = 42
trigger9 = AnimElem = 47
trigger10 = AnimElem = 52
trigger11 = AnimElem = 57
trigger12 = AnimElem = 62
trigger13 = AnimElem = 67
trigger14 = AnimElem = 72
trigger15 = AnimElem = 77
attr = S, SP
ProjAnim = 7005
ProjHitAnim = 4148
ProjRemAnim = 8210  
offset = 0,0
velocity = 8, 3
remvelocity = 15, 3   
accel = 0, 0            
damage    = 2, 2
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = S7008
sparkxy = 43, -87
guard.sparkno = S7008
hitsound   = S220,1
guardsound = S300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3


[State 1251, projetil 5]
type = Projectile
trigger1 = AnimElem = 8
trigger2 = AnimElem = 13
trigger3 = AnimElem = 18
trigger4 = AnimElem = 23
trigger5 = AnimElem = 28
trigger6 = AnimElem = 33
trigger7 = AnimElem = 38
trigger8 = AnimElem = 43
trigger9 = AnimElem = 48
trigger10 = AnimElem = 53
trigger11 = AnimElem = 58
trigger12 = AnimElem = 63
trigger13 = AnimElem = 68
trigger14 = AnimElem = 73
attr = S, SP
ProjAnim = 7005
ProjHitAnim = 4148
ProjRemAnim = 8210  
offset = 0,0
velocity = 8, 1
remvelocity = 15, 1   
accel = 0, 0            
damage    = 2, 1
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = S7008
sparkxy = 43, -87
guard.sparkno = S7008
hitsound   = S220,1
guardsound = S300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3


[State 2200, showgalaxian]
type = Explod
trigger1 = AnimElem = 1
anim = 3560
ID = 3560
pos = -320,0
postype = right
sprpriority = -2
supermove = 1
removetime = 450
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 2200, constellation]
type = Explod
trigger1 = AnimElem = 1
anim = 3481
ID = 3480
pos = -320,0
postype = right
sprpriority = -1
supermove = 1
removetime = 450
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 2200 , 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 7

[State 2200 , 2]
type = SuperPause
trigger1 = Time = 3
time = 180
anim = S3683

[State 2199 , 6]
type = Explod
trigger1 = Time = 3
anim = 8380
sprpriority = -1
postype = p1
pos = 0,0
removetime = 180
ignorehitpause = 1
supermove = 1
bindtime = -1
ownpal = 1
persistent = 0

[State 2200 , 3]
type = PlaySnd
trigger1 = Time = 3
value = 300,2

;remove showgalaxian
[State 2200,remove]
type = RemoveExplod
trigger1 = AnimTime = 3
ID = 3560

[State 2200 , 8]
type = PlaySnd
trigger1 = AnimElem = 5, = 1
value = 1400,1

[State 2200 , 10]
type = EnvShake
trigger1 = MoveHit
time = 16
persistent = 0
ignorehitpause = 1

[State 2200, 14] ;Flash nero long
type = EnvColor
Trigger1 = Time = 0
value = 0,0,0
under = 1
time = 55

[state 1200, white fadeout]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time= 40
ignorehitpause = 1
persistent= 0

[State 2200 , 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 2210



[Statedef 2210]
type = S
movetype = A
physics = S
anim = 2210

[State 2200 , 5]
type = PlaySnd
trigger1 = AnimElem = 39
value = 1100,1

[State 2210 , 1]
type = VarAdd
trigger1 = Time = 0
v = 1
value = 1


State 1251, projetil 1]
type = Projectile
trigger1 = AnimElem = 4
trigger2 = AnimElem = 9
trigger3 = AnimElem = 14
trigger4 = AnimElem = 19
trigger5 = AnimElem = 24
trigger6 = AnimElem = 29
trigger7 = AnimElem = 34
trigger8 = AnimElem = 39
trigger9 = AnimElem = 44
trigger10 = AnimElem = 49
trigger11 = AnimElem = 54
trigger12 = AnimElem = 59
trigger13 = AnimElem = 64
trigger14 = AnimElem = 69
trigger15 = AnimElem = 74
attr = S, SP
ProjAnim = 7005
ProjHitAnim = 8210     
ProjRemAnim = 8210  
offset = 0,0
velocity = 20, 0    
remvelocity = .7, 0     
accel = 0, 0            
damage    = 2, 1
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = S7008
sparkxy = 43, -87
guard.sparkno = S7008
hitsound   = S220,1
guardsound = S300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3



[State 1251, projetil 2]
type = Projectile
trigger1 = AnimElem = 5
trigger2 = AnimElem = 10
trigger3 = AnimElem = 15
trigger4 = AnimElem = 20
trigger5 = AnimElem = 25
trigger6 = AnimElem = 30
trigger7 = AnimElem = 35
trigger8 = AnimElem = 40
trigger9 = AnimElem = 45
trigger10 = AnimElem = 50
trigger11 = AnimElem = 55
trigger12 = AnimElem = 60
trigger13 = AnimElem = 65
trigger14 = AnimElem = 70
trigger15 = AnimElem = 75
attr = S, SP
ProjAnim = 7005
ProjHitAnim = 8210     
ProjRemAnim = 8210  
offset = 0,0
velocity = 20, -0.6  
remvelocity = .7, 0     
accel = 0, 0            
damage    = 2, 1
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = S7008
sparkxy = 43, -87
guard.sparkno = S7008
hitsound   = S220,1
guardsound = S300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3


[State 1251, projetil 3]
type = Projectile
trigger1 = AnimElem = 6
trigger2 = AnimElem = 11
trigger3 = AnimElem = 16
trigger4 = AnimElem = 21
trigger5 = AnimElem = 26
trigger6 = AnimElem = 31
trigger7 = AnimElem = 36
trigger8 = AnimElem = 41
trigger9 = AnimElem = 46
trigger10 = AnimElem = 51
trigger11 = AnimElem = 56
trigger12 = AnimElem = 61
trigger13 = AnimElem = 66
trigger14 = AnimElem = 71
trigger15 = AnimElem = 76
attr = S, SP
ProjAnim = 7005
ProjHitAnim = 4148
ProjRemAnim = 8210  
offset = 0,0
velocity = 8, 5
remvelocity = 20, 5   
accel = 0, 0            
damage    = 3, 1
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = S7008
sparkxy = 43, -87
guard.sparkno = S7008
hitsound   = S220,1
guardsound = S300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 4]
type = Projectile
trigger1 = AnimElem = 7
trigger2 = AnimElem = 12
trigger3 = AnimElem = 17
trigger4 = AnimElem = 22
trigger5 = AnimElem = 27
trigger6 = AnimElem = 32
trigger7 = AnimElem = 37
trigger8 = AnimElem = 42
trigger9 = AnimElem = 47
trigger10 = AnimElem = 52
trigger11 = AnimElem = 57
trigger12 = AnimElem = 62
trigger13 = AnimElem = 67
trigger14 = AnimElem = 72
trigger15 = AnimElem = 77
attr = S, SP
ProjAnim = 7005
ProjHitAnim = 4148
ProjRemAnim = 8210  
offset = 0,0
velocity = 8, 3
remvelocity = 20, 3   
accel = 0, 0            
damage    = 3, 1
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = S7008
sparkxy = 43, -87
guard.sparkno = S7008
hitsound   = S220,1
guardsound = S300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3


[State 1251, projetil 5]
type = Projectile
trigger1 = AnimElem = 8
trigger2 = AnimElem = 13
trigger3 = AnimElem = 18
trigger4 = AnimElem = 23
trigger5 = AnimElem = 28
trigger6 = AnimElem = 33
trigger7 = AnimElem = 38
trigger8 = AnimElem = 43
trigger9 = AnimElem = 48
trigger10 = AnimElem = 53
trigger11 = AnimElem = 58
trigger12 = AnimElem = 63
trigger13 = AnimElem = 68
trigger14 = AnimElem = 73
attr = S, SP
ProjAnim = 7005
ProjHitAnim = 4148
ProjRemAnim = 8210  
offset = 0,0
velocity = 8, 1
remvelocity = 20, 1   
accel = 0, 0            
damage    = 3, 1
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = S7008
sparkxy = 43, -87
guard.sparkno = S7008
hitsound   = S220,1
guardsound = S300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3



[State 2210 , 1]
type = VelAdd
trigger1 = P2BodyDist X < 80
trigger1 = AnimElem = 77
x = 35

[State 2210 , 1]
type = VelAdd
trigger1 = P2BodyDist X > 80
trigger1 = AnimElem = 77
x = 65


[State 2210, 1]
type = Projectile
trigger1 = AnimElem = 75
ignorehitpause = 1
projanim = 3710
projsprpriority = -1
offset = -50,-5
velocity = 20,0
priority = -2
damage = 0
animtype = Hard
guardflag = -1

[State 2210 , 7]
type = HitDef
trigger1 = AnimElem = 77
priority = 7
attr = S, HA
damage = 50,20
animtype = hard
guardflag = MA
sparkno =S7008
sparkxy = 43, -87
hitsound = S240,1
guardsound = S300,2
pausetime = 5,12
ground.hittime = 16
ground.type = low
ground.velocity = .6,-15
air.velocity = -3
fall = 1
fallrecover = 0
falldamage = 30

[state 1200, white fadeout]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time= 40
ignorehitpause = 1
persistent= 0

[State 2210 , 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------------------

[Statedef 2220]
type = A
movetype = A
physics = N
anim = 2220
velset = 0,0

[State 2220 , 1]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
trigger4 = AnimElem = 6
x = 8

[State 2220 , 2]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
damage = 70,5
guardflag = MA
sparkxy = -10,-45
hitsound = S1200,1
guardsound = S1000,2
pausetime = 44,44
p2stateno = 2295

[state 1200, white fadeout]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time= 40
ignorehitpause = 1
persistent= 0

[State 2220 , 3]
type = EnvShake
trigger1 = MoveHit
time = 16
ignorehitpause = 1
persistent = 0

[State 2220 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0


;-----------------------------------------------

[Statedef 2230]
type = A
movetype = I
physics = N
anim = 2230
velset = 0,-9

[State 2230 , 1]
type = VelAdd
trigger1 = Time > 0
y = .42

[State 2230 , 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 8

[State 2230 , 3]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 2240

;-----------------------------------------------------


[Statedef 2240]
type = S
movetype = I
physics = S
anim = 2240
velset = 0,0

[State 2240 , 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2240 , 2]
type = VarSet
trigger1 = AnimTime = 0
v = 1
value = 0

[State 2240 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------

[Statedef 2250]
type = S
movetype = A
physics  = S
juggle = 5
ctrl = 0
velset = 0,0
anim = 3200
sprpriority = 2


[State 2199, Super A]
type = SuperPause
trigger1 = AnimElem = 1
time = 243
pos = 0,0
anim = s869
sound = s2115,1
supermove = 1
movetime = 243

[State 2199, snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3710, 12

[State 2200, showgalaxian]
type = Explod
trigger1 = AnimElem = 1
anim = 3560
ID = 3560
pos = -320,0
postype = right
sprpriority = -3
supermove = 1
removetime = 260
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 2200, showgalaxian]
type = Explod
trigger1 = AnimElem = 1
anim = 34002
ID = 34002
pos = 0,10
postype = p1
sprpriority = -1
supermove = 1
removetime = 220
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 2200, showgalaxian]
type = Explod
trigger1 = AnimElem = 1
anim = 3688
ID = 3688
pos = -18,10
postype = p1
sprpriority = -1
supermove = 1
removetime = 220
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 2200, constellation]
type = Explod
trigger1 = AnimElem = 1
anim = 3481
ID = 3480
pos = -320,0
postype = right
sprpriority = -2
supermove = 1
removetime = 260
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 3200, vel]
type = Velset
trigger1 = AnimElem = 16
x = 0
y = -8

[State 3200, vel]
type = Velset
trigger1 = AnimElem = 17
x = -0.5
y = -8

[State 3200, vel]
type = Velset
trigger1 = AnimElem = 18
x = -0.7
y = -8.5

[State 3200, vel]
type = Velset
trigger1 = AnimElem = 19
x = -1
y = -8


[State 3200, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 2251
ctrl = 0

[Statedef 2251]
type = A
movetype = A
physics = A
juggle  = 5
ctrl = 0
anim = 3201
poweradd = -2000
velset = 0,-10

[State 2199, Super A]
type = SuperPause
trigger1 = Time = 0
time = 75
pos = 0,0
anim = s870

[State 191 , 6]
type = Explod
trigger1 = AnimElem = 1
anim = 374
sprpriority = -2
postype = p1
pos = 0,0
removetime = 165
bindtime = -1
supermove = 1
removeongethit = 1
ownpal = 1

[State 2199, snd]
type = PlaySnd
trigger1 = Time = 0
value = 2100, 0



[State 2200, showgalaxian]
type = Explod
trigger1 = AnimElem = 1
anim = 3560
ID = 3560
pos = -320,0
postype = right
sprpriority = -2
supermove = 1
removetime = 175
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 2200, constellation]
type = Explod
trigger1 = AnimElem = 1
anim = 3481
ID = 3480
pos = -320,0
postype = right
sprpriority = -1
supermove = 1
removetime = 175
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0


[State 3201, vel]
type = Velset
trigger1 = time = [1,100]
x = 0
y = 0

[State 1251, projetil 1]
type = Projectile
trigger1 = Time = 4
trigger2 = Time = 10
trigger3 = Time = 20
ProjAnim = 7004          
ProjHitAnim = 7009   
ProjRemAnim = 7009 
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30    
velocity = 2,0       
remvelocity = .7, 0     
accel = 12, 9           
attr = S, SP
damage    = 7,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 2]
type = Projectile
trigger1 = Time = 5
trigger2 = Time = 15
trigger3 = Time = 25
ProjAnim = 7004         
ProjHitAnim = 7009 
ProjRemAnim = 7009 
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30      
velocity = 2, -1       
remvelocity = .7, 0     
accel = 14,7           
attr = S, SP
damage    = 7,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 3]
type = Projectile
trigger1 = Time = 10
trigger2 = Time = 20
trigger3 = Time = 30
ProjAnim =  7004    
ProjHitAnim = 7009    
ProjRemAnim = 7009     
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30      
velocity = 2, 1      
remvelocity = .7, 0     
accel = 12,7         
attr = S, SP
damage    = 7,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 4]
type = Projectile
trigger1 = Time = 15
trigger2 = Time = 25
trigger3 = Time = 35
ProjAnim = 7004      
ProjHitAnim = 7009 
ProjRemAnim = 7009   
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30     
velocity = 2, -0.7      
remvelocity = .7, 0     
accel = 10,7           
attr = S, SP
damage    = 7,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 5]
type = Projectile
trigger1 = Time = 20
trigger2 = Time = 30
trigger3 = Time = 40
ProjAnim = 7004        
ProjHitAnim = 7009    
ProjRemAnim = 7009    
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30    
velocity = 2, .7      
remvelocity = .7, 0     
accel = 7,7         
attr = S, SP
damage    = 7,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 6]
type = Projectile
trigger1 = Time = 25
trigger2 = Time = 35
trigger3 = Time = 45
ProjAnim =  7004        
ProjHitAnim = 7009   
ProjRemAnim = 7009    
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30       
velocity = 2, .9      
remvelocity = .7, 0     
accel = 5,7           
attr = S, SP
damage    = 7,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 7]
type = Projectile
trigger1 = Time = 30
trigger2 = Time = 40
trigger3 = Time = 50
ProjAnim = 7004     
ProjHitAnim = 7009     
ProjRemAnim = 7009    
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30     
velocity = 2, .9      
remvelocity = .7, 0     
accel = 4,7           
attr = S, SP
damage    = 7,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 8]
type = Projectile
trigger1 = Time = 35
trigger2 = Time = 45
trigger3 = Time = 50
ProjAnim = 7004      
ProjHitAnim = 7009   
ProjRemAnim = 7009    
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30    
velocity = 2, 0      
remvelocity = .7, 0     
accel = 3,7           
attr = S, SP
damage    = 7,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 9]
type = Projectile
trigger1 = Time = 40
trigger2 = Time = 50
trigger3 = Time = 60
ProjAnim = 7004         
ProjHitAnim = 7009   
ProjRemAnim = 7009   
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30    
velocity = 2, -.8      
remvelocity = .7, 0     
accel = 16,7             
attr = S, SP
damage    = 7,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 10]
type = Projectile
trigger1 = Time = 45
trigger2 = Time = 55
trigger3 = Time = 65
ProjAnim = 7004         
ProjHitAnim = 7009     
ProjRemAnim = 7009      
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30       
velocity = 2, .8      
remvelocity = .7, 0     
accel = 14,7        
attr = S, SP
damage    = 7,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 11]
type = Projectile
trigger1 = Time = 50
trigger2 = Time = 60
trigger3 = Time = 70
ProjAnim = 7004    
ProjHitAnim = 7009    
ProjRemAnim = 7009   
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30      
velocity = 2, -1      
remvelocity = .7, 0     
accel = 12,7           
attr = S, SP
damage    = 15,5
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 12]
type = Projectile
trigger1 = Time = 55
trigger2 = Time = 65
trigger3 = Time = 75
ProjAnim =  7004     
ProjHitAnim = 7009     
ProjRemAnim = 7009     
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30    
velocity = 2, 1
remvelocity = .7, 0     
accel = 10,7            
attr = S, SP
damage    = 7,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 13]
type = Projectile
trigger1 = Time = 60
trigger2 = Time = 70
trigger3 = Time = 80
ProjAnim = 7004     
ProjHitAnim = 7009   
ProjRemAnim = 7009    
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30  
velocity = 2, 0       
remvelocity = .7, 0     
accel = 7,7        
attr = S, SP
damage    = 15,5
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 14]
type = Projectile
trigger1 = Time = 65
trigger2 = Time = 75
trigger3 = Time = 85
ProjAnim =  7004   
ProjHitAnim = 7009     
ProjRemAnim = 7009     
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30       
velocity = 2, -1       
remvelocity = .7, 0     
accel = 5,7           
attr = S, SP
damage    = 15,5
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 15]
type = Projectile
trigger1 = Time = 70
trigger2 = Time = 80
trigger3 = Time = 90
ProjAnim = 7004   
ProjHitAnim = 7009   
ProjRemAnim = 7009
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30      
velocity = 2, 1      
remvelocity = .7, 0     
accel = 4,7           
attr = S, SP
damage    = 15,5
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 16]
type = Projectile
trigger1 = Time = 75
trigger2 = Time = 85
trigger3 = Time = 95
ProjAnim = 7004         
ProjHitAnim = 7009     
ProjRemAnim = 7009   
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30      
velocity = 2, 0      
remvelocity = .7, 0     
accel = 3,7           
attr = S, SP
damage    = 7,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 17]
type = Projectile
trigger1 = Time = 80
trigger2 = Time = 90
trigger3 = Time = 3
ProjAnim =  7004  
ProjHitAnim = 7009    
ProjRemAnim = 7009     
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30      
velocity = 2, .7      
remvelocity = .7, 0     
accel = 16,7         
attr = S, SP
damage    = 7,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 18]
type = Projectile
trigger1 = Time = 85 
trigger2 = Time = 95
trigger3 = Time = 10
ProjAnim =  7004    
ProjHitAnim = 7009   
ProjRemAnim = 7009   
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30      
velocity = 2, .9      
remvelocity = .7, 0     
accel = 14,7           
attr = S, SP
damage    = 15,5
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 19]
type = Projectile
trigger1 = Time = 30
trigger2 = Time = 40
trigger3 = Time = 20
ProjAnim =  7004       
ProjHitAnim = 7009  
ProjRemAnim = 7009  
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30      
velocity = 2, .9      
remvelocity = .7, 0     
accel = 12,7          
attr = S, SP
damage    = 7,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 20]
type = Projectile
trigger1 = Time = 90
trigger2 = Time = 4
trigger3 = Time = 30
ProjAnim =  7004     
ProjHitAnim = 7009  
ProjRemAnim = 7009  
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30      
velocity = 2, 0      
remvelocity = .7, 0     
accel = 10,7           
attr = S, SP
damage    = 7,3
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil 21]
type = Projectile
trigger1 = Time = 95
trigger2 = Time = 5
trigger3 = Time = 30
ProjAnim =  7004     
ProjHitAnim = 7009 
ProjRemAnim = 7009    
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30     
velocity = 2, -.8      
remvelocity = .7, 0     
accel = 7,7            
attr = S, SP
damage    = 10,6
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.hittime = 16
ground.type = hight
ground.slidetime = -5
ground.velocity = -6,-6
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1251, projetil fin]
type = Projectile
trigger1 = Time = 99
ProjAnim =  7004      
ProjHitAnim = 7009   
ProjRemAnim = 7009    
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30     
velocity = 2, -.8      
remvelocity = .7, 0     
accel = 16,7            
attr = S, SP
damage    = 1,1
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.velocity = -4,15
air.velocity = -4,15
fall = 1
fall.recover = 0

[State 1251, projetil fin]
type = Projectile
trigger1 = Time = 100
ProjAnim =  7004         
ProjHitAnim = 7009   
ProjRemAnim = 7009      
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30     
velocity = 2, -.8      
remvelocity = .7, 0     
accel = 14,7            
attr = S, SP
damage    = 1,1
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.velocity = -4,15
air.velocity = -4,15
fall = 1
fall.recover = 0

[State 1251, projetil fin]
type = Projectile
trigger1 = Time = 99
ProjAnim = 7004      
ProjHitAnim = 7009   
ProjRemAnim = 7009      
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30      
velocity = 2, -.8      
remvelocity = .7, 0     
accel = 10,7            
attr = S, SP
damage    = 1,1
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.velocity = -4,15
air.velocity = -4,15
fall = 1
fall.recover = 0

[State 1251, projetil fin]
type = Projectile
trigger1 = Time = 100
ProjAnim =  7004         
ProjHitAnim = 7009  
ProjRemAnim = 7009    
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30     
velocity = 2, -.8      
remvelocity = .7, 0     
accel = 7,7            
attr = S, SP
damage    = 1,1
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.velocity = -4,15
air.velocity = -4,15
fall = 1
fall.recover = 0

[State 1251, projetil fin]
type = Projectile
trigger1 = Time = 99
ProjAnim =  7004        
ProjHitAnim = 7009  
ProjRemAnim = 7009     
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30     
velocity = 2, -.8      
remvelocity = .7, 0     
accel = 5,7            
attr = S, SP
damage    = 1,1
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.velocity = -4,15
air.velocity = -4,15
fall = 1
fall.recover = 0
ground.velocity = -4,15
air.velocity = -4,15
fall = 1
fall.recover = 0

[State 1251, projetil fin]
type = Projectile
trigger1 = Time = 100
ProjAnim =  7004   
ProjHitAnim = 7009   
ProjRemAnim = 7009      
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30     
velocity = 2, -.8      
remvelocity = .7, 0     
accel = 4,7            
attr = S, SP
damage    = 1,1
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.velocity = -4,15
air.velocity = -4,15
fall = 1
fall.recover = 0

[State 1251, projetil fin]
type = Projectile
trigger1 = Time = 99
ProjAnim =  7004       
ProjHitAnim = 7009   
ProjRemAnim = 7009     
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30    
velocity = 2, -.8      
remvelocity = .7, 0     
accel = 3,7            
attr = S, SP
damage    = 1,1
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.velocity = -4,15
air.velocity = -4,15
fall = 1
fall.recover = 0

[State 1251, projetil fin]
type = Projectile
trigger1 = Time = 100
ProjAnim = 7004     
ProjHitAnim = 7009  
ProjRemAnim = 7009     
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 53,-30     
velocity = 2, -.8      
remvelocity = .7, 0     
accel = 12,7            
attr = S, SP
damage    = 1,1
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = s7009
sparkxy = 10, 5
guard.sparkno = s7009
hitsound   = s220,1
guardsound = s300,1
ground.velocity = -4,15
air.velocity = -4,15
fall = 1
fall.recover = 0

[State 1251, end]
type = ChangeState
trigger1 = Time = 100
value = 2233
ctrl = 1


;------------------------------------------
[Statedef 2280]
type = A
movetype = I
physics = N
anim = 2280
velset = 0,-9

[State 2280 , 1]
type = VelAdd
trigger1 = Time > 0
y = .42

[State 2280 , 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 8

[State 2280 , 3]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 2290


[Statedef 2290]
type = S
movetype = I
physics = S
anim = 2240
velset = 0,0

[State 2290 , 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2290 , 2]
type = VarSet
trigger1 = AnimTime = 0
v = 1
value = 0


[State 2290 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;Air launch
[Statedef 2295]
type = A
movetype = H
physics = N

[State 2295 , 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = -5
z = 0

[State 2295 , 2]
type = ChangeAnim2
Trigger1 = Time >= 0
value = 2295

[State 2295 , 3]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 2296
;------------------------------------
;huiui
[Statedef 2296]
type = A
movetype = H
physics = N
velset = -1.7,-11

[State 2296 , 1]
type = VelAdd
trigger1 = Time > 0
y = .4

[State 2296 , 2]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;----------------------------------------------------------------(stato da collaudare)
[Statedef 215]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 320                       ;Change animation (Def: no change)
poweradd = 50                    ;Power to add (Def: 0)


[State 215,1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NT
getpower  = 40
Hitflag = M-
sparkno = 5
priority = 2, Miss
sparkxy = -18,-65
hitsound = F5,0
p2stateno = 321
p2getp1state = 1
p2facing = 1

[State 215, var9]
type = VarRandom
trigger1 = Time = 0
v = 9
range = 0,60

[State 215, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------
;spirale di pegasus
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = -1000
velset = 0,0
ctrl = 0
anim = 900
sprpriority = 2

[State 800, 0]
type = AfterImage
trigger1 = time = 4
time = 20
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT   
hitflag = M-          
priority = 5, Miss   
sparkno = -1          
sprpriority = 7       
p1facing = 0
p2facing = 1          
p1stateno = 810      
p2stateno = 820       
fall = 1
fall.damage = 250

[state 1200, white fadeout]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time= 40
ignorehitpause = 1
persistent= 0
   
[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------------
;Spirale di Pegasus
[Statedef 810]
type = S
movetype = A
physics = N
anim = 910
poweradd = 150

[State 250, 5]
type = AfterImage
trigger1 = time = 4
time = 100
FrameGap = 5
length = 100
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

;lens flare effect
[State 810, lens]
type = Explod
trigger1 = AnimElem = 5
anim = 3673
pos = 5,-10
postype = p1
sprpriority = 2
ontop = 1
removetime = 27
bindtime = 100
ownpal = 1
supermove = 1

[State 2199 , 6]
type = Explod
trigger1 = AnimElem = 1
anim = 3686
sprpriority = 4
postype = p1
pos = 25,0
bindtime = 1
supermove = 1

[State 810, camera]
type = Helper
trigger1 = AnimElem = 6
name = "Skycam2"
postype = Left
pos = -200, -950
stateno = 3685
supermovetime = -1
helpertype = player
keyctrl = 0
ownpal = 1

[State 2200, constellation]
type = Explod
trigger1 = AnimElem = 1
anim = 3481
ID = 90
pos = 0
postype = back
sprpriority = -1
supermove = 1
removetime = 180
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 810, bg]
type = Explod
trigger1 = AnimElem = 1
anim = 90
id =90
pos = 0
postype =back
sprpriority = -50
ontop = 0
removetime = 180
bindtime = -1
ownpal = 1
supermove = 1


[State 810 , 0]
type = VelAdd
trigger1 = AnimElem = 4
y = -2

[State 810 , 0]
type = VelAdd
trigger1 = AnimElem = 4
y = -4
x = -1

[State 810 , 0]
type = VelAdd
trigger1 = AnimElem = 5
y = -2
x = -1

[State 810 , 0]
type = VelAdd
trigger1 = AnimElem = 6
y = -1
x = -1

[State 810 , 0]
type = VelAdd
trigger1 = AnimElem = 7
y = 1
x = -1

[State 810 , 0]
type = VelAdd
trigger1 = AnimElem = 8
y = 4
x = 0

;lens flare effect
[State 810, lens]
type = Explod
trigger1 = Time = 0
anim = 3671
id = 3671
pos = -320,-1500
postype = Right
sprpriority = 2
ontop = 1
removetime = 500
bindtime = 15
ownpal = 1
supermove = 1

[State 810, 0]
type = Screenbound
trigger1 = Time = 0
value = 0
movecamera = 0,0

[State 810, 1]
type = PlaySnd
trigger1 = time = 0
value = 2125, 1

;Bg effect
[State 810, super]
type = BGPalfx
trigger1 = time >= 0
ignorehitpause = 1
ID = 3570
time = 99
persistent = 1
bindtime = -1
mul = 192,192,255
add = 5,5,5
invertall = 0
color = 192

;spirale
[State 810, snd]
type = PlaySnd
trigger1 = time = 1
value = 3710, 18

[State 810, 1]
type = PlaySnd
trigger1 = time = 0
value = 1100, 2

[State 810, 2]
type = PlaySnd
trigger1 = time = 8
value = 52, 0
;------------------------
[State 810, 3]
type = TargetBind
trigger1 = animelem = 1
pos = 0,0

[State 810 , 8]
type = TargetBind
trigger1 = AnimElem = 2
y = 1
x = -1

[State 810 , 9]
type = TargetBind
trigger1 = AnimElem = 3
y = 4
x = 0

[State 810 , 10]
type = TargetBind
trigger1 = AnimElem = 4
x = -2
y = 15
;-------------------------nuovi


[State 810, 4]
type = TargetBind
trigger1 = AnimElem = 5
y = 0

[State 810, 5]
type = TargetBind
trigger1 = AnimElem = 6
y = -3
x = -1

[State 810 , 6]
type = TargetBind
trigger1 = AnimElem = 7
y = -2
x = -1

[State 810 , 7]
type = TargetBind
trigger1 = AnimElem = 8
time = 27
y = -1
x = -1


;--------------------------------

[State 810, 11]
type = TargetState
trigger1 = AnimElem = 8
value = 821

[State 810 , 12]
type = VelAdd
trigger1 = AnimElem = 8
x = -2
y = 15

[State 810, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 108
ctrl = 0

;-------------------------------------
;P2 state1
[Statedef 820]
type = A
movetype = H
physics = N
velset = 0,0

[State 250, 5]
type = AfterImage
trigger1 = time = 4
time = 150
FrameGap = 5
length = 100
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 820, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 820

;--------------------------------------
;P2 state2
[Statedef 821]
type = A
movetype = H
physics = N
velset = 6, -5
poweradd = 40

[State 821, 1]
type = VelAdd
trigger1 = 1
y = .4

[State 821, 2]
type = Turn
trigger1 = time = 0

[State 821, 3]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0 
value = 5100

;------------------------------------
;shiryu helper
[Statedef 370]
type = S
movetype = A
physics = S
velset = 0, 0
ctrl = 0
anim = 541
poweradd = -1000

[State 370, pause]
type = SuperPause
triggerall = p2name != "sirio" 
trigger1 = AnimElem = 2
time = 55
anim = -1
movetime = 20

[State 370, 0]
type = Sprpriority
triggerall = p2name != "sirio" 
trigger1 = time = 0
value = 0

[State 370, 1]
type = PlaySnd
triggerall = p2name != "sirio" 
trigger1 = Time = 0
value = 3600, 1

[State 370, 1]
type = PlaySnd
triggerall = p2name != "sirio" 
trigger1 = time = 0
value = 6, 0

[State 370, 1]
type = PlaySnd
triggerall = p2name != "sirio" 
trigger1 = AnimElem = 3
value = 6, 1

[State 370, 6]
type = helper
triggerall = p2name != "sirio" 
trigger1 = p4name != "sirio" 
trigger1 = AnimElem = 3
id = 545
name = "Shiryu"
postype = p1
pos = 24, 6
stateno = 545
helpertype = normal
keyctrl = 0
ownpal = 1

[State 370, 7]
type = ChangeState
;trigger1 = AnimTime = 0
trigger1 = Time = 280
value = 5120
ctrl = 1
;-------------------------------------------


;-----------------------------------------------------------
;                      SIRIO HELPER
;-----------------------------------------------------------

;shiryu(helper) state
[Statedef 545]
type    = S
physics = S
ctrl = 0
anim = 1506

[State 545, 0]
type = Sprpriority
trigger1 = time = 0
value = 1

[State 545, 1]
type = HitOverride
trigger1 = time = 0
time = -1
attr = SCA, AA, AT, AP
slot = 0
stateno = 371


[State 545, 0.1]
type = AfterImage
trigger1 = time = 4
time = 20
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 545, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1100,2

[State 545, 1]
type = PlaySnd
trigger1 = AnimElem = 16
value = 52, 0

[State 545, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 545, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 545, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 545, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 371
ctrl = 1

;------------------------------------------
;-------------------------------------------
;shiryu/helper) defend seiya
[Statedef 371]
type    = S
physics = S
velset = -2,0

[State 371, 1]
type = ChangeAnim
trigger1 = 1
value = 1507

[State 371, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 372
;--------------------------------------------
;---------------------------------------------
;Ending guard
[Statedef 372]
type    = S
movetype= H
physics = S
anim = 1507

[State 372, 1]
type = HitVelSet
trigger1 = Time = 0
x = 0

[State 372, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = Time >= GetHitVar(hittime)
x = 0

[State 372, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 372, 4]
type = ChangeState
trigger1 = Time >= GetHitVar(hittime)
value = 373
ctrl = 1

[Statedef 373]
type    = S
physics = S

[State 373, 1]
type = ChangeAnim
trigger1 = Anim != 373
value = 373

[State 373, 4]
type = DestroySelf
trigger1 = Time = 180

;--------------------------------------
;supercaduta
; SGUARDHIT (shaking)
[Statedef 3691]
type    = S
movetype= H
physics = S
velset = 0,0

[State 3691, 1]
type = ChangeAnim
trigger1 = 1
value = 3675

[State 3676, 2]
type = ChangeState
trigger1 = Time = 0
value = 5120

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;///////////////////////////////////////////////////////////
;-----------------------------------------------------------
;                           HELPER
;-----------------------------------------------------------
;///////////////////////////////////////////////////////////
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\

;pegaso(helper/explod)state
[Statedef 3665]
type = S
movetype = A
physics = S
anim = 3665
juggle = 5
velset = 30
ctrl = 0

[State 3665, 1]
type = VelSet
trigger1 = AnimElem = 1
x = 80

[State 3665, 1]
type = VelAdd
trigger1 = AnimElem = 1
x = 50


;------------------------------------
;superguard
[Statedef 3675]
type    = S
physics = S

[State 3675, 1]
type = ChangeAnim
trigger1 = Anim != 3675
value = 3675

[State 3675, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 3677


; SGUARDHIT (shaking)
[Statedef 3676]
type    = S
movetype= H
physics = S
velset = 0,0

[State 3676, 1]
type = ChangeAnim
trigger1 = 1
value = 3675

[State 3676, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 3676

;---------------------------
;          Sky-cam
;----------------------------
;Sky-cam
[Statedef 3684]
type = S
movetype = A
physics = S
anim = 4534
juggle = 0
velset = 0
ctrl = 0

[State 3684, 4]
type = DestroySelf
trigger1 = Time = 65
;---------------------------------------
;Sky-cam 2
[Statedef 3685]
type = S
movetype = A
physics = S
anim = 4534
juggle = 0
velset = 0
ctrl = 0

[State 3684, 4]
type = DestroySelf
trigger1 = Time = 30
;------------------------------------------
;Sky-cam 3
[Statedef 3785]
type = S
movetype = A
physics = S
anim = 4534
juggle = 0
velset = 0
ctrl = 0

[State 3684, 4]
type = DestroySelf
trigger1 = Time = 300

;---------------------------
;          Stand-cam
;---------------------------

;helper
;castalia helper
[Statedef 3711]
type    = S
physics = N
ctrl = 0
anim = 3711

[State 3711 , 1]
type = ChangeState
trigger1 = P2BodyDist X < 15
value = 3712
;---------------------------
[Statedef 3712]
type    = S
physics = N
ctrl = 0
anim = 3712

[State 3712 , 1]
type = ChangeState
trigger1 = P2BodyDist X < 1
value = 3713
;---------------------------

[Statedef 3713]
type    = S
physics = N
ctrl = 0
anim = 3713

[State 3712 , 1]
type = ChangeState
trigger1 = P2BodyDist X > 15
value = 3711

;--------------------------------------

;agarre 2

[Statedef 700]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 700
sprpriority = 2

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT      
hitflag = M-         
priority = 1, Miss    
sparkno = -1     
hitsound = S700, 0   
sprpriority = 1       
p1facing = ifelse (command = "holdfwd", 1, -1) 
p2facing = 1         
p1stateno = 710       
p2stateno = 720      
guard.dist = 0        
fall = 1             
fall.damage = 60

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 710]
type = S
movetype = I
physics = N
ctrl = 0
anim = 710
velset = 0, 0
sprpriority = 1
poweradd = 80

[State 810, 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 44, -79
time = 10

[State 810, 2]
type = TargetBind
trigger1 = AnimElem = 2
pos = 45, -79
time = 4

[State 810, 2a]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1100, 1
channel = 0

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 3
pos = 61, -76
time = 2

[State 810, 4]
type = TargetBind
trigger1 = AnimElem = 4
pos = 98, -71
time = 6

[State 810, 4a]
type = TargetFacing
trigger1 = AnimElem = 4
value = 1

[State 810, 5]
type = TargetBind
trigger1 = AnimElem = 5
pos = 66, -97
time = 2

[State 810, 6]
type = TargetBind
trigger1 = AnimElem = 6
pos = 69, -100
time = 10

[State 810, 7]
type = TargetBind
trigger1 = AnimElem = 7
pos = 4, -89
time = 2

[State 810, 8]
type = TargetBind
trigger1 = AnimElem = 8
pos = -20, -53
time = 2

[State 810, 9]
type = TargetBind
trigger1 = AnimElem = 9
pos = -22, -39
time = 20

[State 810, 10]
type = PlaySnd
trigger1 = AnimElem = 9
value = 5100, 0

[State 810, 11]
type = TargetLifeAdd
trigger1 = AnimElem = 9
value = -68

[State 810, 12]
type = EnvShake
trigger1 = AnimElem = 9
time = 30
freq = 120
ampl = -4

[State 810, 12a]
type = Explod
trigger1 = AnimElem = 9
ID = 48
anim = F3
postype = p1
pos = -44, -20
bindtime = -1
removetime = -2
ownpal = 1
sprpriority = 3

[State 810, 12b]
type = Explod
trigger1 = AnimElem = 9
ID = 49
anim = F62
postype = p1
pos = -50, 0
bindtime = 1
removetime = -2
ownpal = 1
sprpriority = 2

[State 810, 12c]
type = Explod
trigger1 = AnimElem = 9
ID = 874
anim = 711
postype = p1
pos = -34, -23
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1

[State 810, 13]
type = TargetState
trigger1 = AnimElem = 9 = 21
value = 725

[State 810, 14]
type = TargetDrop
trigger1 = AnimElem = 9 = 21

[State 810, 15]
type = Turn
trigger1 = AnimTime = 0

[State 810, 16]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 720]
type = A
movetype = H
physics = N
ctrl = 0
poweradd = 60
sprpriority = 0

[State 820, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 720

[State 820, 3]
type = SelfState
trigger1 = time > 900
value = 5050


[Statedef 725]
type = A
movetype = H
physics = N
ctrl = 0

[State 825, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 100

[State 810, 10]
type = PlaySnd
trigger1 = time = 46
value = 5100, 0

[State 825, 1a]
type = ChangeAnim2
trigger1 = time = 0
value = 725

[State 825, 1b]
type = PosAdd
trigger1 = time = 0
y = const(size.height)

[State 825, 2]
type = VelSet
trigger1 = time = 0
x = -5
y = -10

[State 825, 3]
type = VelAdd
trigger1 = 1
y = .39

[State 825, 4]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;------------------------------------------------

;agarre 1

[Statedef 739]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
;anim = 800
sprpriority = 2

[State 800, ChangeAnim 1]
type = ChangeAnim
trigger1 = (Time = 0) && (PrevStateNo != 3950)
value = 800

[State 800, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NT
hitflag = M-
priority = 1, Miss
sparkno = -1
sprpriority = 2
p1facing = ifelse (command = "holdfwd", 1, -1)
p2facing = 1
p1stateno = 801
p2stateno = 893
guard.dist = 0
fall.xvelocity = 0
fall.yvelocity = 0
fall = ifelse(PalNo > 6, 0, 1)
fall.recover = 0
fall.damage = 60

[State 800, ChangeState]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 801]
type    = S
movetype= A
physics = N
anim = 801
poweradd = 60
sprpriority = 2

[State 801, TargetBind 1]
type = TargetBind
trigger1 = Time = 0
pos = -43,0

[State 810, 12b]
type = Explod
trigger1 = AnimElem = 4
ID = 49
anim = F62
postype = p1
pos = 60, 0
bindtime = 1
removetime = -2
ownpal = 1
sprpriority = 2

[State 801, TargetBind 2]
type = TargetBind
trigger1 = (AnimElemTime(2) >= 0) && (AnimElemTime(3) < 0)
pos = -42,0

[State 801, TargetBind 3]
type = TargetBind
trigger1 = (AnimElemTime(3) >= 0) && (AnimElemTime(4) < 0)
pos = -3,0

[State 801, TargetBind 4]
type = TargetBind
trigger1 = (AnimElemTime(4) >= 0) && (AnimElemTime(5) < 0)
pos = 19,0

[State 801, TargetBind 5]
type = TargetBind
trigger1 = (AnimElemTime(5) >= 0) && (AnimElemTime(6) < 0)
pos = 92,-3

[State 801, TargetBind 6]
type = TargetBind
trigger1 = (AnimElemTime(6) >= 0) && (AnimElemTime(6) < 4)
pos = 92,-3

[State 801, TargetState MSH]
type = TargetState
triggerall = PalNo <= 6
trigger1 = AnimElemTime(6) = 4
value = ifelse(Var(40) = 12, 813,811)

[State 801, TargetState MvC]
type = TargetState
triggerall = PalNo > 6
trigger1 = AnimElemTime(6) = 4
value = 812

[State 801, ScreenBound]
type = ScreenBound
trigger1 = (PalNo <= 6) && (Var(40) = 12)
value = 0
movecamera = 0,0

[State 801, PowerAdd]
type = PowerAdd
trigger1 = AnimElemTime(6) = 4
value = 60

[State 801, Hurt]
type = TargetLifeAdd
trigger1 = AnimElemTime(6) = 0
value = ifelse(PalNo > 6, -160, -80)

[State 801, EnvShake]
type = EnvShake
trigger1 = AnimElemTime(5) = 0
time = 20
freq = 80
ampl = -6

[State 801, Width 1]
type = Width
trigger1 = (AnimElemTime(1) >= 0) && (AnimElemTime(5) < 0)
edge = 40,0

[State 801, Width 2]
type = Width
trigger1 = (AnimElemTime(5) >= 0) && (AnimElemTime(6) < 4)
edge = 100,0

[State 801, Grab Sound]
type = PlaySnd
trigger1 = Time = 0
value = 700, 0

[State 801, Yell 1]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = 1100,1
channel = 0

[State 801, Yell 2]
type = PlaySnd
trigger1 = AnimElemTime(5) = 0
value = 30,2
channel = 0

[State 801, Slam Sound]
type = PlaySnd
trigger1 = AnimElemTime(5) = 0
value = 5100,0

[State 801, EnvColor]
type = EnvColor
trigger1 = (Var(40) = 12) && (AnimElemTime(5) = 2)
value = 221,17,17
time = 1

[State 801, Slam Explod A]
type = Explod
trigger1 = AnimElemTime(6) = 1
anim = 8000
ID = 8000
postype = P2
pos = -12,3
sprpriority = -1

[State 801, Slam Explod B]
type = Explod
trigger1 = AnimElemTime(6) = 1
anim = 8001
ID = 8001
postype = P2
pos = -12,3
sprpriority = 1

[State 801, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 893]
type    = A
movetype= H
physics = N
velset = 0,0

[State 810, SprPriority 1]
type = SprPriority
trigger1 = AnimElemTime(2) = 0
value = 3

[State 810, SprPriority 2]
type = SprPriority
trigger1 = AnimElemTime(5) = 0
value = 0

[State 810, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 893

[Statedef 811]
type    = A
movetype= H
physics = N
velset = -4,-3
poweradd = 60

[State 811, PosAdd]
type = PosAdd
trigger1 = Time = 0
y = 10

[State 811, SelfState]
type = SelfState
trigger1 = Time = 0
value = 5050
ctrl = 0

[Statedef 812]
type    = A
movetype= H
physics = N
velset = -7,-11
poweradd = 60

[State 812, ChangeAnim]
type = ChangeAnim
trigger1 = (AnimTime = 0) && (Anim = 5035)
trigger2 = Time = 0
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 812, Change Anim] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 812, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.49

[State 812, SelfState]
type = SelfState
trigger1 = Vel Y >= -0.5
value = 5050
ctrl = 1

[Statedef 813]
type    = A
movetype= H
physics = N
velset = -9,-9
poweradd = 60

[State 813, PosAdd]
type = PosAdd
trigger1 = Time = 0
y = 10

[State 813, SelfState]
type = SelfState
trigger1 = Time = 0
value = 5050
ctrl = 0

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; ricarica 
[Statedef 730000]
type = S
movetype = I
physics = S
anim = 730000
velset = 0
ctrl = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3710, 11

[State 730000, 1]
type = ChangeState
trigger1 = AnimTime= 0
value =735000

; Charge
[Statedef 735000]
type = S
movetype = I
physics = S
anim = 735000

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1000, 5

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000, 7

[State 735000, 1]
type = ChangeState
trigger1 = command != "charge"
trigger2 = command != "charge 1"
value =740000

[State 735000, cosmo]
type = Explod
trigger1 = AnimElem = 1
pos = 0,0
anim = 2032
sprpriority = 2
removetime = 32

[State 735000, cosmo]
type = Explod
trigger1 = AnimElem = 1
pos = -15,10
anim = 3688
sprpriority = -3
removetime = 32

[State 735000, POLVERE]
type = Explod
trigger1 = AnimElem = 1
pos = 0,10
anim = 34001
sprpriority = -2
removetime = 32

[State 735000, 2]
type = PowerAdd
trigger1 = Time= [0,12]
value = 18

[State 1700, envshake]
type = EnvShake
trigger1 = AnimElem = 1
time = 25

[State 735000, 2]
type = ChangeState
trigger1 = Power >= 4000
value =741000

[State 735000, 3]
type = ChangeState
trigger1 = AnimTime= 0
value =735000

; Charge (Fim)
[Statedef 740000]
type = S
movetype = I
physics = S
anim = 740000

[State 740000, 1]
type = ChangeState
trigger1 = AnimTime= 0
value =0
ctrl = 1

; Charge Parte1
[Statedef 741000]
type = S
movetype = I
physics = S
anim = 740000

[State 741, 2]
type = ChangeState
trigger1 = AnimTime= 0
value =0
ctrl = 1

;---------------------------------------------------------------------------

[Statedef 1625]
type = S
movetype = A
physics = S
anim = 1625
poweradd = 100
velset = 20
ctrl = 0

[State 1525 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1100,1

[State 1525 , 3]
type = PlaySnd
trigger1 = AnimElem = 3, = 1
trigger2 = AnimElem = 8, = 1
trigger3 = AnimElem = 16, = 1
value = 200,0

[State 1525 , 4]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
attr = S, SA
damage = 9,5
animtype = hard
hitflag = MA
guardflag = MA
sparkno =S92
sparkxy = -15,-77
hitsound = S220,1
guardsound = S300,1
pausetime = 3,3
ground.hittime = 19
ground.type = low
ground.slidetime = 0
ground.velocity = -4,0
air.velocity = -3,-3

[State 1525 , 5]
type = HitDef
trigger1 = AnimElem = 10
trigger2 = AnimElem = 14
attr = S, SA
damage = 8,4
animtype = hard
hitflag = MA
guardflag = MA
sparkno =S91
sparkxy = -15,-77
hitsound = S220,1
guardsound = S300,1
pausetime = 3,3
ground.hittime = 19
ground.type = high
ground.slidetime = 0
ground.velocity = -4,0
air.velocity = -3,-3

[State 1525 , 6]
type = HitDef
trigger1 = AnimElem = 17
trigger2 = AnimElem = 22
attr = S, SA
damage = 8,3
animtype = hard
hitflag = MA
guardflag = MA
sparkno =S92
sparkxy = -20,-77
hitsound = S220,1
guardsound = S300,1
pausetime = 4,4
ground.hittime = 19
ground.type = low
ground.slidetime = 0
ground.velocity = -4,0
air.velocity = -3,-3

[State 1525 , 10]
type = PosAdd
trigger1 = AnimElem = 19
trigger2 = AnimElem = 20
trigger3 = AnimElem = 21
trigger4 = AnimElem = 22
trigger5 = AnimElem = 23
trigger6 = AnimElem = 24
trigger7 = AnimElem = 25
x = 2

[State 1525 , 11]
type = PosAdd
trigger1 = AnimElem = 26
x = 2

[State 1525 , 7]
type = ChangeState
trigger1 = AnimElem = 26
value = 1537

[State 1530 , 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1537]
type = S
movetype = A
physics = S
anim = 1537

[State 1530 , 1]
type = VelSet
trigger1 = Time = [0,4]
x = 1.3

[State 1530 , 2]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 5
attr = S, SA
damage = 5,1
animtype = hard
hitflag = MA
guardflag = MA
sparkno =S91
sparkxy = -25,-77
hitsound = S220,1
guardsound = S300,1
pausetime = 4,4
ground.hittime = 19
ground.type = low
ground.slidetime = 0
ground.velocity = -4,0
air.velocity = -3,-3

[State 1530 , 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 1273
ctrl = 1

[Statedef 1273]
type = S
movetype = A
physics = S
anim = 1273
juggle = 5
velset = 0
ctrl = 0
poweradd= 50

[State 1200, 0]
type = AfterImage
trigger1 = time = 0
time = 50
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 107,107,222 ;blue 
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 1200 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1100,1

[State 1200 , 2]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 3

[State 3650, 3]
type = VelAdd
trigger1 = AnimElem = 2
x = 1

[State 3650, 4]
type = VelAdd
trigger1 = AnimElem = 3
x = 6

[State 1200 , 5]
type = HitDef
trigger1 = AnimElem = 4
priority = 4
attr = A, SA
damage = 35
getpower = 60
givepower = 30
animtype = medium
guardflag = MA
sparkno = s92
sparkxy = -10,-90
hitsound = S240,1
guardsound = S300,2
pausetime = 13,15
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -10
air.velocity = -2,-8

[State 1220, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 1274
ctrl = 1

[Statedef 1274]
type = S
movetype = A
physics = S
anim = 1273
juggle = 5
velset = 0
ctrl = 0
poweradd= 50

[State 1200, 0]
type = AfterImage
trigger1 = time = 0
time = 50
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 107,107,222 ;blue 
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 1200 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1100,1

[State 1200 , 2]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 3

[State 3650, 3]
type = VelAdd
trigger1 = AnimElem = 2
x = 1

[State 3650, 4]
type = VelAdd
trigger1 = AnimElem = 3
x = 6

[State 1200 , 5]
type = HitDef
trigger1 = AnimElem = 4
priority = 4
attr = A, SA
damage = 35
getpower = 60
givepower = 30
animtype = medium
guardflag = MA
sparkno = s92
sparkxy = -10,-90
hitsound = S240,1
guardsound = S300,2
pausetime = 13,15
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -10
air.velocity = -2,-8

[State 1220, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 280
ctrl = 1

;----------------------------------------------------------------------------


[Statedef 662]
type = A
movetype = A
physics = A
juggle  = 5
ctrl = 0
anim = 662
velset = 0,-8

[State 2199, snd]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
trigger4 = AnimElem = 6
trigger5 = AnimElem = 9
trigger6 = AnimElem = 11
value = 220, 0


[State 191 , 6]
type = Explod
trigger1 = AnimElem = 1
anim = 395
sprpriority = -2
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
removeongethit = 1
ownpal = 1

[State 2199, snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1100, 1

[State 3201, vel]
type = Velset
trigger1 = time = [1,54]
x = 0
y = 0

[State 1251, projetil 1]
type = Projectile
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 9
projID = 662
projAnim = 7004
projHitAnim = 8210
projRemAnim = 8210
velocity = 8,6
accel = 0,0
offset = 53,-30
postype = p1
attr = A, SP
damage = 12,4
animtype = Head
hitflag = MAFP
guardflag = MA
pausetime = 3,3
sparkno = S7009
sparkxy = 10, 5
guard.sparkno =  S7009
hitsound = S220,1
guardsound = S300,1
ground.type = high
ground.slidetime = 8
ground.hittime = 10
guard.slidetime = 10
ground.velocity = -5
air.velocity = -4,-5
airguard.velocity = -3,-3
;projpriority = 3
projsprpriority = 3
projstagebound = 20
supermovetime = 0
pausemovetime = 0
projhits = 1
projmisstime = 2
air.fall = 1

[State 1251, projetil 1]
type = Projectile
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 10
projID = 662
projAnim = 7004
projHitAnim = 8210
projRemAnim = 8210
velocity = 8,3
accel = 0,0
offset = 53,-30
postype = p1
attr = A, SP
damage = 12,4
animtype = Head
hitflag = MAFP
guardflag = MA
pausetime = 3,3
sparkno = S7009
sparkxy = 10, 5
guard.sparkno =  S7009
hitsound = S220,1
guardsound = S300,1
ground.type = high
ground.slidetime = 8
ground.hittime = 10
guard.slidetime = 10
ground.velocity = -5
air.velocity = -4,-5
airguard.velocity = -3,-3
;projpriority = 3
projsprpriority = 3
projstagebound = 20
supermovetime = 0
pausemovetime = 0
projhits = 1
projmisstime = 2
air.fall = 1

[State 1251, projetil 1]
type = Projectile
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
trigger3 = AnimElem = 11
projID = 662
projAnim = 7004
projHitAnim = 8210
projRemAnim = 8210
velocity = 8,9
accel = 0,0
offset = 53,-30
postype = p1
attr = A, SP
damage = 12,4
animtype = Head
hitflag = MAFP
guardflag = MA
pausetime = 3,3
sparkno = S7009
sparkxy = 10, 5
guard.sparkno =  S7009
hitsound = S220,1
guardsound = S300,1
ground.type = high
ground.slidetime = 8
ground.hittime = 10
guard.slidetime = 10
ground.velocity = -5
air.velocity = -4,-5
airguard.velocity = -3,-3
;projpriority = 3
projsprpriority = 3
projstagebound = 20
supermovetime = 0
pausemovetime = 0
projhits = 1
projmisstime = 2
air.fall = 1


[State 1251, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 2233
ctrl = 1

;-------------------------------------------

;Cometa Pegaso (Pegasus Suiseken)

[Statedef 3199]
type = S
movetype = A
physics = S
anim = 3199
poweradd = -3000
velset = 0
ctrl = 0

[State 2163 , 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3710,3

[State 2163 , 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3710,2

[State 2163 , 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3710,4

;pegaso zoom
[State 2199 , 6]
type = Explod
trigger1 = AnimElem = 1
anim = 3682
sprpriority = -1
postype = p1
pos = 0,0
removetime = 204
ignorehitpause = 1
supermove = 1
bindtime = -1
ownpal = 1
persistent = 0


[State 2199, kosumo]
type = Explod
trigger1 = AnimElem = 1
anim = 3701
pos = -320,0
postype = right
sprpriority = -3
supermove = 1
removetime = 210
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 2199, kosumo]
type = Explod
trigger1 = AnimElem = 1
anim = 3700
pos = -0,0
postype = p1
sprpriority = -2
supermove = 1
removetime = 210
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0


;Bg effect
[State 2199, super]
type = BGPalfx
trigger1 = time >= 0
ignorehitpause = 1
ID = 3570
time = 99
mul = 150,150,222
add = 0,0,0
invertall = 0
persistent = 1
bindtime = -1

;Bg effect
[State 2199, super]
type = BGPalfx
trigger1 = time >= 10
ignorehitpause = 1
ID = 3570
time = 99
mul = 107,107,222
add = 0,0,0
invertall = 0
persistent = 1
bindtime = -1

[State 2199 , 3]
type = SuperPause
trigger1 = Time = 0
time = 250
anim = -1
darken = 0
supermove = 1
movetime = 250

[State 2199, 0]
type = AfterImage
trigger1 = time = 0
time = 300
FrameGap = 1
length = 10
PalBright   =   50,  50,  50
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1


[State 2199 , 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 3100

[Statedef 3100]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 3100
velset = 0

;-----------afterimage
[State 2200, 0]
type = AfterImage
trigger1 = Time = 0
time = 2

[State 2200,1]
type = AfterImageTime
trigger1 = Time = [2,10000]
time = 2
;-----------afterimage


[State 2200, showgalaxian]
type = Explod
trigger1 = AnimElem = 1
anim = 3560
ID = 3560
pos = -320,0
postype = right
sprpriority = -2
supermove = 1
removetime = 200
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 2200, constellation]
type = Explod
trigger1 = AnimElem = 1
anim = 3481
ID = 3480
pos = -320,0
postype = right
sprpriority = -1
supermove = 1
removetime = 200
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 2200 , 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 7

[State 2200 , 2]
type = SuperPause
trigger1 = Time = 3
time = 30
anim = S4687

[State 2199 , 6]
type = Explod
trigger1 = Time = 3
anim = 8381
sprpriority = -1
postype = p1
pos = 0,0
removetime = 125
ignorehitpause = 1
supermove = 1
bindtime = -1
ownpal = 1
persistent = 0

[State 2200 , 2]
type = SuperPause
trigger1 = Time = 5
time = 100
anim = -1

[State 2200 , 3]
type = PlaySnd
trigger1 = Time = 3
value = 300,2

[State 2200 , 3]
type = PlaySnd
trigger1 = Time = 5
value = 3710, 9


;remove showgalaxian
[State 2200,remove]
type = RemoveExplod
trigger1 = AnimTime = 3
ID = 3560


[State 2200 , 10]
type = EnvShake
trigger1 = MoveHit
time = 16
persistent = 0
ignorehitpause = 1

[State 2200, 14] ;Flash nero long
type = EnvColor
Trigger1 = Time = 0
value = 0,0,0
under = 1
time = 55

[state 1200, white fadeout]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time= 40
ignorehitpause = 1
persistent= 0


[State 2210 , 1]
type = VarAdd
trigger1 = Time = 0
v = 1
value = 1


[State 2210 , 1]
type = VelAdd
trigger1 = P2BodyDist X < 80
trigger1 = AnimElem = 8
x = 35

[State 2210 , 1]
type = VelAdd
trigger1 = P2BodyDist X > 80
trigger1 = AnimElem = 8
x = 85


[State 1251, projetil 1]
type = Projectile
trigger1 = AnimElem = 4
ProjAnim = 1567    
ProjHitAnim = 8210    
ProjRemAnim = 8210
projscale = 2,2
offset = -20, 70      
velocity = 10, 0     
remvelocity = .7, 0     
accel = 0, 0            
attr = S, SP
damage    =  230,50
animtype  = Medium
givepower = 30
guardflag = MA
pausetime = 0,24
sparkno = S8220
sparkxy = 130, -130
guard.sparkno = S8220
hitsound   = s240,1
guardsound = s300,2
ground.type = low
ground.slidetime = 30
ground.hittime  = 60
ground.velocity = .6,-8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -3
air.juggle = 3

[State 2210, 1]
type = Projectile
trigger1 = AnimElem = 6
ignorehitpause = 1
projanim = 3710
projsprpriority = 1
offset = -50,-5
sparkno = S8220
sparkxy = 35, -40
velocity = 20,0
priority = -2
damage =  230,35
animtype = Hard
guardflag = -1

[State 2210 , 7]
type = HitDef
trigger1 = AnimElem = 8
priority = 7
attr = S, HA
damage = 230,70
animtype = hard
guardflag = MA
sparkno =S8220
sparkxy = 30, -55
hitsound = S240,1
guardsound = S300,2
pausetime = 0,12
ground.hittime = 60
ground.slidetime = 30
ground.type = low
ground.velocity = .6,-8
air.velocity = -3
fall = 1
fallrecover = 0
falldamage = 30

[state 1200, white fadeout]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time= 40
ignorehitpause = 1
persistent= 0

[State 2210 , 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------

[StateDef -2]

;-----------------------------------------------------

; sonidos automaticos

;Saltar
[State -2 , 1]
type = PlaySnd
trigger1 = stateno = 40
trigger1 = Time = 0
value = 40,0

;Caer
[State -2 , 2]
type = PlaySnd
trigger1 = stateno = 52
trigger1 = Time = 1
value = 52,0

;uir
[State -2 , 2]
type = PlaySnd
trigger1 = stateno = 106
trigger1 = Time = 1
value = 106,0

;GOlpeado 1
[State -2 , 1]
type = PlaySnd
triggerall = stateno = 5010
trigger1 = time = 1
value = 5001,0

;GOlpeado 1
[State -2 , 2]
type = PlaySnd
triggerall = stateno = 5000
trigger1 = time = 1
value = 5000,0

;GOlpeado 2
[State -2 , 3]
type = PlaySnd
triggerall =  stateno = 5030
trigger1 = time = 1
value = 5001,0

[State -2 , 3]
type = PlaySnd
triggerall =  stateno = 5100
trigger1 = time = 1
value = 5100,0

;Lebantarse
[State -2 , 3]
type = PlaySnd
triggerall =  stateno = 5120
trigger1 = time = 1
value = 5003,0

;Corrre
[State -2 , 8]
type = PlaySnd
trigger1 = stateno = 100
trigger1 = AnimElem = 6, = 3
value = 100,0

;Corrre
[State -2 , 9]
type = PlaySnd
trigger1 = stateno = 100
trigger1 = AnimElem = 2, -1
value = 100,1

;Caminar adelante
[State -2 , 8]
type = PlaySnd
trigger1 = stateno = 20
trigger1 = AnimElem = 4
value = 10,0

;Caminar adelante
[State -2 , 9]
type = PlaySnd
trigger1 = stateno = 20
trigger1 = AnimElem = 2
value = 10,1

;Caminar atras
[State -2 , 8]
type = PlaySnd
trigger1 = stateno = 21
trigger1 = AnimElem = 4
value = 10,1

;Caminar atras
[State -2 , 9]
type = PlaySnd
trigger1 = stateno = 21
trigger1 = AnimElem = 2
value = 10,0


[State -2 , 10]
type = VarSet
trigger1 = stateno = 0
v = 1
value = 0

;-----------------------------

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; AI variabili (statedef -2)
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------

[State -2, Get P2 Distance]
type = VarSet
trigger1 = P2Dist X != 0
v = 11
value = floor(P2Dist X)

;---------------------------------------------------------------------------
;Basic Moves
;---------------------------------------------------------------------------

;Combo 1

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 200) 
trigger1 = (movecontact)
value = 200

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 200) 
trigger1 = (movecontact)
value = 215

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 215) 
trigger1 = (movecontact)
value = 201

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 201) 
trigger1 = (movecontact)
value = 280


;Combo 2

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 220) 
trigger1 = (movecontact)
value = 220

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 220) 
trigger1 = (movecontact)
value = 230

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 220) 
trigger1 = (movecontact)
value = 250

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 230) 
trigger1 = (movecontact)
value = 240

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 240) 
trigger1 = (movecontact)
value = 250

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 250) 
trigger1 = (movecontact)
value = 240

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 250) 
trigger1 = (movecontact)
value = 290

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 250) 
trigger1 = (movecontact)
value = 270

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 290) 
trigger1 = (movecontact)
value = 270


;Agachado

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 400) 
trigger1 = (movecontact)
value = 400

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 400) 
trigger1 = (movecontact)
value = 410

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 410) 
trigger1 = (movecontact)
value = 420

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 430) 
trigger1 = (movecontact)
value = 430

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 430) 
trigger1 = (movecontact)
value = 450

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 450) 
trigger1 = (movecontact)
value = 470


;Aire

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 610) 
trigger1 = (movecontact)
value = 630

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 610) 
trigger1 = (movecontact)
value = 600

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 610) 
trigger1 = (movecontact)
value = 670

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 610) 
trigger1 = (movecontact)
value = 640

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 650) 
trigger1 = (movecontact)
value = 630

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 650) 
trigger1 = (movecontact)
value = 600

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 650) 
trigger1 = (movecontact)
value = 670

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 650) 
trigger1 = (movecontact)
value = 640

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 620) 
trigger1 = (movecontact)
value = 690

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 690) 
trigger1 = (movecontact)
value = 620

;---------------------

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 250) 
trigger1 = (movecontact)
value = 1525

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 230) 
trigger1 = (movecontact)
value = 1525

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 240) 
trigger1 = (movecontact)
value = 1525

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 215) 
trigger1 = (movecontact)
value = 1625

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 201) 
trigger1 = (movecontact)
value = 1625

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 200) 
trigger1 = (movecontact)
value = 1625

;-----------------

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 1200) 
trigger1 = (movecontact)
value = 280

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 1200) 
trigger1 = (movecontact)
value = 1820

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 1200) 
trigger1 = (movecontact)
value = 1230

;-------------------

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 225) 
trigger1 = (movecontact)
value = 229

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 225) 
trigger1 = (movecontact)
value = 460

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 229) 
trigger1 = (movecontact)
value = 460

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 229) 
trigger1 = (movecontact)
value = 225

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 460) 
trigger1 = (movecontact)
value = 229

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 460) 
trigger1 = (movecontact)
value = 225

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 229) 
trigger1 = (movecontact)
value = 1000

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 225) 
trigger1 = (movecontact)
value = 1000

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 460) 
trigger1 = (movecontact)
value = 1000

;-------------------


[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 662) 
trigger1 = (movecontact)
value = 660

;-----------------

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 440) 
trigger1 = (movecontact)
value = 1600

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 440) 
trigger1 = (movecontact)
value = 1230

;-------------------


[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 200) 
trigger1 = (movecontact)
value = 440

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 215) 
trigger1 = (movecontact)
value = 440

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 220) 
trigger1 = (movecontact)
value = 440

[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 250) 
trigger1 = (movecontact)
value = 440

;------------------


;---------------------------------------------------------------------------
;Special Moves
;---------------------------------------------------------------------------

;carika cosmo
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (random = [0, 50])
trigger1 = (P2bodydist X >= 200) &&  (power <= 2999) && (prevstateno != 5120) && (p2movetype != H) 
value = 730000

;Mega Block
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (random = [50, 100])
trigger1 = (P2bodydist X <= 70) && (prevstateno != 5120) && (p2movetype = A)
value = 8002

;Mega Block y Golpe
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (random = [100, 150])
trigger1 = (P2bodydist X <= 70) && (prevstateno != 5120) && (p2movetype = A)
value = 62002

;Calcio volante alato
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = A) && (ctrl) && (random = [100, 150])
trigger1 = (p2bodydist X <= 200) && (prevstateno != 5120)
value = 660

;seiya mini meteor aire
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = A) && (ctrl) && (random = [150, 200])
trigger1 = (p2bodydist X <= 200) && (prevstateno != 5120)
value = 662

;Calcio missile in salto verticale
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = A) && (p2statetype = A) && (ctrl) && (random = [150, 200])
trigger1 = (P2bodydist X <= 70) && (prevstateno != 5120) && (p2movetype != I) 
value = 680

;seiya mini meteor 
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (random = [200, 250])
trigger1 = (P2bodydist X >= 150) && (prevstateno != 5120) && (p2movetype != H) 
value = 225

;seiya mini meteor 2
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (random = [250, 300])
trigger1 = (P2bodydist X >= 200) && (prevstateno != 5120) && (p2movetype != H) 
value = 229

;seiya mini meteor 3
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) &&  (ctrl) && (random = [250, 300])
trigger1 = (P2bodydist X >= 150) && (prevstateno != 5120) && (p2movetype != H) 
value = 460

;Gancho Devil
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (random = [300, 350])
trigger1 = (P2bodydist X <= 50) && (prevstateno != 5120) && (p2movetype != H) 
value = 1800

;Gancho Medio 
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (random = [351, 400])
trigger1 = (P2bodydist X <= 50) && (prevstateno != 5120) && (p2movetype != H) 
value = 1810

;Gancho Fuerte 
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (random = [401, 450])
trigger1 = (P2bodydist X <= 50) && (prevstateno != 5120) && (p2movetype != H) 
value = 1820

;Codazo
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (random = [350, 400])
trigger1 = (P2bodydist X <= 90) && (prevstateno != 5120) && (p2movetype != H) 
value = 1200

;Golpe y Barrida
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (random = [400, 450])
trigger1 = (P2bodydist X <= 150) && (prevstateno != 5120) && (p2movetype != H) 
value = 1600

;Golpe y Barrida
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (random = [451, 500])
trigger1 = (P2bodydist X <= 150) && (prevstateno != 5120) && (p2movetype != H) 
value = 440

;combo pugni
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (random = [450, 500])
trigger1 = (P2bodydist X <= 100) && (prevstateno != 5120) && (p2movetype != H) 
value = 1525

;combo pugni
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (random = [500, 551])
trigger1 = (P2bodydist X <= 100) && (prevstateno != 5120) && (p2movetype != H) 
value = 1625

;Combo Patada Voladora
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (random = [500, 550])
trigger1 = (P2bodydist X <= 70) && (prevstateno != 5120) && (p2movetype != H) 
value = 1230

;Cometa Pegaso
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2statetype != L)
trigger1 = (p2bodydist X >= 175) && (power >= 250) && (random = [500,600])
value = 1000

;Agarre 1
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2statetype != L)
trigger1 = (p2bodydist X <= 50) && (random = [600,700])
value = 700

;Agarre 2
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2statetype != L)
trigger1 = (p2bodydist X <= 50) && (random = [700,800])
value = 739

;---------------------------------------------------------------------------
;Super Moves
;---------------------------------------------------------------------------

;cometa pegaso aereo
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = A) && (ctrl) && (p2statetype != L)&& (p2statetype != A)
trigger1 = (p2bodydist X <= 200) && (power >= 250) && (random = [500,550])
value = 1100

;Meteoros de Pegaso Aereo, desde el aire
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = A) && (ctrl) && (p2statetype != L)
trigger1 = (p2bodydist X <= 200) && (power >= 2000) && (random = [800,850])
value = 2251

;Septimo Sentido
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2statetype != L)
trigger1 = (p2bodydist X >= 250) && (power >= 3000) && (random = [600,650])
value = 2000

;Meteoros de Pegaso en Moviniento
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2statetype != L)
trigger1 = (p2bodydist X >= 150) && (power >= 1000) && (random = [600,650])
value = 1330

;Meteoros de Pegaso en el Mismo lugar
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2statetype != L)
trigger1 = (p2bodydist X >= 90) && (power >= 2000) && (random = [700,750])
value = 2199

;Flecha Dorada de Sagitario 
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2statetype != L)
trigger1 = (p2bodydist X >= 100) && (power >= 3000) && (random = [750,800])
value = 2100

;Cometa Pegaso
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2statetype != L)
trigger1 = (p2bodydist X >= 90) && (power >= 3000) && (random = [550,750])
value = 3199

;Espiral de Pegaso
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2statetype != L)
trigger1 = (p2bodydist X <= 50) && (power >= 1000) && (random = [800,850])
value = 800

;Meteoros de Pegaso Aereo, desde el suelo
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2statetype != L)
trigger1 = (p2bodydist X >= 100) && (power >= 1000) && (power <= 1750) && (random = [850,900])
value = 2250

;shiryu helper
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2statetype != A)
trigger1 = (p2bodydist X <= 80) && (power >= 1000) && (power <= 1750) && (random = [900,950])
value = 370



:---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
:---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------


;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
;                                   ALL SELFSTATE
;---------------------------------------------------------------------------

[StateDef -3]



;ultra power
[State -3, 10]
type = AttackMulSet
trigger1 = time = 1500
value = 0

;ultra defence
[State -3, 11]
type = DefenceMulSet
trigger1 = time = 1500
value = 0

[State -3,remove]
type = RemoveExplod
triggerall = NumExplod(2) = 1
trigger1 = stateno != 0
ID = 2

[State -3,remove]
type = RemoveExplod
triggerall = NumExplod(2) = 1
trigger1 = anim = 5
ID = 2

[State -3,remove]
type = RemoveExplod
triggerall = NumExplod(3) = 1
trigger1 = stateno != 0
ID = 3

[State -3,remove]
type = RemoveExplod
triggerall = NumExplod(3) = 1
trigger1 = anim = 5
ID = 3


;freccia indicativa p2
[State -3, target sign]
type = Explod
triggerall = NumExplod(3718) = 0
trigger1 = P2Dist y > 300
anim = 3718
id = 3718
pos = 0,-30
postype = p2
sprpriority = 4
supermove = 1
ignorehitpause = 1
ontop = 1
ownpal = 1
bindtime = -1
persistent = 1
facing = -1

;freccia indicativa p2
[State -3,remove]
type = RemoveExplod
trigger1 = P2Dist y < 300
ID = 3718

;blood
[State -3, blood]
type = Explod
trigger1 = stateno = 5110
trigger1 = life <= 300
trigger1 = palno = 1
anim = 3850
pos = 0,0
postype = p1
sprpriority = -4
supermove = 1
ignorehitpause = 1
ownpal = 1
bindtime = 1
persistent = 1


;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
;                                   ALL SELFSTATE
;---------------------------------------------------------------------------







