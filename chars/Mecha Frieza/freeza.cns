;Freeza's constants and shit

[Data]
life = 1000
power = 3000
attack = 60
defence = 90
fall.defence_up = 50
liedown.time = 60    
airjuggle = 15 
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 0
IntPersistIndex = 0
FloatPersistIndex = 0

[Size]
xscale = 1
yscale = 1
ground.back = 15
ground.front = 15
air.back = 12
air.front = 12
z.width = 3
height = 60
attack.width = 4,4
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0  

[Velocity]
walk.fwd  = 3.0
walk.back = -3.0
run.fwd  = 5, 0
run.back = -5,-3.8
jump.neu = 0,-8.1
jump.back = -2.55
jump.fwd = 3.0
runjump.back = -2.55,-8.1
runjump.fwd = 4.5,-8.1
airjump.neu = 0,-8.1
airjump.back = -2.55,-8.1
airjump.fwd = 2.5,-8.1

[Movement]
airjump.num = 0
airjump.height = 35
yaccel = .43
stand.friction = .85
crouch.friction = .82

;=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
;variable index (Gotta love it)
;=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
; fvar(0) - 
; fvar(1) - power bar scale value
; fvar(2) - ball expander value
; var(0) - nothing
; var(1) - Power level value
; var(2) - bar color toggle
; var(3) - Power level
; var(4) - Beam Spark direction
; var(5) - X value for Blast bomb
; var(6) - Random x posset value for energy
; var(7) - Random y posset value for energy
; var(8) - Rock anim randomizer
; var(9) - Ball expander value(not used)
; var(10) - random flashing colors
; var(11) - Krazy destructo disc timer
; var(12) - posset Y randomizer for destructo disk
; var(13) - beam killer
; var(14) - freeza menu select limiter
; var(15) - intro randomizer
; var(16) - win pose randomizer
; var(17) - win quote decider
; var(18) - AI activate
; var(19) - facing check
; var(20) - envcolor values for ko alert
; var(21) - unblockable toggle for starlight beam
; var(22) - Helper win quote randomizer && hit sound randomizer
; var(23) - Counter envcolor randomizer
; var(24) - AI move randomizer
;---------------------------------------------------------------------------
; LOSE (Time over)
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S

[State 180,varrandom]
type = varrandom
trigger1 = time = 0
v = 16
range = 1,2

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
trigger1 = matchover = 0
trigger1 = var(16) = 1
value = 181

[State 180, 2]
type = ChangeState
trigger1 = Time = 0
trigger1 = matchover = 0
trigger1 = var(16) = 2
value = 183

[State 180, 3]
type = ChangeState
trigger1 = Time = 0
trigger1 = var(16) = 1
trigger1 = matchover = 1
value = 184

[State 180, 4]
type = ChangeState
trigger1 = Time = 0
trigger1 = var(16) = 2
trigger1 = matchover = 1
value = 185
;---------------------------------------------------------------------------
; WIN1
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0
time = 1
add = (Time + 2),(0),(Time + 2)
color = 0

[State 181, field]
type = Explod
trigger1 = animelem = 2
anim = 731
pos = 0,0
postype = p1
sprpriority = -5
bindtime = -1
removetime = 300
ignorehitpause = 1
ownpal = 1

[State 194, SparkSnd]
type = PlaySnd
trigger1 = Time >= 70
trigger1 = (GameTime%25)=0
value = 1, 12

[State 194,shake] 
type = EnvShake
trigger1 = Time >= 10
trigger1 = timemod = 4,1
time = 4
ampl = 10
freq = 127

[State 181, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

; WIN2
[Statedef 183]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 183, electricity]
type = Explod
triggerall = time >= 0
trigger1 = random < 50
trigger1 = numexplod(1440) < 5
anim = Ifelse(random <=499,1440,Ifelse(random <=499,1441,1442))
pos = 0,-40
id = 1440
random = 32,32
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1
ownpal = 1

[State 183, electricitysnd]
type = playsnd
triggerall = time >= 0
trigger1 = random < 50
value = 1,14

[State 183, electricitysnd]
type = playsnd
triggerall = time >= 0
trigger1 = random < 50
value = 1,13

[State 183, blink purple]
type = PalFX
triggerall = time >= 0
trigger1 = random < 50
time = 5
add = 164, 0, 164
ignorehitpause = 1

;---------------------------------------------------------------------------
; win 3
[Statedef 184]
type    = S
physics = S
sprpriority = 0

[State 184, over]
type = Assertspecial
trigger1 = time = [0,300]
flag = roundnotover

[State 184, noscrren]
type = screenbound
trigger1 = 1
value = 0

[State 184, velset]
type = VelSet
trigger1 = time >= 0
x = const(velocity.walk.fwd.x)

[State 184, anim]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

; WIN4
[Statedef 185]
type = S
ctrl = 0
anim = 801
velset = 0,0

[State 185, over]
type = Assertspecial
trigger1 = time = [0,200]
flag = roundnotover

[State 185, electricity]
type = Explod
triggerall = time >= 0
trigger1 = random < 50
trigger1 = numexplod(1440) < 5
anim = Ifelse(random <=499,1440,Ifelse(random <=499,1441,1442))
pos = 0,-40
id = 1440
random = 32,32
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1
ownpal = 1

[State 185, blink purple]
type = PalFX
triggerall = time >= 0
trigger1 = random < 50
time = 5
add = 164, 0, 164
ignorehitpause = 1

[State 185, BGPalFX]
type  = BGPalFX
trigger1 = time = 0
time = 400
add = 10, 10, 25
mul = 100, 100, 100

;Win Quote decider helper
[Statedef 12004]
type = A
movetype = I
physics = N
anim = 12004
velset = 0,0
ctrl = 0

[State 12004, BGPalFX]
type = envcolor
trigger1 = Time >= 0
time = 1
value = 0,0,0
under = 1

[State 12004, VarAdd]
type = Varrandom
trigger1 = time = 0
v = 22
range = 1,4
ignorehitpause = 1
persistent = 0

[State 12004, freeza]
type = Explod
trigger1 = time = 10
persistent = 0
anim = 13
ID = 13
pos = 151,90
postype = left
sprpriority = 2
bindtime = -1
scale = .55,.55
supermove = 1
ownpal = 1
ontop = 1
ignorehitpause = 1

[State 12004, win1]
type = Explod
trigger1 = Time = 10
trigger1 = var(22) = 1
persistent = 0
anim = 14
ID = 14
pos = 160,180
ownpal = 1
postype = left
sprpriority = -3
supermove = 1
ownpal = 1
ontop = 1
ignorehitpause = 1

[State 12004,win2]
type = Explod
trigger1 = Time = 10
trigger1 = var(22) = 2
persistent = 0
anim = 15
ID = 15
pos = 160,180
ownpal = 1
postype = left
sprpriority = -3
supermove = 1
ownpal = 1
ontop = 1
ignorehitpause = 1

[State 12004,win 3]
type = Explod
trigger1 = Time = 10
trigger1 = var(22) = 3
persistent = 0
anim = 16
ID = 16
pos = 160,180
ownpal = 1
postype = left
sprpriority = -3
supermove = 1
ownpal = 1
ontop = 1
ignorehitpause = 1

[State 12004,win 4]
type = Explod
trigger1 = Time = 10
trigger1 = var(22) = 4
persistent = 0
anim = 17
ID = 17
pos = 160,180
ownpal = 1
postype = left
sprpriority = -3
supermove = 1
ownpal = 1
ontop = 1
ignorehitpause = 1

[State 12004,music]
type = PlaySnd
trigger1 = Time = 0
value = 2, 9
volume = 500

[State 12004, nomusic]
type = AssertSpecial
trigger1 = time >= 0
flag = nomusic

[State 12004, end]
type = AssertSpecial
trigger1 = time = [0,560]
flag = roundnotover
persistant = 0

;=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
;vegeta
;==-=-=-=-=-=-=-=-=-=-=-=-=-=-=
;Win Quote decider helper
[Statedef 12005]
type = A
movetype = I
physics = N
anim = 12004
velset = 0,0
ctrl = 0

[State 12005,music]
type = PlaySnd
triggerall = matchover = 1
triggerall = time = 1 
trigger1 = parent,stateno = 184
trigger2 = parent,stateno = 185
value = 2, 9
volume = 500

[State 12005, BGPalFX]
type = envcolor
triggerall = Time >= 0
triggerall = matchover = 1 
trigger1 = parent,stateno = 184
trigger2 = parent,stateno = 185
time = 1
value = 0,0,0
under = 1

[State 12005, VarAdd]
type = Varrandom
trigger1 = time = 2
v = 22
range = 1,2
ignorehitpause = 1
persistent = 0

[State 12005, freeza]
type = Explod
triggerall = matchover = 1 
trigger1 = parent,stateno = 184
trigger2 = parent,stateno = 185
persistent = 0
anim = 13
ID = 13
pos = 151,90
postype = left
sprpriority = 2
bindtime = -1
scale = .55,.55
supermove = 1
ownpal = 1
ontop = 1
ignorehitpause = 1

[State 12005, win1]
type = Explod
triggerall = var(22) = 1
triggerall = matchover = 1 
trigger1 = parent,stateno = 184
trigger2 = parent,stateno = 185
persistent = 0
anim = 23
ID = 23
pos = 160,180
ownpal = 1
postype = left
sprpriority = -3
supermove = 1
ownpal = 1
ontop = 1
ignorehitpause = 1

[State 12005,win2]
type = Explod
triggerall = var(22) = 2
triggerall = matchover = 1 
trigger1 = parent,stateno = 184
trigger2 = parent,stateno = 185
persistent = 0
anim = 19
ID = 19
pos = 160,180
ownpal = 1
postype = left
sprpriority = -3
supermove = 1
ownpal = 1
ontop = 1
ignorehitpause = 1

[State 12005, nomusic]
type = AssertSpecial
triggerall = matchover = 1 
triggerall = time >= 0
trigger1 = parent,stateno = 184
trigger2 = parent,stateno = 185
flag = nomusic

[State 12005, end]
type = AssertSpecial
triggerall = matchover = 1 
triggerall = time = [0,560]
trigger1 = parent,stateno = 184
trigger2 = parent,stateno = 185
flag = roundnotover
persistant = 0

;=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
;Goku
;==-=-=-=-=-=-=-=-=-=-=-=-=-=-=
;Win Quote decider helper
[Statedef 12006]
type = A
movetype = I
physics = N
anim = 12004
velset = 0,0
ctrl = 0

[State 12004, VarAdd]
type = null
trigger1 = parent,stateno = 5900
trigger1 = time = 0
v = 22
value = 0

[State 12006,music]
type = PlaySnd
triggerall = matchover = 1
triggerall = time = 1 
trigger1 = parent,stateno = 184
trigger2 = parent,stateno = 185
value = 2, 9
volume = 500

[State 12006, BGPalFX]
type = envcolor
triggerall = Time >= 0
triggerall = matchover = 1 
trigger1 = parent,stateno = 184
trigger2 = parent,stateno = 185
time = 1
value = 0,0,0
under = 1

[State 12006, VarAdd]
type = Varrandom
trigger1 = time = 0
v = 22
range = 1,2
ignorehitpause = 1
persistent = 0

[State 12006, freeza]
type = Explod
triggerall = matchover = 1 
trigger1 = parent,stateno = 184
trigger2 = parent,stateno = 185
persistent = 0
anim = 13
ID = 13
pos = 151,90
postype = left
sprpriority = 2
bindtime = -1
scale = .55,.55
supermove = 1
ownpal = 1
ontop = 1
ignorehitpause = 1

[State 12006, win1]
type = Explod
triggerall = var(22) = 1
triggerall = matchover = 1 
trigger1 = parent,stateno = 184
trigger2 = parent,stateno = 185
persistent = 0
anim = 18
ID = 18
pos = 160,180
ownpal = 1
postype = left
sprpriority = -3
supermove = 1
ownpal = 1
ontop = 1
ignorehitpause = 1

[State 12006,win2]
type = Explod
triggerall = var(22) = 2
triggerall = matchover = 1 
trigger1 = parent,stateno = 184
trigger2 = parent,stateno = 185
persistent = 0
anim = 19
ID = 19
pos = 160,180
ownpal = 1
postype = left
sprpriority = -3
supermove = 1
ownpal = 1
ontop = 1
ignorehitpause = 1

[State 12006, nomusic]
type = AssertSpecial
triggerall = matchover = 1 
triggerall = time >= 0
trigger1 = parent,stateno = 184
trigger2 = parent,stateno = 185
flag = nomusic

[State 12006, end]
type = AssertSpecial
triggerall = matchover = 1 
triggerall = time = [0,560]
trigger1 = parent,stateno = 184
trigger2 = parent,stateno = 185
flag = roundnotover
persistant = 0

;=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
;piccolo
;==-=-=-=-=-=-=-=-=-=-=-=-=-=-=
;Win Quote decider helper
[Statedef 12007]
type = A
movetype = I
physics = N
anim = 12004
velset = 0,0
ctrl = 0

[State 12007, VarAdd]
type = null
trigger1 = parent,stateno = 5900
trigger1 = time = 0
v = 22
value = 0

[State 12007,music]
type = PlaySnd
triggerall = time = 1
triggerall = matchover = 1 
trigger1 = parent,stateno = 184
trigger2 = parent,stateno = 185
value = 2, 9
volume = 500

[State 12007, BGPalFX]
type = envcolor
triggerall = Time >= 0
triggerall = matchover = 1 
trigger1 = parent,stateno = 184
trigger2 = parent,stateno = 185
time = 1
value = 0,0,0
under = 1

[State 12007, freeza]
type = Explod
triggerall = matchover = 1 
trigger1 = parent,stateno = 184
trigger2 = parent,stateno = 185
persistent = 0
anim = 13
ID = 13
pos = 151,90
postype = left
sprpriority = 2
bindtime = -1
scale = .55,.55
supermove = 1
ownpal = 1
ontop = 1
ignorehitpause = 1

[State 12007, win1]
type = Explod
triggerall = matchover = 1 
trigger1 = parent,stateno = 184
trigger2 = parent,stateno = 185
persistent = 0
anim = 22
ID = 22
pos = 160,180
ownpal = 1
postype = left
sprpriority = -3
supermove = 1
ownpal = 1
ontop = 1
ignorehitpause = 1

[State 12007, nomusic]
type = AssertSpecial
triggerall = matchover = 1 
triggerall = time >= 0
trigger1 = parent,stateno = 184
trigger2 = parent,stateno = 185
flag = nomusic

[State 12007, end]
type = AssertSpecial
triggerall = matchover = 1 
triggerall = time = [0,560]
trigger1 = parent,stateno = 184
trigger2 = parent,stateno = 185
flag = roundnotover
persistant = 0

;---------------------------------------------------------------------------
; INTRO
[Statedef 191]
type = S
ctrl = 0

[State 191, intro random]
type = VarRandom
trigger1 = Time = 0
v = 15
range = 0,49

[State 191, come from sky]
type = ChangeState
trigger1 = Var(15) = [0,24]
value = 192

[State 191, power up]
type = ChangeState
trigger1 = Var(15) = [25,35]
value = 198

[State 191, Glide in]
type = ChangeState
trigger1 = Var(15) = [36,49]
value = 199
;---------------------------------------------------------------------------
; INTRO
[Statedef 192]
type = A
ctrl = 0
anim = 192
velset = 0,0

[State 191, noscrren]
type = screenbound
trigger1 = 1
value = 0

[State 191, ball]
type = Explod
trigger1 = Time = 5
anim = 7557
pos = 0,-10
postype = p1
id = 7557
sprpriority = 100
bindtime = -1
removetime = -1
ignorehitpause = 1

[State 191, ball]
type = removeexplod
trigger1 = pos y > -40
id = 7557

[State 191, sky]
type = Posset
trigger1 = time = 0
y = -300

[State 191, BGPalFX]
type  = BGPalFX
trigger1 = time = 0
time = 300
add = 10, 10, 25
mul = 50, 50, 50

[State 191, velset]
type = VelSet
trigger1 = Pos Y < -40
y = 2

[State 191, end]
type = AssertSpecial
trigger1 = Time >= 0
flag = intro

[State 191, next]
type = changestate
trigger1 = Pos Y > -40
trigger1 = anim!= 193
value = 194

[Statedef 194]
type = S
ctrl = 0
anim = 193
velset = 0,0

[State 194, crator]
type = Explod
trigger1 = animelem = 2 && time = 70
anim = 194
pos = 0,40
postype = p1
id = 194
scale = 2,1.40
sprpriority = -100
bindtime = 1
ownpal = 1
removetime = 300
ignorehitpause = 1

[State 194, Envcolor]
type = envcolor
trigger1 = animelem = 2 && time = 70
value = 250,250,250
under = 0
time = 10

[State 194, Super Sound]
type = PlaySnd
trigger1 = time = 70
value = 1,3
volume = 500

[State 194,rocks everywhere]
type = Helper
trigger1 = animelem = 2 && time = 70
trigger1 = numhelper(9200) = 0
stateno = 19201
name = "Incoming rocks!!!"
pos = 0,30;const(size.mid.pos.y)
postype = p1
id = 9200
bindtime = 1
helpertype = normal
sprpriority = 1
keyctrl = 0
ownpal = 1
under = 1

[State 194, field]
type = Explod
trigger1 = animelem = 2 && time = 70
anim = 731
pos = 0,0
postype = p1
sprpriority = -5
bindtime = -1
removetime = 100
ignorehitpause = 1
ownpal = 1

[State 194, down]
type = VelSet
trigger1 = time >= 170
y = 4

[State 194, velset]
type = VelSet
trigger1 = Pos Y >= 0
y = 0

[State 194, SparkSnd]
type = PlaySnd
trigger1 = Time = [70,100]
trigger1 = (GameTime%25)=0
value = 1, 12

[State 194, electricity]
type = Explod
triggerall = time >= 50
trigger1 = random < 50
trigger1 = numexplod(1440) < 5
anim = Ifelse(random <=499,1440,Ifelse(random <=499,1441,1442))
pos = 0,-40
id = 1440
random = 32,32
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1
ownpal = 1

[State 194, electricitysnd]
type = playsnd
triggerall = time >= 50
trigger1 = random < 50
value = 1,14

[State 194, electricitysnd]
type = playsnd
triggerall = time >= 50
trigger1 = random < 50
value = 1,13

[State 194, blink purple]
type = PalFX
triggerall = time >= 50
trigger1 = random < 50
time = 5
add = 164, 0, 164
ignorehitpause = 1

[State 194, end]
type = AssertSpecial
trigger1 = Time = [0,350]
flag = intro

;Intro: Power-up
[Statedef 198]
type = S
Movetype = I
Physics = N
Anim = 2071
ctrl = 0
poweradd = 0

[State 198, electricity]
type = Explod
trigger1 = Time >= 10
trigger1 = timemod = 2,1
anim = Ifelse(random <=499,1440,Ifelse(random <=499,1441,1442))
pos = 0,-40
random = 32,32
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1
ownpal = 1

[State 198, Purple]
type = palfx
trigger1 = time >= 10
trigger1 = timemod = 2, 0
time = 1
add = 150,0,150

[State 198, Playsnd]
type = Playsnd
trigger1 = Time = [10,320]
trigger1 = timemod = 2,0
value = 3,3

[State 198, BGPalFX]
type  = BGPalFX
trigger1 = time = 150
time = 30
add = 10, 10, 25
mul = 100, 100, 100

[State 198, BGPalFX]
type  = BGPalFX
trigger1 = time = 180
time = 30
add = 10, 10, 25
mul = 50, 50, 50

[State 198, BGPalFX]
type  = BGPalFX
trigger1 = time >= 210
time = 1
add = 10, 10, 25
mul = 10, 10, 10

[state 198,stop]
type = velset
trigger1 = time = 0
x = 0
y = 0

[State 198,shake] 
type = EnvShake
trigger1 = Time >= 240
trigger1 = timemod = 4,1
time = 4
ampl = 4
freq = 127

[State 198, dust]
type = Explod
trigger1 = Time = 280
trigger2 = time = 300
anim = 5412
pos = 10,2
facing = -1
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1
ownpal = 1

[State 198, dust]
type = Explod
trigger1 = Time = 280
trigger2 = time = 300
anim = 5412
pos = -10,2
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1
ownpal = 1

[State 198, Field]
type = Explod
trigger1 = time = 320
anim = 731
id = 732
pos = -0,0
postype = p1
removetime = -1
sprpriority = -100
bindtime = -1
ignorehitpause = 1

[State 198, playsnd]
type = PlaySnd
trigger1 = Time = 320
value = 1, 3

[State 198, SparkSnd]
type = PlaySnd
trigger1 = Time >= 330
trigger1 = (GameTime%25)=0
value = 1, 12

[State 198, Envcolor]
type = envcolor
trigger1 = time = 320
value = 250,250,250
under = 0
time = 10

[State 198, rocks]
type = explod
trigger1 = timemod = 6, 1
trigger1 = time >= 360
anim = Ifelse(random <=499,502,501)
id = 502
sprpriority = 99
pos = 0,-11
postype = p1
random = 72,64
ownpal = 1
removetime = 100
vel = 0,-8

[State 198,rocks everywhere]
type = Helper
trigger1 = time = 320
trigger1 = numhelper(9200) = 0
stateno = 19201
name = "Incoming rocks!!!"
pos = 0,30;const(size.mid.pos.y)
postype = p1
id = 9200
bindtime = 1
helpertype = normal
sprpriority = 1
keyctrl = 0
ownpal = 1
under = 1

[State 194, end]
type = AssertSpecial
trigger1 = Time = [0,500]
flag = intro

;Teleport in
[Statedef 199]
type = S
Movetype = I
Physics = N
Anim = 199
ctrl = 0
poweradd = 0

[state 199,stop]
type = velset
trigger1 = time = 0
x = 0
y = 0

[State 199, BGPalFX]
type  = BGPalFX
trigger1 = time = 0
time = 30
add = 10, 10, 25
mul = 60, 60, 60
color = 0

[state 199,ground]
type = Posset
trigger1 = Pos Y >= 0
y = 0

[State 199, reappear upward]
type = Helper
trigger1 = time = 0
stateno = 2061
postype = p1
pos = 0,100
bindtime = 1
ownpal = 1
name = "reappear"
id = 2064

[State 199, reappear downward]
type = Helper
trigger1 = time = 0
stateno = 2062
postype = p1
pos = 0,-100
bindtime = 1
ownpal = 1
name = "reappear"
id = 2063

[State 199, PlaySnd]
type = PlaySnd
trigger1 = Time = 2
value = 1,17
volume = 500

[state 199,next]
type = Assertspecial
trigger1 = time = [0,80]
flag = intro

;--------------------------------------------------------------------------------
; PUNCH_A
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 10
ctrl = 0
velset = 0,0
anim = 200

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,4

[State 200, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 10
getpower = 0
givepower = 0
guardflag = MA
pausetime = 11,11
sparkno = 0
sparkxy = 19,-49
hitsound   = S0,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2

[State 200, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = movehit
var(1) = 3

[State Fly]
type = Changestate
trigger1 = Animtime = 0 && Pos y < 0
value = 2051

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Medium Punch
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 10
ctrl = 0
velset = 0,0
anim = 210

[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 5

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 35
getpower = 0
givepower = 0
guardflag = MA
pausetime = 11,11
sparkno = 1
sparkxy = -2, -32
hitsound   = S0,1
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2

[State 210, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = movehit
var(1) = 6

[State Fly]
type = Changestate
trigger1 = Animtime = 0 && Pos y < 0
value = 2051

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing strong punch
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = 65
ctrl = 0
velset = 0,0
anim = 220

[State 220, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 6

[State 220, hit]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Medium
damage    = 57
guardflag = MA
pausetime = 12,12
sparkno = 2
sparkxy = -10,-70
hitsound   = S0,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 220, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = movehit
var(1) = 9

[State Fly]
type = Changestate
trigger1 = Animtime = 0 && Pos y < 0
value = 2051

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;weak kick
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 20
ctrl = 0
velset = 0,0
anim = 230

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0,4

[State 230, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage = 10
getpower = 0
givepower = 0
guardflag = MA
numhits = 1
pausetime = 5,10
sparkno = 0
sparkxy = 5, -59
hitsound   = S0,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = 0

[State 230, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = movehit
var(1) = 3

[State Fly]
type = Changestate
trigger1 = Animtime = 0 && Pos y < 0
value = 2051

[State 230, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;medium kick
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 35
ctrl = 0
velset = 0,0
anim = 240

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 5

[State 240, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 25
getpower = 0
givepower = 0
guardflag = MA
pausetime = 5,10
sparkno = 1
sparkxy = 19,-49
hitsound   = S0,1
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = 0

[State 240, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = movehit
var(1) = 6

[State Fly]
type = Changestate
trigger1 = Animtime = 0 && Pos y < 0
value = 2051

[State 240, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Standing strong kick
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 250
sprpriority = 2

[State 250, 2]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
attr = S, NA
animtype  = Medium
damage    = 23
guardflag = MA
pausetime = 5,15
sparkno = 2
sparkxy = -10,-60
hitsound   = S0,2
guardsound = 6,0
ground.type = high
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -10
air.velocity = -2.2,-3.2

[State 250, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 6

[State 250, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = movehit
var(1) = 9

[State Fly]
type = Changestate
trigger1 = Animtime = 0 && Pos y < 0
value = 2051

[State 250, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;CROUCH_A
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 2
poweradd= 10
ctrl = 0
anim = 400

[State 400, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 4

[State 400, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = P2Stateno != 204
trigger1 = P2Stateno != 203
trigger2 = P2Stateno = 5040
attr = C, NA
damage    = 10
getpower  = 0
givepower = 0
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkxy = 20,-30
sparkno = 0
hitsound   = S0,0
guardsound = 6,0
ground.type = low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5   
air.velocity = -1.2,-3
guard.velocity = -5

[State 400, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = movehit
var(1) = 3

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;CROUCH_B
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 4
poweradd= 10
ctrl = 0
anim = 410

[State 410, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 5

[State 410, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = P2Stateno != 204
trigger1 = P2Stateno != 203
trigger2 = P2Stateno = 5040
attr = C, NA
damage    = 35
getpower  = 0
givepower = 0
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkxy = 23,-5
sparkno = 1
hitsound   = S0,1
guardsound = 6,0
ground.type = low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5   
air.velocity = -1.2,-3
guard.velocity = -5

[State 410, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = movehit
var(1) = 6

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;CROUCH_c
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 9
poweradd= 10
ctrl = 0
anim = 420

[State 420, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 6

[State 420, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = P2Stateno != 204
trigger1 = P2Stateno != 203
trigger2 = P2Stateno = 5040
attr = C, NA
damage    = 23
getpower  = 0
givepower = 0
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkxy = 23,-5
sparkno = 2
hitsound   = S0,2
guardsound = 6,0
ground.type = low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5   
air.velocity = -1.2,-3
guard.velocity = -5
p2stateno = 203

[State 420, aircombo]
type = ChangeState
trigger1 = Movehit = 1
trigger1 = Pos Y >= 0
trigger1 = command = "holdup"
trigger1 = time > 0
trigger1 = time < 20
value = 710
ctrl = 1

[State 420, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = movehit
var(1) = 9

[State 420, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching light kick
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 2
poweradd= 22
ctrl = 0
anim = 430
sprpriority = 2

[State 430, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 4

[State 430, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = P2Stateno != 204
trigger1 = P2Stateno != 203
trigger2 = P2Stateno = 5040
attr = C, NA
damage    = 22
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = 0
sparkxy = -10,-8
hitsound   = S0,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 430, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = movehit
var(1) = 3

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch medium Kick
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 4
poweradd= 70
ctrl = 0
anim = 440
sprpriority = 2

[State 440, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 5

[State 440, 3]
type = HitDef
trigger1 = animelem = 3
trigger1 = P2Stateno != 204
trigger1 = P2Stateno != 203
trigger2 = P2Stateno = 5040
attr = C, NA
damage    = 32
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = 1
sparkxy = -5,-10
hitsound   = S0,1
guardsound = 6,0
ground.type = low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5
air.velocity = -1.2,-3
guard.velocity = -5

[State 440, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = movehit
var(1) = 6

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;Crouch strong Kick
[Statedef 450]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 70
ctrl = 0
anim = 450
sprpriority = 2

[State 450, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 6

[State 450, velset]
type = velset
trigger1 = Time = 6
x = 5

[State 450, 3]
type = HitDef
trigger1 = animelem = 2
trigger1 = P2Stateno != 204
trigger1 = P2Stateno != 203
trigger2 = P2Stateno = 5040
attr = C, NA
damage    = 52
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = 2
sparkxy = -5,-10
hitsound   = S0,2
guardsound = 6,0
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5,-2
air.velocity = -1.2,-3
guard.velocity = -5
fall = 1

[State 450, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = movehit
var(1) = 9

[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;Short Super Jump (air combo)
[Statedef 710]
physics = N
type = A
anim = 41 ;700
ctrl = 0
velset = 0,-110

[State 700, 1]
type = ChangeAnim
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger1 = Time < 5
trigger1 = pos Y < 2
value = 42

[State 700, 1]
type = ChangeAnim
trigger1 = command = "holdback"
trigger1 = command != "holdfwd"
trigger1 = Time < 5
trigger1 = pos Y < 2
value = 43

[State 701, 1]
type = Playsnd
trigger1 = time = 1
persistent = 0
value = 1,11

[State 700, 2]
type = VelAdd
triggerall = Time >= 7;5
trigger1 = Anim = 41;700
trigger2 = Anim = 42
trigger3 = Anim = 45
trigger4 = Anim = 43
trigger5 = Anim = 44
trigger6 = Anim = 46
y = 0.6
  
[State 700, 2]
type = VelMul
trigger1 = Time = 0
y = 0.10
  
[State 700, 3]
type = VelSet
triggerall = Pos Y <= 300
trigger1 = Anim = 701
;trigger2 = Anim = 42
y = 14
  
[State 700, 4]
type = CtrlSet
trigger1 = Time >=4
value = 1

[State 700, 6]
type = VelSet
trigger1 = Time < 3 
;trigger1 = Vel X = 0
trigger1 = Anim = 42
x = 2  

[State 700, 6]
type = VelSet
trigger1 = Time < 3 
trigger1 = Anim = 43
x = -2
  
[State 700, 6]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = Time >= 0
trigger1 = Vel X = 0
x = 0
  
[State 700, 7]
type = ChangeState
trigger1 = Pos Y >= 15
value = 52
ctrl = 1

;=-=-=-=-=-=-=-=-=-=-=-=--=-=-=-=-=-=
;aircombo system: p2side
;=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
[Statedef 203]
physics = N
type = A
movetype = H
anim = 5030
ctrl = 0
velset = 0,-10;67

[State 203, 1]
type = PosFreeze
trigger1 = Time >=0
trigger1 = Time < 4

[State 203, 1]
type = VelAdd
trigger1 = Time >= 21;1
trigger1 = Anim = 5030
y = 0.3

[State 203, 1] 
type = VelMul
trigger1 = Time = 20
y = 0.2

[State 203, 1] 
type = VelMul
trigger1 = Time >= 4
x = 0.72

[State 203, 2] ;gravity
type = Veladd
trigger1 = Time >= 29;8
trigger1 = Time <= 28;13
y = 1.5

[State 203, 2] ;gravity
type = Veladd
trigger1 = Time > 32;13
;trigger1 = Time <= 33;14
y = 8;12

[State 203,3]
type = ChangeAnim
trigger1 = Vel Y >= -30
trigger1 = Anim != 5210
trigger1 = Time > 33;8
value = 5210

[State 203,3]
type = SelfState
trigger1 = HitCount = 1
value = 5020

[State 203,3]
type = Changestate
trigger1 = time >=35;5
value = 204

[Statedef 204]
physics = N
type = A
movetype = H
ctrl = 0
velset = 0,0

[State 204,1]
type = Veladd
trigger1 = time >=1
y = 0.85

[State 204,3]
type = ChangeAnim
;trigger1 = Vel Y >= -30
trigger1 = Anim != 5210
trigger1 = Time > 4
value = 5210

[State 204,4]
type = SelfState
trigger1 = time > 13
trigger1 = command = "holdback"
value = 132

[State 204,5]
type = SelfState
trigger1 = HitCount = 1
value = 5020

[State 204, 5] 
type = SelfState
triggerall = alive = 1
trigger1 = Time >= 14
trigger1 = vel Y > 0
trigger1 = pos Y >= -2
value = 52

[State 204, 6] 
type = SelfState
triggerall = alive = 0
trigger1 = pos Y >= -2
trigger1 = vel Y > 0
trigger1 = Time >= 14
value = 5100

;---------------------------------------------------------------------------
;Jump Light Punch
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 600
sprpriority = 2

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 4

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 10
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = 0
sparkxy = -10,-58
hitsound   = S0,0
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

[State 600, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = movehit
var(1) = 3

[State 600, 3]
type = changestate
trigger1 = animtime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Jump medium Punch
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 610
sprpriority = 2

[State 610, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 5

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 20
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 1
sparkxy = -10,-55
hitsound   = S0,1
guardsound = 6,0
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,-4

[State 610, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = movehit
var(1) = 6

[State 610, end]
type = changestate
trigger1 = animtime = 0
value = 50
ctrl = 1

;Jump strong Punch
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 620
sprpriority = 2

[State 620, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 35
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 2
sparkxy = -10,-55
hitsound   = S0,2
guardsound = 6,0
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -5,5
fall.recover = 0
fall = 1
air.fall = 1

[State 620, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = movehit
var(1) = 9

[State 620, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 6

;[state 620, 4]
;type = changestate
;trigger1 = time = 35
;value = 50
;ctrl = 1

;---------------------------------------------------------------------------
;Jump Light Kick
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 20
ctrl = 0
anim = 630
sprpriority = 2

[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 4

[State 630, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 10
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = 0
sparkxy = -5,-35
hitsound   = S0,0
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -4
air.velocity = -2,-3

[State 630, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = movehit
var(1) = 3

[State 630, end]
type = changestate
trigger1 = animtime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Jump medium Kick
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 640
sprpriority = 2

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 5

[State 640, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 20
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 1
sparkxy = -10,-40
hitsound   = S0,1
guardsound = 6,0
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,-2

[State 640, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = movehit
var(1) = 6

[State 640,end]
type = changestate
trigger1 = animtime = 0
value = 50
ctrl = 1

;Jump strong Kick
[Statedef 650]
type    = A
movetype= A
physics = A
juggle  = 6
poweradd= 65
ctrl = 0
anim = 650
sprpriority = 2

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 6

[State 650, 3]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
damage    = 35
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 2
sparkxy = -10,-40
hitsound   = S0,2
guardsound = 6,0
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -5,7
fall.recover = 0
fall = 1
air.fall = 1

[State 650, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = movehit
var(1) = 9

[State 650, end]
type = changestate
trigger1 = animtime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------
;Energy stream - close
[Statedef 1002]
type    = S
movetype= A
physics = S
poweradd= 70
ctrl = 0
anim = 1003
velset = 0,0

[State 1002, freeza]
type = null;PlaySnd
trigger1 = AnimElem = 2
value = 0,14
volume = 500

[State 1002,wind sound]
type = PlaySnd
trigger1 = time = 6
trigger2 = time = 10
trigger3 = time = 14
value = 0,8

[State 1002,proj]
type = Projectile
trigger1 = time = 6
projanim = 1002
projremovetime = 20
projscale = 1.40,1.40
projremove = 0
projpriority = 1
offset = 35,0
velocity = 0,0
attr = S, SP
damage   = 30,10
animtype = back
guardflag = MA
hitflag = MAFDP
sparkxy = 0,-40
sparkno = 1
pausetime = 0,5
hitsound   = S0,3
guardsound = 6,0
ground.type = low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -5
air.velocity = -2,-6
air.juggle = 4

[State 1002,proj]
type = Projectile
trigger1 = time = 10
projscale = 1.40,1.40
projanim = 1002
projremovetime = 20
projremove = 0
projpriority = 1
offset = 55,0
velocity = 0,0
attr = S, SP
damage   = 30,10
animtype = back
guardflag = MA
hitflag = MAFDP
sparkxy = 0,-40
sparkno = 1
pausetime = 0,5
hitsound   = S0,3
guardsound = 6,0
ground.type = low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -5
air.velocity = -2,-6
air.juggle = 4

[State 1002,proj]
type = Projectile
trigger1 = time = 14
projanim = 1002
projremovetime = 20
projscale = 1.40,1.40
projremove = 0
projpriority = 1
offset = 75,0
velocity = 0,0
attr = S, SP
damage   = 30,10
animtype = back
guardflag = MA
hitflag = MAFDP
sparkxy = 0,-40
sparkno = 1
pausetime = 0,5
hitsound   = S0,3
guardsound = 6,0
ground.type = low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -5,-5
air.velocity = -2,-6
air.juggle = 4
fall = 1

[State 1002, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = projhit = 1
var(1) = 24

[State Fly]
type = Changestate
trigger1 = Animtime = 0 && Pos y < 0
value = 2051

[State 1002, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Energy stream - Mid
[Statedef 1003]
type    = S
movetype= A
physics = S
poweradd= 70
ctrl = 0
anim = 1003
velset = 0,0

[State 1003, freeza]
type = null;PlaySnd
trigger1 = AnimElem = 2
value = 0,14
volume = 500

[State 1003,wind sound]
type = PlaySnd
trigger1 = time = 6
trigger2 = time = 10
trigger3 = time = 14
value = 0,8

[State 1003,proj]
type = Projectile
trigger1 = time = 6
projanim = 1002
projremovetime = 20
projscale = 1.40,1.40
projremove = 0
projpriority = 1
offset = 85,0
velocity = 0,0
attr = S, SP
damage   = 30,10
animtype = back
guardflag = MA
hitflag = MAFDP
sparkxy = 0,-40
sparkno = 1
pausetime = 0,5
hitsound   = S0,3
guardsound = 6,0
ground.type = low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -5
air.velocity = -2,-6
air.juggle = 4

[State 1003,proj]
type = Projectile
trigger1 = time = 10
projscale = 1.40,1.40
projanim = 1002
projremovetime = 20
projremove = 0
projpriority = 1
offset = 105,0
velocity = 0,0
attr = S, SP
damage   = 30,10
animtype = back
guardflag = MA
hitflag = MAFDP
sparkxy = 0,-40
sparkno = 1
pausetime = 0,5
hitsound   = S0,3
guardsound = 6,0
ground.type = low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -5
air.velocity = -2,-6
air.juggle = 4

[State 1003,proj]
type = Projectile
trigger1 = time = 14
projanim = 1002
projremovetime = 20
projscale = 1.40,1.40
projremove = 0
projpriority = 1
offset = 125,0
velocity = 0,0
attr = S, SP
damage   = 30,10
animtype = back
guardflag = MA
hitflag = MAFDP
sparkxy = 0,-40
sparkno = 1
pausetime = 0,5
hitsound   = S0,3
guardsound = 6,0
ground.type = low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -5,-5
air.velocity = -2,-6
air.juggle = 4
fall = 1

[State 1003, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = projhit = 1
var(1) = 24

[State Fly]
type = Changestate
trigger1 = Animtime = 0 && Pos y < 0
value = 2051

[State 1003, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Energy stream - Far
[Statedef 1004]
type    = S
movetype= A
physics = S
poweradd= 70
ctrl = 0
anim = 1003
velset = 0,0

[State 1004, freeza]
type = null;PlaySnd
trigger1 = AnimElem = 2
value = 0,14
volume = 500

[State 1004,wind sound]
type = PlaySnd
trigger1 = time = 6
trigger2 = time = 10
trigger3 = time = 14
value = 0,8

[State 1004,proj]
type = Projectile
trigger1 = time = 6
projanim = 1002
projremovetime = 20
projscale = 1.40,1.40
projremove = 0
projpriority = 1
offset = 135,0
velocity = 0,0
attr = S, SP
damage   = 30,10
animtype = back
guardflag = MA
hitflag = MAFDP
sparkxy = 0,-40
sparkno = 1
pausetime = 0,5
hitsound   = S0,3
guardsound = 6,0
ground.type = low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -5
air.velocity = -2,-6
air.juggle = 4

[State 1004,proj]
type = Projectile
trigger1 = time = 10
projscale = 1.40,1.40
projanim = 1002
projremovetime = 20
projremove = 0
projpriority = 1
offset = 155,0
velocity = 0,0
attr = S, SP
damage   = 30,10
animtype = back
guardflag = MA
hitflag = MAFDP
sparkxy = 0,-40
sparkno = 1
pausetime = 0,5
hitsound   = S0,3
guardsound = 6,0
ground.type = low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -5
air.velocity = -2,-6
air.juggle = 4

[State 1004,proj]
type = Projectile
trigger1 = time = 14
projanim = 1002
projremovetime = 20
projscale = 1.40,1.40
projremove = 0
projpriority = 1
offset = 175,0
velocity = 0,0
attr = S, SP
damage   = 30,10
animtype = back
guardflag = MA
hitflag = MAFDP
sparkxy = 0,-40
sparkno = 1
pausetime = 0,5
hitsound   = S0,3
guardsound = 6,0
ground.type = low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -5,-5
air.velocity = -2,-6
air.juggle = 4
fall = 1

[State 1004, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = projhit = 1
var(1) = 24

[State Fly]
type = Changestate
trigger1 = Animtime = 0 && Pos y < 0
value = 2051

[State 1004, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Energy elbow
[Statedef 1005]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1005

[State 1005, dust]
type = Explod
trigger1 = Time = 0
persistent = 0
anim = 5412
pos = -30,2
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1

[State 1005, minidust]
type = Explod
trigger1 = Time >= 12
anim = 715
pos = 0,10
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1

[State 1005, playsnd]
type = PlaySnd
trigger1 = time = 12
value = 0, 9

[State 1005,a.image]
type = AfterImage
trigger1 = Time = 12
trans = add1
TimeGap  = 1
FrameGap = 3
time = 20
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1005, velset]
type = velset
trigger1 = time >= 12
x = 10

[State 1005, hit]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype  = Medium
damage    = 40,20
guardflag = MA
pausetime = 11,11
sparkxy = -2,-45
hitsound   = S0,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2
;p1stateno = 1006

[State 1005, end]
type = ChangeState
trigger1 = movehit = 1
value = 1006

[State 1005, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 3345
ctrl = 0

;slide fwd(miss)
[Statedef 3345]
type = S
movetype = I
physics = S
ctrl = 0
anim = 3345
sprpriority = 1

[State 3345, playsnd]
type = PlaySnd
trigger1 = Time = 0
value = 0, 10

[State 3345, posset]
type = posset
trigger1 = Time = 0
y = 0

[State 3345, veladd]
type = Velset
trigger1 = Timemod = 2,1
x = .60
y = 0

[State 3345, end]
type = ChangeState
trigger1 = time > 20 
value = 0
ctrl = 1

;Energy elbow pt2
[Statedef 1006]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1006

[State 1006, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = time = 10
var(1) = 120
ignorehitpause = 1

[State 1006, velset]
type = velset
trigger1 = time = 0
x = 3

[State 1006, allpfx]
type = allpalfx
trigger1 = time = 10
time = 20
add = 80,0,110
sinadd = 80,0,110

[State 1006, purplehit]
type = Explod
trigger1 = Time = 10
persistent = 0
anim = 2322
pos = 30,-30
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1

[State 1006, purplewind]
type = Explod
trigger1 = Time = 10
persistent = 0
anim = 2321
pos = 30,-30
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1

[State 1006, playsnd]
type = velset
trigger1 = time = 0
x = 0
y = 0

[State 1006, velset]
type = velset
trigger1 = time = 10
x = 5
y = 0

[State 1006, playsnd]
type = PlaySnd
trigger1 = time = 10
value = 0, 11

[State 1006, aimage]
type = AfterImage
trigger1= time = 10 
time = 20
trans = add
PalContrast =  225,255,255
PalBright = 10,10,10

[State 1006, hit]
type = HitDef
trigger1 = time = 10
attr = S, SA
animtype  = Medium
damage    = 40,20
guardflag = MA
pausetime = 11,11
sparkxy = -2,-45
hitsound   = S0,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2
palfx.add = 110,0,110
palfx.sinadd = 110,0,110
palfx.time = 70
;palfx.invertall = 1 
p2stateno = 3001

[State 1006, ScreenBound]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 0,0

[State 1006, end]
type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1

[State 1006, end]
type = ChangeState
trigger1 = p2stateno = 1014
trigger1 = frontedgedist > 10
value = 1007
ctrl = 0

[State 1006, end]
type = ChangeState
trigger1 = p2stateno = 1014
trigger1 = frontedgedist < 10
value = 0
ctrl = 1

; RUN_FWD(Off screen)
[Statedef 1007]
type    = S
physics = S
anim = 100
sprpriority = 1

[State 100, 1]
type = VelSet
trigger1 = time >= 0
x = const(velocity.run.fwd.x)

[State 100, 3]
type = playsnd
trigger1 = time = 0
value = 0,9

[State 100, 4]
type = ChangeState
trigger1 = P2bodydist x = [5,90]
trigger2 = frontedgedist < 40
value = 3345
ctrl = 0

;P2 hitshake
[Statedef 3001]
type    = A
movetype= H
physics = N
velset = 0,0

[State 3001, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = Time >= 0
value = 1012

[State 3001, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 3002

;------------------
;Flying through air
[Statedef 3002]
type    = A
movetype= A
physics = N
velset = -20,0

[State 3002, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = Time >= 0
value = 1012

[State 3002, PlayerPush]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 3002, Hit wall]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 0
trigger2 = FrontEdgeBodyDist <= 0
trigger3 = P2MoveType != A
value = 1014

[State 3002, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;------------------
;Hit wall
[Statedef 1014]
type    = A
movetype= H
physics = N

[State 1014, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1014, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1014, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1014, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1014, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 1014, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1014

[State 1014, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 20,0

[State 1014, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 1015

;Bounce off wall
[Statedef 1015]
type    = A
movetype= H
physics = N

[State 1015, 1]
type = NotHitBy
trigger1 = Time >= 0
value = , NA, NP

[State 1015, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -3

[State 1015, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1015, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1015, Gravity]
type = VelAdd
trigger1 = Time >= 0
y = .35

[State 1015, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1015, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1015, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1015, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1015, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;Tele-attack: dash foward
[Statedef 1017]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1017
sprpriority = 1

[State 1017, playsnd]
type = PlaySnd
trigger1 = Time = 0
value = 0, 10

[State 1017, posset]
type = posset
trigger1 = Time = 0
y = 0

[State 1017, veladd]
type = Velset
trigger1 = time >= 5
x = 10
y = 0

[State 1017, cancel]
type = ChangeState
triggerall = time >= 5
trigger1 = Command = "a"
trigger2 = command = "b"
trigger3 = command = "c" 
value = 3345
ctrl = 0

[State 1017, next]
type = ChangeState
triggerall = time >= 5
trigger1 = Command = "x"
trigger2 = command = "y"
trigger3 = command = "z" 
value = 1016
ctrl = 0

[State 1017, next]
type = ChangeState
trigger1 = p2bodydist x < 40 
value = 1016
ctrl = 0

;Tele-Attack
[Statedef 1016]
type = S
movetype = A
physics = S
anim = 90
poweradd = 40
velset = 0
ctrl = 0

[State 1017,playsnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0,9

[State 1017,explod]
type = Explod
trigger1 = time = 0
anim = 1018
sprpriority = 99
postype = p1
pos = 0,0
shadow = 68,68,68
removetime = -2
bindtime = 1

[State 1017,posset]
type = posset
trigger1 = Time = 1
y = -150

[State 1017,next]
type = ChangeState
trigger1 = Time = 3
value = 1018
;---------------------------------------------------------------------------
;Come from sky
[Statedef 1018]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 0
ctrl = 0
anim = 1019

[State 1018, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,12
volume = 500

[State 1018, HitDef]
type = HitDef
trigger1 = Time >= 15
trigger1 = hitcount < 6
attr = A, SA
animtype  = Heavy
damage    = 10,5
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 5,10
sparkno = 1
sparkxy = 0,-70
hitsound   = S0,3
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -6
air.type = Low
air.velocity = -6,-8

[State 1018, HitDef]
type = HitDef
trigger1 = Time >= 15
trigger1 = hitcount = 6
attr = A, SA
animtype  = Heavy
damage    = 50, 20
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 10,10
sparkno = 1
sparkxy = 0,-70
hitsound   = S0,3
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -6
air.velocity = -6,1
air.type = Low
air.velocity = -6,-8
fall.recover = 0
air.fall = 1

[State 1018, VelSet]
type = VelSet
trigger1 = Time >= 15
x = 6
y = 8

[State 1018, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 1018, ChangeState]
type = ChangeState
trigger1 = pos y >= 0
value = 50
ctrl = 1

;Levitate
[Statedef 1019]
type    = S
movetype= A
physics = S
poweradd= 70
ctrl = 0
anim = 1023
velset = 0,0

[State 1019, freeza]
type = null;PlaySnd
trigger1 = AnimElem = 2
value = 0,14
volume = 500

[State 1019,proj]
type = Projectile
trigger1 = animelem = 3
projanim = 1020
projremovetime = 20
projremove = 0
projpriority = 99
offset = 80,0
velocity = 0,0
attr = S, SP
damage   = 30,10
animtype = back
guardflag = MA
hitflag = MA
sparkxy = 0,-40
sparkno = 1
pausetime = 0,5
hitsound   = S0,13
guardsound = 6,0
ground.type = low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -5,-5
air.velocity = -2,-6
air.juggle = 4
fall = 1
p1stateno = 1021
p2stateno = 1020

[State 1019, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = projhit = 1
var(1) = 24

[State 1019, allpfx]
type = allpalfx
trigger1 = animelem = 3
time = 5
add = 80,0,110
sinadd = 80,0,110

[State 1019, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
ampl = 8

[State 1019, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Levitate P1
[Statedef 1021]
type    = S
movetype= I
physics = N
poweradd= 70
ctrl = 0
anim = 1022
velset = 0,0

[State 450, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = time = 0
var(1) = 210

[State 1021,proj]
type = Projectile
trigger1 = time >= 5
trigger1 = Command = "a"
projanim = 1020
projremovetime = 5
projremove = 0
projpriority = 1
offset = 0,0
Postype = p2
velocity = 0,0
attr = S, SP
damage   = 75
animtype = back
guardflag = MA
hitflag = MA
sparkxy = 0,-40
sparkno = -1
pausetime = 0,5
hitsound   = S0,3
guardsound = 6,0
ground.type = low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -0,-30
air.velocity = -0,-30
fall.damage = 30
down.velocity = 0,0
fall.envshake.time = 30
fall.envshake.ampl = 10
air.juggle = 15
fall.recover = 0
air.fall = 1
fall = 1

[State 1021,proj]
type = Projectile
Trigger1 = time >= 5
trigger1 = Command = "b"
projanim = 1020
projremovetime = 5
projremove = 0
projpriority = 1
offset = 0,0
Postype = p2
velocity = 0,0
attr = S, SP
damage   = 75
animtype = back
guardflag = MA
hitflag = MA
sparkxy = 0,-40
sparkno = -1
pausetime = 0,5
hitsound   = S0,0
guardsound = 6,0
ground.type = low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -5,-5
air.velocity = -2,-6
p2stateno = 3011
fall.recover = 0
air.fall = 1
fall = 1

[State 1021,proj]
type = Projectile
Trigger1 = time >= 5
trigger1 = Command = "c"
projanim = 1020
projremovetime = 5
projremanim = 1400
projremove = 0
projpriority = 1
offset = 0,0
Postype = p2
velocity = 0,0
attr = S, SP
damage   = 120,30
animtype = back
guardflag = MA
hitflag = MA
sparkxy = 0,-40
sparkno = 1
pausetime = 0,5
hitsound   = S0,3
guardsound = 6,0
ground.type = low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -5,-5
air.velocity = -2,-6
p2stateno = 3010
fall.recover = 0
air.fall = 1
fall = 1
palfx.add = 80,0,110
palfx.time = 70
palfx.invertall = 1 

[State 1021, end]
type = Changeanim
trigger1 = command = "b"
value = 1024

[State 1021, end]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = command = "c"
trigger3 = command = "a"
value = 0
ctrl = 1

; Hit by Levitate c
[Statedef 3010]
type = A
movetype = H
physics = N
ctrl = 0
anim = 5030

[State 3010, defset]
type = DefenceMulSet
trigger1 = time = 0
value = 1

[State 3010, nothitby]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 3010, envshake]
type = EnvShake
trigger1 = time = 0
trigger2 = (Vel Y > 0) && (Pos Y >= 0)
time = 20
ampl = 5

[State 3010, posfreeze]
type = PosFreeze
trigger1 = HitShakeOver = 0

[State 3010, forcefeed]
type = ForceFeedBack
trigger1 = HitShakeOver = 0
time = 1
waveform = square

[State 3010, posadd]
type = posadd
trigger1 = HitShakeOver = 1
persistent = 0
y = -65

[State 3010, white]
type = EnvColor
trigger1 = (time = 0) && (life > 0)
time = 2
value = 240,240,240
under = 1
ignorepausetime = 1

[State 3010, changeanim]
type = ChangeAnim2
trigger1 = HitShakeOver = 1
persistent = 0
value = 3010

[State 3010, hitvelset]
type = HitVelSet
trigger1 = HitShakeOver = 1
persistent = 0
x = 1
y = 1

[State 3010, veladd]
type = VelAdd
trigger1 = HitShakeOver = 1
y = 0.4

[State 3010, end]
type = SelfState
triggerall = Anim = 3010
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 5100

;Levitate p2 side
[Statedef 1020]
type = A
movetype = I
physics = N

[State 1020, changeanim]
type = changeanim2
trigger1 = Time = 0
value = 1021

[State 1020, Float up]
type = velset
trigger1 = time = 10
trigger1 = pos y > -80
x = 1.5
y = -10


[State 1020, stop]
type = velset
trigger1 = pos y <= -80
x = 0
y = 0

[State 1020, end]
type = selfstate
trigger1 = Time = 120
value = 5050

;P2 hitshake
[Statedef 3011]
type    = A
movetype= H
physics = N
velset = 0,0

[State 3011, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = Time >= 0
value = 1012

[State 3011, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 3012

;------------------
;Flying through air
[Statedef 3012]
type    = A
movetype= A
physics = N
velset = -20,0

[State 3012, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = Time >= 0
value = 1012

[State 3012, PlayerPush]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 3012, Hit wall]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 0
trigger2 = FrontEdgeBodyDist <= 0
trigger3 = P2MoveType != A
value = 3013

[State 3012, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;------------------
;Hit wall
[Statedef 3013]
type    = A
movetype= H
physics = N

[State 3013, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 3013, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 3013, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 3013, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 3013, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 3013, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1014

[State 3013, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 20,0

[State 3013, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 3014

;Bounce off wall
[Statedef 3014]
type    = A
movetype= H
physics = N

[State 3014, 1]
type = NotHitBy
trigger1 = Time >= 0
value = , NA, NP

[State 3014, Vel X]
type = VelSet
trigger1 = time = 0
trigger1 = Frontedgedist = [0,30]
x = 12

[State 3014, Vel X]
type = VelSet
trigger1 = backedgedist = [0,30]
x = 12

[State 3014, Spark]
type = Explod
trigger1 = Frontedgedist = [0,30]
anim = F72
pos = 0, floor (screenpos y) - 50
postype = Front
sprpriority = 3

[State 3014, Spark]
type = Explod
trigger1 = Backedgedist = [0,30]
anim = F72
pos = 0, floor (screenpos y) - 50
postype = Back
sprpriority = 3

[State 3014, Lifeadd]
type = lifeadd
trigger1 = Frontedgedist = [0,30]
trigger2 = Backedgedist = [0,30]
value = -1

[State 3014, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 3014, envshake]
type = EnvShake
trigger1 = Frontedgedist = [0,30]
trigger2 = Backedgedist = [0,30]
time = 20
ampl = 5

[State 3014, next]
type = ChangeState
trigger1 = time = 90
value = 3001

;Evil energy Beam
[Statedef 1025]
type    = S
movetype= I
physics = S
anim = 1025
poweradd = 100
velset = 0
ctrl = 0

[State 1025, Energy Beam]
type = Helper
trigger1 = Time = 16
postype = p1
pos = 25,-46
stateno = 1026
bindtime = 1
ownpal = 1
name = "Energy Beam"
id = 1026
ignorehitpause = 1

[State 1025, purplewind]
type = Explod
trigger1 = Time = 25
persistent = 0
anim = 2321
pos = 30,-30
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1

[State 1025,varadd]
type = varadd
trigger1 = time = 0
v = 2
value = 65

[State 1025, playsnd]
type = velset
trigger1 = pos y < 0
x = 0
y = 0

[State Fly]
type = Changestate
trigger1 = Animtime = 0 && Pos y < 0
value = 2051

[State 1025,end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Evil energy beam helper
[Statedef 1026]
type    = S
movetype= A
physics = S
poweradd = 25
ctrl = 0
velset = 0,0
anim = 1026
sprpriority = 9999
juggle = 5

[State 1025,varadd]
type = parentvaradd
trigger1 = time = 0
v = 13
value = 1

[State 1026, Particle holder]
type = Helper
trigger1 = Time = 4
postype = p1
pos = 0,0
stateno = 1028
bindtime = 1
ownpal = 1
name = "Twinkle holder"
id = 1028
ignorehitpause = 1

[State 1026, playsnd]
type = PlaySnd
trigger1 = Time = 0
value = 0,14

[State 1026, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1026
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1026, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AT
ignorehitpause = 1

[State 1026, HitBy]
type = HitBy
trigger1 = 1
time = 1
value = SCA, AP
ignorehitpause = 1

[State 1026, BGPalFX]
type  = BGPalFX
trigger1 = time = 0
time = 36
add = 10, 10, 25
mul = 100, 100, 100

[State 1026,envshake]
type = envshake
trigger1 = time = 0
time = 30
freq = 88
ampl = -5
phase = 10

[State 1026,Bindtoroot]
type = Bindtoroot
trigger1 = time >= 0 && Parent,stateno = 1134
pos = 25, -46
time = 1

[State 1026, assertspecial]
type = assertspecial
trigger1 = parent,stateno = 1030
trigger1 = P2statetype = S
trigger1 = time >= 0
flag = unguardable

[State 1026, hitdef]
type = HitDef
trigger1 = parent,stateno != 1030
trigger1 = movecontact = 0
trigger1 = hitcount < 1
attr = S, SP
animtype  = Medium
damage    = 69,39
hitflag = MAF
guardflag = MA
pausetime = 0,10
sparkxy = -10,-40
hitsound   = S0,2
guardsound = 6,0
ground.slidetime = 15
ground.hittime = 15
air.hittime	= 15
ground.velocity = -5,-2
guard.velocity = -5
air.velocity = -5,3
airguard.velocity	= -5,-2
ground.cornerpush.veloff = -3
ground.type = high
air.type = high
fall = 1
fall.recover = 0
air.fall = 1
palfx.time = 40
palfx.invertall = 1
palfx.add = 189,0,200
palfx.sinadd = 189, 0, 200, 5

[State 1026, hitdef]
type = HitDef
trigger1 = parent,stateno = 1030
trigger1 = movecontact = 0
trigger1 = hitcount < 1
attr = S, SP
animtype  = Medium
damage    = 69,39
hitflag = MAF
guardflag = MA
pausetime = 0,10
sparkxy = -10,-40
hitsound   = S0,2
guardsound = 6,0
ground.slidetime = 15
ground.hittime = 15
air.hittime	= 15
ground.velocity = -5,-2
guard.velocity = -5
air.velocity = -5,3
airguard.velocity	= -5,-2
ground.cornerpush.veloff = -3
ground.type = Trip
air.type = high
fall = 1
fall.recover = 0
air.fall = 1
palfx.time = 40
palfx.invertall = 1
palfx.add = 189,0,200
palfx.sinadd = 189, 0, 200, 5

[State 1026,end]
type = Destroyself
trigger1 = animtime = 0 

[State 1026,end]
type = changestate
trigger1 = parent,var(13) = 3
value = 21058

;beam die
[Statedef 21058]
type = A
movetype = I
physics = N
anim = 90

[State 21058,varset]
type = parentvarset
trigger1 = time = 0
v = 13
value = 0

[State 21058,end]
type = Destroyself
trigger1 = time = 3 

;Little sparkle Holder
[Statedef 1028]
type = A
movetype = I
physics = N
anim = 90

[State 1025, Sparkles]
type = Helper
Trigger1 = time >= 0
trigger1 = timemod = 2,1
;trigger1 = numhelper(1027) < 12
postype = p1
pos = 0,0
stateno = 1027
bindtime = 1
ownpal = 1
name = "Sparkle"
id = 1027
ignorehitpause = 1

[State 1025, velset]
type = velset
trigger1 = Time >= 0
x = 6

[State 1025, nothitby]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 1028, destroyself]
type = destroyself
trigger1 = root,numhelper(1026) != 1

;Little sparkle coming off beam
[Statedef 1027]
type = A
movetype = I
physics = N
anim = 92

[State 1027, nothitby]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 1027, Velset]
type = varrandom
trigger1 = time >= 0
v = 4
range = 1,4

[State 1027, Velset]
type = Velset
trigger1 = time = 0 && var(4) = 1
x = -1.8
y = -1.8

[State 1027, Velset]
type = Velset
trigger1 = time = 0 && var(4) = 2
x = -1.8
y = 1.8

[State 1027, Velset]
type = Velset
trigger1 = time = 0 && var(4) = 3
x = 0
y = -1.8

[State 1027, Velset]
type = Velset
trigger1 = time = 0 && var(4) = 4
x = 0
y = 1.8

[State 1027, destroyself]
type = destroyself
trigger1 = time = 35

;Low Evil energy Beam
[Statedef 1030]
type    = C
movetype= I
physics = C
anim = 1030
poweradd = 100
velset = 0
ctrl = 0

[State 1030,varadd]
type = varadd
trigger1 = time = 0
v = 2
value = 65

[State 1030, Energy Beam]
type = Helper
trigger1 = Time = 16
postype = p1
pos = 30,-30
stateno = 1026
bindtime = 1
ownpal = 1
name = "Low Energy Beam"
id = 1026
ignorehitpause = 1

[State 1030, purplewind]
type = Explod
trigger1 = Time = 25
persistent = 0
anim = 2321
pos = 30,-30
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1

[State 1030,end]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;Blast Bomb
[Statedef 1031]
type    = S
movetype= I
physics = N
poweradd= 70
ctrl = 0
anim = 1031
velset = 0,0

[State 1031, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = time = 0
v = 2
value = 43

[State 1031, Blast bomb]
type = Helper
trigger1 = animelem = 4
postype = p1
pos = 30,-60
stateno = 1032
bindtime = 1
ownpal = 1
name = "Blast bomb"
id = 1032
ignorehitpause = 1

[State 1031, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Blast Bomb helper
[Statedef 1032]
type    = S
movetype= A
physics = S
poweradd = 25
ctrl = 0
velset = 0,0
anim = 94
sprpriority = 9999
juggle = 2

[State 1032, Blast bomb come down]
type = Helper
trigger1 = Time = 16
postype = p2
pos = var(5),-400
stateno = 1033
bindtime = 1
ownpal = 1
name = "Blast bomb"
id = 1033
ignorehitpause = 1

[State 1032, Varrandom]
type = varrandom
trigger1 = time >= 0
v = 5
range = -150,150

[State 1032, playsnd]
type = PlaySnd
trigger1 = time = 0
value = 0,15

[State 1032, Velset]
type = Velset
trigger1 = Time >= 0
x = 10
y = -10

[State 1032, transparent after image]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 1
time = 40
length = 10
PalBright   =   0,  0,  0
PalContrast = 128,0,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1032, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1032
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1032, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AT
ignorehitpause = 1

[State 1032, HitBy]
type = HitBy
trigger1 = 1
time = 1
value = SCA, AP
ignorehitpause = 1

[State 1032, hitdef]
type = HitDef
trigger1 = movecontact = 0
trigger1 = hitcount < 1
attr = S, SP
animtype  = Medium
damage    = 50,39
hitflag = MAF
guardflag = MA
pausetime = 0,10
sparkxy = -10,-40
hitsound   = S0,2
guardsound = 6,0
ground.slidetime = 15
ground.hittime = 15
air.hittime	= 15
ground.velocity = -5,-2
guard.velocity = -5
air.velocity = -5,3
airguard.velocity	= -5,-2
ground.cornerpush.veloff = -3
ground.type = high
air.type = high
fall = 1
fall.recover = 0
air.fall = 1
palfx.time = 40
palfx.invertall = 1
palfx.add = 189,0,200
palfx.sinadd = 189, 0, 200, 5

[State 1032,varadd]
type = parentvaradd
trigger1 = Projhit = 1
v = 2
value = 56

[State 1032,end]
type = Destroyself
trigger1 = time = 80

;Falling bomb helper
[Statedef 1033]
type    = S
movetype= A
physics = S
poweradd = 25
ctrl = 0
velset = 0,0
anim = 93
sprpriority = 9999
juggle = 2

[State 1033, transparent after image]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 1
time = 40
length = 10
PalBright   =   0,  0,  0
PalContrast = 128,0,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1033, playsnd]
type = PlaySnd
trigger1 = Pos Y >= 0
value = 0,16
volume = 500

[State 1033, adraw]
type = angledraw
trigger1 = Time >= 0

[State 1033, aset]
type = angleset
trigger1 = Time >= 0
value = -90

[State 1033, Velset]
type = Velset
trigger1 = Time = 200
y = 15

[State 1033, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1033
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1033, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AT
ignorehitpause = 1

[State 1033, HitBy]
type = HitBy
trigger1 = 1
time = 1
value = SCA, AP
ignorehitpause = 1

[State 1033,envshake]
type = envshake
trigger1 = Pos Y >= 0
time = 30
freq = 88
ampl = -5
phase = 10

[State 1033, assertspecial]
type = assertspecial
triggerall = time >= 0
trigger1 = P2statetype = C
trigger2 = p2statetype = A
flag = unguardable

[State 1033, hitdef]
type = HitDef
trigger1 = movecontact = 0
trigger1 = hitcount < 1
attr = S, SP
animtype  = Medium
damage    = 99,59
hitflag = MAFD
guardflag = MA
pausetime = 0,5
sparkxy = -10,-40
hitsound   = S0,2
guardsound = 6,0
ground.slidetime = 15
ground.hittime = 15
air.hittime	= 15
ground.velocity = -0,0
guard.velocity = -5
air.velocity = -5,3
airguard.velocity	= -5,-2
ground.cornerpush.veloff = -3
ground.type = high
air.type = high
fall = 1
fall.recover = 0
air.fall = 1
palfx.time = 40
palfx.invertall = 1
palfx.add = 189,0,200
palfx.sinadd = 189, 0, 200, 5

[State 1033, Dust]
type = Explod
trigger1 = Pos y >= 0
persistent = 0
anim = 5412
pos = 20,0
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1

[State 1033, Dust]
type = Explod
trigger1 = Pos y >= 0
persistent = 0
anim = 5412
pos = -20,0
postype = p1
Facing = -1
sprpriority = 100
bindtime = 1
ignorehitpause = 1

[State 1033, Smoke]
type = Explod
trigger1 = Pos y >= 0
persistent = 0
anim = 1400
pos = 0,-20
postype = p1
scale = 2,2
Facing = -1
sprpriority = 100
bindtime = 1
ignorehitpause = 1

[State 1033,end]
type = Destroyself
trigger1 = Pos Y >= 0

;Starlight Beam Hold
[Statedef 1130]
type = S
Movetype = I
Physics = N
Anim = 1133
ctrl = 0
poweradd = 0

[State 1130, velset]
type = velset
trigger1 = time >= 0
x = 0
y = 0

[State 1130, charge]
type = Explod
trigger1 = time = 0
id = 1131
anim = 1131
pos = 35,-53
postype = p1
sprpriority = 100
bindtime = -1
removetime = -1
ignorehitpause = 1

[State 1130, playsnd]
type = PlaySnd
trigger1 = time = 150
value = 1,20
volume = 500

[state 1130,next]
type = Changestate
trigger1 = time >= 10
Trigger1 = command != "holda"
value = 1131

[state 1130,next]
type = Varset
trigger1 = time >= 150
v = 21
value = 1

[State 1130, blink yellow]
type = PalFX
trigger1 = timemod = 2,1
trigger1 = time >= 150
time = 1
add = 164, 0, 164
ignorehitpause = 1

[state 1130,next]
type = Changestate
trigger1 = time >= 10
Trigger1 = command = "holda"
trigger1 = command= "b"
value = 0
ctrl = 1

;Starlight Beam
[Statedef 1131]
type = S
Movetype = I
Physics = S
Anim = 1133
ctrl = 0
poweradd = -200

[State 1131, blood]
type = Explod
trigger1 = Projhit = 1
anim = 6009
pos = -5,-50
postype = p2
ownpal = 1
sprpriority = 9999
supermovetime = 9999
ignorehitpause = 1

[State 1131,proj]
type = Projectile
trigger1 = time = 0
trigger1 = var(21) = 0
projanim = 1132
projremovetime = 15
;projscale = .82,.80
projremove = 0
projpriority = 3
offset = 35,-52
velocity = 0,0
attr = S, SP
damage   = floor(Ifelse(var(3)=0,30,Var(3)*PI*25)),10
animtype = back
guardflag = MA
hitflag = MAF
sparkxy = 0,-40
sparkno = -1
pausetime = 0,5
hitsound   = S1,5
guardsound = 6,0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -5
air.velocity = -2,-2
air.juggle = 5

[State 1131,proj]
type = Projectile
trigger1 = time = 0
trigger1 = var(21) = 1
projanim = 1132
projremovetime = 15
;projscale = .82,.80
projremove = 0
projpriority = 3
offset = 35,-52
velocity = 0,0
attr = S, SP
damage   = floor(Ifelse(var(3)=0,30,Var(3)*PI*25)),10
animtype = back
guardflag = 
hitflag = MAF
sparkxy = 0,-40
sparkno = -1
pausetime = 0,5
hitsound   = S1,5
guardsound = 6,0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -5
air.velocity = -2,-2
air.juggle = 5

[State 1131, Shockwave ring]
type = Explod
trigger1 = Time = 0
anim = 2021
pos = 40,-45
postype = p1
sprpriority = 100
bindtime = -1
ignorehitpause = 1

[State 1131, playsnd]
type = PlaySnd
trigger1 = time = 0
value = 1,8
volume = 500

[State 1131, varset]
type = varset
trigger1 = time > 41
v = 21
value = 0

[State Fly]
type = Changestate
trigger1 = time > 42 && Pos y < 0
value = 2051

[state 1131,next]
type = Changestate
trigger1 = time > 42
value = 0
ctrl = 1

;Air Evil energy Beam
[Statedef 1134]
type    = A
movetype= I
physics = N
anim = 1025
poweradd = 100
velset = 0
ctrl = 0

[State 1134, Energy Beam]
type = Helper
trigger1 = Time = 16
postype = p1
pos = 25,-46
stateno = 1026
bindtime = 1
ownpal = 1
name = "Energy Beam"
id = 1026
ignorehitpause = 1

[State 1134, purplewind]
type = Explod
trigger1 = Time = 25
persistent = 0
anim = 2321
pos = 30,-30
postype = p1
sprpriority = 100
bindtime = -1
ignorehitpause = 1

[State 1134,varadd]
type = varadd
trigger1 = time = 0
v = 2
value = 65

[State 1134, velset]
type = velset
trigger1 = Timemod = 2,1
trigger1 = pos Y < 0
x = 0
y = .60

[State 1134, posset]
type = posset
trigger1 = pos Y >= 0
y = 0

[State 1134,end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;Savage Torture intro
[Statedef 1034]
type    = S
movetype= I
physics = S
poweradd = -1000
anim = 1034
ctrl = 0
facep2 = 1
velset = 0,0

[State 1034, portrait]
type = Helper
trigger1 = time = 0
postype = p1
pos = 0,0
stateno = 996
bindtime = 1
ownpal = 1
name = "Portrait"
id = 996
supermovetime = 9999
ignorehitpause = 1

[State 1034, freeze]
type = posfreeze
trigger1 = time >= 0

[State 1034, trademark]
type = Explod
trigger1 = time = 0
anim = 9007
id = 9007
pos = 10,-27
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 22
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1034, trademark]
type = Explod
trigger1 = time = 20
anim = 9005
id = 9005
pos = 10,-27
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 14
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1034, Super bg]
type = Explod
trigger1 = time = 1
anim = 19010
id = 19010
pos = 0,0
postype = left
sprpriority = -99999
bindtime = -1
removetime = 48
ignorehitpause = 1
ownpal = 1
Supermove = 1

[State 1034, pause]
type = SuperPause
trigger1 = animelem = 1
pos = -36, -85
anim = -1
postype = p1
movetime = 48
time = 48
darken = 0

[State 1034, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0
trigger1 = time <= 48
time = 1
add = (Time * -6),(Time * -6),(Time * -6)
color = 0

[State 1034, EnvShake]
type = envcolor
trigger1 = time = 0
value = 250,250,250
under = 0
time = 5

[State 1034, Super Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 0,20
volume = 500

[State 1034, end]
type = ChangeState
trigger1 = time = 48
value = 1035

;Savage torture dash
[Statedef 1035]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1035
juggle = 2

[State 1035, a image]
type = AfterImage
trigger1 = Time = 2
trans = add1
time = 25
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9

[State 1035, sound]
type = null
Trigger1 = Time = 2
value = 3, 0

[State 1035, hitoverride]
type = HitOverride
trigger1 = Time >= 0
attr = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT, AA, AT, AP
stateno = 1038

[State 1035, velset]
type = velset
trigger1 = time >= 5
x = 10

[State 1035, hit]
type = HitDef
trigger1 = animelem = 2
attr = S, HA
p2facing = 1 
damage    = 0, 1
animtype = heavy
guardflag = M  
getpower = 0,0
hitflag = MAF
priority = 5
pausetime = 0,0     
sparkno = -1   
sparkxy = -10,-50
hitsound   = s0,13
guardsound = 6,0
ground.type = Low
ground.slidetime = 80
ground.hittime  = 40 
ground.velocity = 18
guard.slidetime = 10 
guard.hittime  = 15
guard.velocity = -2 
down.velocity = 7, -4
air.type = Low
air.hittime  = 40 
air.slidetime = 80 
air.velocity = 8
fall.recover = 0
fall = 0
down.hittime = 20
down.bounce = 1
forcestand = 1
p1stateno = 1036
p2stateno = 1090
p2getp1state = 1

[State 1035, end]
type = ChangeState
trigger1 = Time = 25
value = 3345
ctrl = 0
;---------------------------------------------------------------------------
;Savage torture p1 (Binds p2 to you)
[Statedef 1036]
type = S
physics = N
movetype = A
ctrl = 0
velset = 15, 0
anim = 1036
juggle = 2

[State 1036, snd]
type = PlaySnd
Trigger1 = Time = 0
value = s0, 4

[State 1036, image]
type = AfterImage
trigger1 = Time = 2
trans = add1
TimeGap  = 1
FrameGap = 6
time = 72
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1.2,1.2,1.2;.9, .9, .9

[State 1036, bind]
type = targetbind
Trigger1 = time = 0
pos x = 40, 0
time = 999

[State 1036, bind]
type = SprPriority
Trigger1 = time = 0
value = -1

[State 1036, spr]
type = SprPriority
Trigger1 = frontedgedist = 0
value = 3

[State 1036, next]
type = ChangeState
Trigger1 = frontedgedist = 0
Trigger2 = Time = 120
value = 1037
ctrl = 0

;---------------------------------------------------------------------------
;when you hit the corner
[Statedef 1037]
type    = S
movetype= A
physics = N
velset = 0, 0
juggle  = 0
ctrl = 0    
anim = 1037
poweradd = 0

[State 1037, back]
type = posadd
Trigger1 = time = 0
x = -100

[State 1037, bind]
type = targetbind
Trigger1 = time >= 0
Trigger1 = time < 1
pos = 95, -15

[State 1037, targetstate]
type = targetstate
Trigger1 = time = 0
value = 1091

[State 1037, screenshake]
type = EnvShake
Trigger1 = Time = 0
time = 15
ampl = -3
freq = 90
phase = 90

[State 1037, snd]
type = PlaySnd
trigger1 = Time = 0
value = 0,19

[State 1037, next]
type = ChangeState
trigger1 = Time = 20
value = 1039
ctrl = 0

;---------------------------------
[Statedef 1090]
type    = A
movetype= H ;Get hit
physics = S

[State 1090, 0]
type = velset
trigger1 = time = 0
x = 0
y = 0

[State 1090, 1]
type = AfterImage
trigger1 = Time = 2
trans = add1
TimeGap  = 1
FrameGap = 6
time = 50
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9

[State 1090, 0]
type = posset
trigger1 = Time = 0
y = 0

[State 1090, 0]
type = SprPriority
trigger1 = Time = 0
value = 1

[State 1090, 1]
type = ChangeAnim2
Trigger1 = time = 0
value = 9500

;-----------------
[Statedef 1091]
type    = A
movetype= H ;Get hit
velset = 0,0
physics = S

[State 1091, 0]
type = posset
trigger1 = Time = 0
y = 0

[State 1091, 0]
type = SprPriority
trigger1 = Time = 0
value = -1

[State 1091, 1]
type = ChangeAnim2
Trigger1 = time = 0
value = 2510
;-----------------
;if p2 is not affected when in corner
[Statedef 1092]
type    = A
movetype= H ;Get hit
velset = 0
physics = S

[State 1092, 0]
type = SprPriority
trigger1 = Time = 0
value = 10

[State 1092, 1]
type = SelfState
Trigger1 = movecontact = 0
Trigger1 = time = 41
value = 5050
ctrl = 0
;=-=-=-=-=-=-=-=-=-=-=-=-=-==--==-=-=-=
;If Freeza is hit while dashing
[Statedef 1038]
type    = S
movetype= H
physics = S
ctrl = 0

[State 1038, plysnd]
type = PlaySnd
Trigger1 = Time = 0
value = s0, 11

[State 1038, white]
type = EnvColor
trigger1 = Time = 0
value = 255,255,255
time = 8

[State 1038, stop]
type = velset
trigger1 = time >= 0
x = 0
y = 0

[State 1038, end]
type = ChangeState
trigger1 = Time = 5
value = 1035

;Savage torture: Torture
[Statedef 1039]
type    = S
movetype= A
physics = S
;juggle  = 3
anim = 1039
poweradd = 0
ctrl = 0
velset = 0, 0

[State 1039, transparent after image]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 1
time = 250
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

;[State 1050, playsnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 5, 9

[State 1044, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = hitcount != 0
v = 1
value = 2
ignorehitpause = 1

[State 1039, multiple hits]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
trigger10 = AnimElem = 10
trigger11 = AnimElem = 11
trigger12 = AnimElem = 12
trigger13 = AnimElem = 13
trigger14 = AnimElem = 14
trigger15 = AnimElem = 15
trigger16 = AnimElem = 16
trigger17 = AnimElem = 17
trigger18 = AnimElem = 18
trigger19 = AnimElem = 19
trigger20 = AnimElem = 20
trigger21 = AnimElem = 21
trigger22 = AnimElem = 22
trigger23 = AnimElem = 23
trigger24 = AnimElem = 24
trigger25 = AnimElem = 25
trigger26 = AnimElem = 26
trigger27 = AnimElem = 27
trigger28 = AnimElem = 28
trigger29 = AnimElem = 29
trigger30 = AnimElem = 20
trigger31 = AnimElem = 31
trigger32 = AnimElem = 32
trigger33 = AnimElem = 33
trigger34 = AnimElem = 34
trigger35 = AnimElem = 35
trigger36 = AnimElem = 36
trigger37 = AnimElem = 37
trigger38 = AnimElem = 38
trigger39 = AnimElem = 39
trigger40 = AnimElem = 40
trigger41 = AnimElem = 41
trigger42 = AnimElem = 42
trigger43 = AnimElem = 43
trigger44 = AnimElem = 44
trigger45 = AnimElem = 45
trigger46 = AnimElem = 46
trigger47 = AnimElem = 47
animtype  = light
attr = S, SA
damage    = 4
pausetime = 0,10
guardflag = 
sparkxy = -10,-40
sparkno = 1
hitsound   = S0,2
guardsound = 6,0
ground.type = high                 
ground.slidetime = 12
ground.hittime  = 12             
ground.velocity = 0

[State 1039, hitdef]
type = HitDef
trigger1 = AnimElem = 48
animtype  = hard
attr = S, SA
damage    = 10
pausetime = 0,10
guardflag = M
sparkxy = -10,-40
sparkno = 2
hitsound   = S0,2
guardsound = 6,0
ground.type = high                 
ground.slidetime = 12             
ground.hittime  = 12             
ground.velocity = 0,0
p2stateno = 1040

[State 1039, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0
time = 1
add = (Time * -4),(Time * -4),(Time * -4)
color = 0

[State 1039, next]
type = ChangeState
trigger1 = animtime = 0
value = 1041

; Hit by 48th punch
[Statedef 1040]
statetype = N
movetype = H
physics = N

[State 1040,p2anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1040

[State 1040, end]
type = selfState
trigger1 = time = 100
value = 0
ctrl = 1

; Hop Back
[Statedef 1041]
type    = S
physics = S
ctrl = 0
anim = 105
sprpriority = 1

[State 1041, playsnd]
type = PlaySnd
trigger1 = Time = 0
value = 1,1

[State 1041, jump]
type = VelSet
trigger1 = Time >= 0
x = -4
y = -4

[State 1041, next]
type = ChangeState
trigger1 = Pos Y < -60
value = 1042

;---------------------------------------------------------------------------
; Hop back land
[Statedef 1042]
type    = S
physics = S
ctrl = 0
anim = 47

[State 1042, playsnd]
type = PlaySnd
trigger1 = pos y >= 0
value = 1,2

[State 1042, gravity]
type = VelSet
trigger1 = Time >= 0
y = 8
x = -3

[State 1042, stop]
type = VelSet
trigger1 = pos y >= 0
y = 0
x = 0

[State 1042, on ground]
type = PosSet
trigger1 = Pos y >= 0
y = 0

[State 1042, dust]
type = MakeDust
trigger1 = Time = 2
pos = -5,-2
spacing = 1

[State 1042, next]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = time >= 3
value = 1043

;Final Energy elbow
[Statedef 1043]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1005

[State 1043, dust]
type = Explod
trigger1 = Time = 0
persistent = 0
anim = 5412
pos = -30,2
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1

[State 1043, minidust]
type = Explod
trigger1 = Time >= 12
anim = 715
pos = 0,10
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1

[State 1043, playsnd]
type = PlaySnd
trigger1 = time = 12
value = 0, 9

[State 1043,a.image]
type = AfterImage
trigger1 = Time = 12
trans = add1
TimeGap  = 1
FrameGap = 3
time = 20
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1043, velset]
type = velset
trigger1 = time >= 12
x = 10

[State 1034, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0
time = 1
add = (Time * 4),(Time * 4),(Time * 4)
color = 0

[State 1043, hit]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype  = Medium
damage    = 40,20
guardflag = MA
pausetime = 11,11
sparkxy = -2,-45
hitsound   = S0,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2
p1stateno = 1044

[State 1043, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 3345
ctrl = 0

;Energy elbow pt2
[Statedef 1044]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1006

[State 1044, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = time = 10
var(1) = 55
ignorehitpause = 1

[State 1044, velset]
type = velset
trigger1 = time = 0
x = 3

[State 1044, allpfx]
type = allpalfx
trigger1 = time = 10
time = 20
add = 80,0,110
sinadd = 80,0,110

[State 1044, purplehit]
type = Explod
trigger1 = Time = 10
persistent = 0
anim = 2322
pos = 30,-30
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1

[State 1044, purplewind]
type = Explod
trigger1 = Time = 10
persistent = 0
anim = 2321
pos = 30,-30
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1

[State 1044, playsnd]
type = velset
trigger1 = time = 0
x = 0
y = 0

[State 1044, velset]
type = velset
trigger1 = time = 10
x = 5
y = 0

[State 1044, playsnd]
type = PlaySnd
trigger1 = time = 10
value = 0, 11

[State 1044, aimage]
type = AfterImage
trigger1= time = 10 
time = 20
trans = add
PalContrast =  225,255,255
PalBright = 10,10,10

[State 1044, hit]
type = HitDef
trigger1 = time = 10
attr = S, SA
animtype  = Medium
damage    = 40,20
guardflag = MA
pausetime = 11,11
sparkxy = -2,-45
hitsound   = S0,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2
palfx.add = 110,0,110
palfx.sinadd = 110,0,110
palfx.time = 70
;palfx.invertall = 1 
p2stateno = 1061

[State 1044,rocks everywhere]
type = Helper
trigger1 = p2stateno = 1062
trigger1 = numhelper(9200) = 0
stateno = 19201
name = "Incoming rocks!!!"
pos = 30,-30;const(size.mid.pos.y)
postype = p1
id = 9200
bindtime = 1
helpertype = normal
sprpriority = 1
keyctrl = 0
ownpal = 1
under = 1

[State 1044, end]
type = ChangeState
trigger1 = time = 60
value = 0
ctrl = 1

;p2 side flying through air
[Statedef 1061]
type    = A
movetype= H
physics = N

[State 1061,anim]
type = changeanim2
trigger1 = time = 0
value = 1029

[State 1061,playerpush]
type = playerpush
trigger1 = time >= 0
value = 0

[State 1061, Velocity]
type = VelSet
trigger1 = Time = 0
x = -12
y = -2

;[State 1061, Gravity]
;type = VelAdd
;trigger1 = Time >= 0
;y = .45

[State 1061, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 1,1

[State 1061, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 1062

[State 1061, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

[Statedef 1062]
type = L
movetype= H
physics = N
ctrl = 0
velset = 0,0

[State 1062,anim]
type = changeanim2
trigger1 = Time = 0
value = 772

[State 1062,envshake]
type = EnvShake
trigger1 = Time = 10
persistent = 0
time = 30

[State 1062, PlayerPush]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 1062, velset]
type = VelSet
trigger1 = time >= 0
x = -10

[State 1062, stop]
type = VelSet
trigger1 = Time >= 50
x = 0

[State 1062, afterimage]
type = AfterImage
Trigger1 = time = 1
length = 10
PalColor = 0
TimeGap = 1
FrameGap = 3
Trans = Add1
time = 40

[State 1062,screenbpound]
type = ScreenBound
trigger1 = 1
value = 0

[State 1062, end]
type = SelfState
trigger1 = LoseKO != 1
trigger1 = time = 120
value = 5210 ;5120

[State 1062, end]
type = changeState
trigger1 = LoseKO = 1
trigger1 = time = 50
value = 9125

; Player 2 is dead
[Statedef 9125]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0

[State 9125,screenbpound]
type = ScreenBound
trigger1 = 1
value = 0

[State 9125,sprpr]
type = SprPriority
trigger1 = time = 0
value = 0

[State 9125, off screen]
type = Posset
trigger1 = time = 6
Y = 900

[State 9125, nokoslow]
type = AssertSpecial
trigger1 = Time >= 9
flag = nokoslow

[State 9125, end]
type = Selfstate
trigger1 = Time = 9
value = 5150

; Player Two measurement
[StateDef 19200]
type    = S
movetype= A
physics = N
velset = 0,0
anim = 9150
ctrl = 0

[State 19200, nothitby]
type = Nothitby
trigger1 = time >= 0
value = SCA

[State 19200, hitdef]
type = HitDef
trigger1 = Time = 0
attr = S, HA
;Nothing = 0
numhits = 0
priority  = 7
sparkno = -1
guard.sparkno = -1
kill = 0

[State 19200, head]
type = BindtoTarget
trigger1 = time = 1
pos = 0,0,head
time = 1

[State 19200, mid]
type = BindtoTarget
trigger1 = time = 2
pos = 0,0,mid
time = 0

[State 19200, start]
type = changestate
trigger1 = time = 2
value = 19201

; rocks
[StateDef 19201]
type    = S
movetype= A
physics = N
velset = 0,0
anim = 9150
ctrl = 0

[State 19200, hitwallsound]
type = PlaySnd
trigger1 = time = 0
value = 1,0
volume = 500
persistant = 0

;[State 19200, hitwallsound]
;type = PlaySnd
;trigger1 = time = 0
value = 0,14
;volume = 500
;persistant = 0

[State 19201, 10]
type = Helper
trigger1 = 1
stateno = 19210
name = "rocks"
pos = 0,0
postype = p1
id = 9200
bindtime = -1
helpertype = normal
sprpriority = 1
keyctrl = 0
ownpal = 1
under = 1

[State 19201,nothitby]
type = Nothitby
trigger1 = time >= 0
value = SCA

[State 19200, 20]
type = Helper
trigger1 = 1
stateno = 19210
name = "rocks"
pos = 0,0
postype = p1
bindtime = -1
id = 9200
helpertype = normal
sprpriority = 1
keyctrl = 0
ownpal = 1
under = 1

[State 19200, 10]
type = Helper
trigger1 = 1
stateno = 19210
name = "rocks"
pos = 0,0
postype = p1
id = 9200
bindtime = -1
helpertype = normal
sprpriority = 1
keyctrl = 0
ownpal = 1
under = 1

[State 19200, 20]
type = Helper
trigger1 = 1
stateno = 19210
name = "rocks"
pos = 0,0
id = 9200
postype = p1
bindtime = -1
helpertype = normal
sprpriority = 1
keyctrl = 0
ownpal = 1
under = 1

[State 19200, 30]
type = Helper
trigger1 = 1
stateno = 19210
name = "rocks"
pos = 0,0
postype = p1
id = 9200
helpertype = normal
sprpriority = 1
keyctrl = 0
ownpal = 1
under = 1

[State 19200, 10]
type = Helper
trigger1 = 1
stateno = 19210
name = "rocks"
pos = 0,0
postype = p1
bindtime = -1
id = 9200
helpertype = normal
sprpriority = 1
keyctrl = 0
ownpal = 1
under = 1

[State 19200, 20]
type = Helper
trigger1 = 1
stateno = 19210
name = "rocks"
pos = 0,0
postype = p1
bindtime = -1
id = 9200
helpertype = normal
sprpriority = 1
keyctrl = 0
ownpal = 1
under = 1

[State 19200, 20]
type = Helper
trigger1 = 1
stateno = 19210
name = "rocks"
pos = 0,0
postype = p1
id = 9200
bindtime = -1
helpertype = normal
sprpriority = 1
keyctrl = 0
ownpal = 1
under = 1

[State 19200, 30]
type = Helper
trigger1 = 1
stateno = 19210
name = "rocks"
pos = 0,0
postype = p1
id = 9200
helpertype = normal
sprpriority = 1
keyctrl = 0
ownpal = 1
under = 1

[State 19200, 40]
type = Helper
trigger1 = 1
stateno = 19210
name = "rocks"
pos = 0,0
id = 9200
postype = p1
helpertype = normal
sprpriority = 1
keyctrl = 0
ownpal = 1
under = 1

[State 19200, done]
type = DestroySelf
trigger1 = time = 4

;-----------------------------------
;rocks
[StateDef 19210]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0

[State 19210, rock random]
type = varrandom
trigger1 = Time = 0
v = 8
range = 501,502

[State 19210, rock anim]
type = changeanim
trigger1 = Time = 0
value = Var(8)

[State 19210, speed]
type = VelSet
trigger1 = Time = 0
X = 3.4-(Random/144)
Y = -4-(Random/99)

[State 19210, Gravity]
trigger1 = Time >= 0
trigger1 = Pos Y <= -7
type = VelAdd
y = .4

[State 19210, nothitby]
type = Nothitby
trigger1 = time >= 0
value = SCA

[State 19210, angleadd]
type = AngleAdd
trigger1 = Time >= 1
trigger1 = Pos Y <= -7
value = -14

[State 19210, angledraw]
type = AngleDraw
trigger1 = Time >= 1

[State 19210, stop]
type = VelSet
trigger1 = Pos Y > -7
trigger1 = Vel Y > 0
X = 0
Y = 0

[State 19210, byebye]
type = destroyself
trigger1 = time = 75

;Ki Blade intro
[Statedef 1046]
type    = S
movetype= I
physics = S
poweradd = -1000
anim = 1046
ctrl = 0
velset = 0,0

[State 1046, portrait]
type = Helper
trigger1 = time = 0
postype = p1
pos = 0,0
stateno = 996
bindtime = 1
ownpal = 1
name = "Portrait"
id = 996
supermovetime = 9999
ignorehitpause = 1

[State 1046, freeze]
type = posfreeze
trigger1 = time >= 0

[State 1046, trademark]
type = Explod
trigger1 = time = 0
anim = 9007
id = 9007
pos = 10,-27
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 22
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1046, trademark]
type = Explod
trigger1 = time = 20
anim = 9005
id = 9005
pos = 10,-27
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 14
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1046, Super bg]
type = Explod
trigger1 = time = 1
anim = 19010
id = 19010
pos = 0,0
postype = left
sprpriority = -99999
bindtime = -1
removetime = 48
ignorehitpause = 1
ownpal = 1
Supermove = 1

[State 1046, pause]
type = SuperPause
trigger1 = animelem = 1
pos = -36, -85
anim = -1
postype = p1
movetime = 48
time = 48
darken = 0

[State 1046, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0
trigger1 = time <= 48
time = 1
add = (Time * -6),(Time * -6),(Time * -6)
color = 0

[State 1046, Envcolor]
type = envcolor
trigger1 = time = 0
value = 250,250,250
under = 0
time = 5

[State 1046, Super Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 0,20
volume = 500

[State 1046, end]
type = ChangeState
trigger1 = time = 48
value = 1047

;Ki blade Blast
[Statedef 1047]
type    = S
movetype= I
physics = S
anim = 1025
poweradd = 0
velset = 0
ctrl = 0

[State 1046, not hitby]
type = Nothitby
trigger1 = time >= 0
value = SCA

[State 1046, Envcolor]
type = envcolor
trigger1 = time = 2
value = 250,250,250
under = 0
time = 5

[State 1047, playsnd]
type = PlaySnd
trigger1 = Time = 2
value = 1,3

[state 1047,ki]
type = projectile
trigger1 = time = 2
trigger2 = numhelper(1048) = 1 && numprojid(731) < 1 
projanim = 731
projid = 731
projremovetime = 48
projpriority = 9999
projsprpriority = -5
projhits = 1
projmisstime = 4
projremove = 0
velocity = 0,0
offset = -6,0
attr = S, SP
animtype  = Heavy
damage    = 10,8
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S999           
guardsound = S6,0                
ground.type = High
ground.slidetime = 40	
ground.hittime  = 60
ground.velocity = -3
air.velocity = -5,-1.6
air.animtype = Back

[State 1047, Energy Beam]
type = Helper
trigger1 = Time = 16
postype = p1
pos = 25,-46
stateno = 1048
bindtime = 1
ownpal = 1
name = "Energy Blade"
id = 1048
ignorehitpause = 1

[State 1047, purplewind]
type = Explod
trigger1 = Time = 25
persistent = 0
anim = 2321
pos = 30,-30
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1

[State 1047,anim]
type = changeanim
Trigger1 = time > 15
trigger1 = p2movetype = H
trigger1 = helper(1048),stateno = 1051
value = 1124

[State 1047,anim]
type = changeanim
Trigger1 = time > 15
trigger1 = p2movetype = H
trigger1 = helper(1048),stateno = 1049
value = 1122

[State 1047,anim]
type = changeanim
Trigger1 = time > 15
Trigger1 = anim != 1123
trigger1 = p2movetype = H
trigger1 = helper(1048),stateno = 1050
value = 1123

[State 1047,end]
type = ChangeState
trigger1 = time = 40 && p2movetype != H
value = 0
ctrl = 1

[State 1047,end]
type = ChangeState
trigger1 = time >= 100 && p2movetype != H && anim != 1025 
value = 0
ctrl = 1

[State 1047,end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Evil energy beam helper
[Statedef 1048]
type    = S
movetype= A
physics = S
poweradd = 25
ctrl = 0
velset = 0,0
anim = 1051
sprpriority = 9999
juggle = 5

[State 1048, playsnd]
type = PlaySnd
trigger1 = Time = 0
value = 0,14

[State 1048, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1048
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1048, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AT
ignorehitpause = 1

[State 1048, HitBy]
type = HitBy
trigger1 = 1
time = 1
value = SCA, AP
ignorehitpause = 1

[State 1048, BGPalFX]
type  = BGPalFX
trigger1 = time = 0
time = 36
add = 10, 10, 25
mul = 100, 100, 100

[State 1048,envshake]
type = envshake
trigger1 = time = 0
time = 30
freq = 88
ampl = -5
phase = 10

[State 1048, hitdef]
type = HitDef
trigger1 = movecontact = 0
trigger1 = hitcount < 1
attr = S, SP
animtype  = Medium
damage    = 10,59
hitflag = MAF
guardflag = MA
pausetime = 0,10
sparkxy = -10,-40
hitsound   = S0,2
guardsound = 6,0
ground.slidetime = 15
ground.hittime = 15
air.hittime	= 15
ground.velocity = -5,-2
guard.velocity = -5
air.velocity = -5,3
airguard.velocity	= -5,-2
ground.cornerpush.veloff = -3
ground.type = high
air.type = high
fall = 1
fall.recover = 0
air.fall = 1
palfx.time = 40
palfx.invertall = 1
palfx.add = 189,0,200
palfx.sinadd = 189, 0, 200, 5

[State 1048,next]
type = Changestate
trigger1 = Movehit = 1
value = 1051

[State 1048,next]
type = destroyself
trigger1 = animtime = 0

;10 hit outward beam
[Statedef 1051]
type    = S
movetype= A
physics = S
poweradd = 25
ctrl = 0
velset = 0,0
anim = 1048
sprpriority = 9999

[State 1049, bind]
type = bindtoroot
trigger1 = time >= 0
pos  = 25,-46
time = 1

[State 1051, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1051
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1051, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AT
ignorehitpause = 1

[State 1051, HitBy]
type = HitBy
trigger1 = 1
time = 1
value = SCA, AP
ignorehitpause = 1

[State 1051, BGPalFX]
type  = BGPalFX
trigger1 = time = 0
time = 36
add = 10, 10, 25
mul = 100, 100, 100

[State 1051,envshake]
type = envshake
trigger1 = time = 0
time = 30
freq = 88
ampl = -5
phase = 10

[State 1051, hitdef]
type = HitDef
trigger1 = Time >= 0
trigger1 = timemod = 10,1
trigger1 = hitcount < 10
attr = S, SP
animtype  = Medium
damage    = 10,5
hitflag = MAF
guardflag = MA
pausetime = 0,10
sparkxy = -10,-40
hitsound   = S0,2
guardsound = 6,0
ground.slidetime = 15
ground.hittime = 15
air.hittime	= 15
ground.velocity = -5,-2
guard.velocity = -5
air.velocity = -5,3
airguard.velocity	= -5,-2
ground.cornerpush.veloff = -3
ground.type = high
air.type = high
fall = 1
fall.recover = 0
air.fall = 1
palfx.time = 40
palfx.invertall = 1
palfx.add = 189,0,200
palfx.sinadd = 189, 0, 200, 5

[State 1051,next]
type = Changestate
trigger1 = Movehit = 1 && Hitcount = 10
value = 1049

[State 1051,end]
type = Destroyself
trigger1 = time = 130

;Evil energy beam diagnal
[Statedef 1049]
type    = S
movetype= A
physics = S
poweradd = 25
ctrl = 0
velset = 0,0
anim = 1049
sprpriority = 9999
juggle = 0

[State 1049, bind]
type = bindtoroot
trigger1 = time = 0
pos  = 20,-50
time = 99

[State 1049, targetbind]
type = targetbind
trigger1 = time = 0
pos  = 90,-40
time = 10

[State 1049, Envcolor]
type = envcolor
trigger1 = time = 0
value = 250,250,250
under = 0
time = 10

[State 1049, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1049
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1049, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AT
ignorehitpause = 1

[State 1049, HitBy]
type = HitBy
trigger1 = 1
time = 1
value = SCA, AP
ignorehitpause = 1

[State 1049, BGPalFX]
type  = BGPalFX
trigger1 = time = 0
time = 36
add = 10, 10, 25
mul = 100, 100, 100

[State 1048, hitdef]
type = HitDef
trigger1 = Time >= 0
trigger1 = timemod = 10,1
trigger1 = hitcount < 10
attr = S, SP
animtype  = Medium
damage    = 10,5
hitflag = MAF
guardflag = MA
pausetime = 0,10
sparkxy = -0,-40
hitsound   = S0,2
guardsound = 6,0
ground.slidetime = 15
ground.hittime = 15
air.hittime	= 15
ground.velocity = -5,-2
guard.velocity = -5
air.velocity = -5,3
airguard.velocity	= -5,-2
ground.cornerpush.veloff = -3
ground.type = high
air.type = high
fall = 1
fall.recover = 0
air.fall = 1
palfx.time = 40
palfx.invertall = 1
palfx.add = 189,0,200
palfx.sinadd = 189, 0, 200, 5

[State 1048,next]
type = Changestate
trigger1 = Movehit = 1 && Hitcount = 10
value = 1050

[State 1048,end]
type = Destroyself
trigger1 = p2movetype != H
;trigger1 = animtime = 0

;Evil energy beam Aimed up
[Statedef 1050]
type    = S
movetype= A
physics = S
poweradd = 25
ctrl = 0
velset = 0,0
anim = 1050
sprpriority = 9999
juggle = 0

[State 1050, bind]
type = bindtoroot
trigger1 = time = 0
pos  =  -10,-75
time = 99

[State 1050, targetbind]
type = targetbind
trigger1 = time = 0
pos  = 0,-100
time = 10

[State 1050, Envcolor]
type = envcolor
trigger1 = time = 0
value = 250,250,250
under = 0
time = 10

[State 1050, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1050
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AT
ignorehitpause = 1

[State 1050, HitBy]
type = HitBy
trigger1 = 1
time = 1
value = SCA, AP
ignorehitpause = 1

[State 1050, BGPalFX]
type  = BGPalFX
trigger1 = time = 0
time = 80
add = 10, 10, 25
mul = 100, 100, 100

[State 1050,envshake]
type = envshake
trigger1 = ProjContact7556 = 1
time = 30
freq = 88
ampl = -5
phase = 10

[State 1050, hitdef]
type = HitDef
trigger1 = Time >= 0
trigger1 = timemod = 10,1
trigger1 = hitcount < 10
attr = S, SP
animtype  = Medium
damage    = 3,1
hitflag = MAF
guardflag = MA
pausetime = 0,20
sparkxy = -0,-100
hitsound   = S0,2
guardsound = 6,0
ground.slidetime = 15
ground.hittime = 15
air.hittime	= 15
ground.velocity = -5,-2
guard.velocity = -5
air.velocity = -5,3
airguard.velocity	= -5,-2
ground.cornerpush.veloff = -3
ground.type = high
air.type = high
fall = 1
fall.recover = 0
air.fall = 1
palfx.time = 40
palfx.invertall = 1
palfx.add = 189,0,200
palfx.sinadd = 189, 0, 200, 5

[State 1050,proj]
type = Projectile
trigger1 = time = 100
projanim = 7556
projremovetime = 60
projremove = 0
projpriority = 99
projid = 7556
offset = 0,0
velocity = 0,-7
attr = S, SP
damage   = 30,15
animtype = back
guardflag = MA
hitflag = MAFDP
pausetime = 0,10
sparkxy = 0,-40
sparkno = 1
hitsound   = S0,17
guardsound = 6,0
ground.type = low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -2,-6.5
air.velocity = -2,-6
air.fall = 1
fall = 1
p2stateno = 3010
palfx.time = 40
palfx.invertall = 1
palfx.add = 189,0,200
palfx.sinadd = 189, 0, 200, 5

[State 1050, allpfx]
type = allpalfx
trigger1 = ProjContact7556 = 1
time = 20
add = 80,0,110
sinadd = 80,0,110

[State 1050, Envcolor]
type = envcolor
trigger1 = ProjContact7556 = 1
value = 250,250,250
under = 0
time = 10

[State 1050,end]
type = Destroyself
trigger1 = p2movetype != H
trigger2 = time = 160

;Energy release intro
[Statedef 1052]
type    = S
movetype= I
physics = S
poweradd = -1000
anim = 1034
ctrl = 0
velset = 0,0

[State 1052, portrait]
type = Helper
trigger1 = time = 0
postype = p1
pos = 0,0
stateno = 996
bindtime = 1
ownpal = 1
name = "Portrait"
id = 996
supermovetime = 9999
ignorehitpause = 1

[State 1052, freeze]
type = posfreeze
trigger1 = time >= 0

[State 1052, trademark]
type = Explod
trigger1 = time = 0
anim = 9007
id = 9007
pos = 10,-27
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 22
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1052, trademark]
type = Explod
trigger1 = time = 20
anim = 9005
id = 9005
pos = 10,-27
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 14
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1052, Super bg]
type = Explod
trigger1 = time = 1
anim = 19010
id = 19010
pos = 0,0
postype = left
sprpriority = -99999
bindtime = -1
removetime = 48
ignorehitpause = 1
ownpal = 1
Supermove = 1

[State 1052, pause]
type = SuperPause
trigger1 = animelem = 1
pos = -36, -85
anim = -1
postype = p1
movetime = 48
time = 48
darken = 0

[State 1052, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0
trigger1 = time <= 48
time = 1
add = (Time * -6),(Time * -6),(Time * -6)
color = 0

[State 1052, Envcolor]
type = envcolor
trigger1 = time = 0
value = 250,250,250
under = 0
time = 5

[State 1052, Super Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 0,20
volume = 500

[State 1052, end]
type = ChangeState
trigger1 = time = 48
value = 1053

;Energy release 
[Statedef 1053]
type    = S
movetype= I
physics = N
poweradd= 0
ctrl = 0
anim = 1053
velset = 0,0

[State 1053, playsnd]
type = Playsnd
trigger1 = Time = 5
value = 1,4

[State 1053, BGPalFX]
type  = BGPalFX
trigger1 = time = 0
time = 40
add = 10, 10, 25
mul = 100, 100, 100

[State 1053, Energy release]
type = Helper
trigger1 = time = 10
trigger2 = time = 11
trigger3 = time = 12
trigger4 = time = 14
trigger5 = time = 15
postype = p1
pos = 0,0
stateno = 1054
bindtime = 1
ownpal = 1
name = "Energy balls"
id = 1054
ignorehitpause = 1

[State 1053, purpleballs]
type = Explod
trigger1 = Time = 5
persistent = 0
anim = 94
pos = 0,0
postype = p1
velocity = 8,0
sprpriority = 100
bindtime = 1
removetime = 60
ignorehitpause = 1

[State 1053, purpleballs]
type = Explod
trigger1 = Time = 5
persistent = 0
anim = 94
pos = 0,0
postype = p1
velocity = -8,0
sprpriority = 100
bindtime = 1
removetime = 60
ignorehitpause = 1

[State 1053, purpleballs]
type = Explod
trigger1 = Time = 5
persistent = 0
anim = 94
pos = 0,0
postype = p1
velocity = 8,-8
sprpriority = 100
bindtime = 1
removetime = 60
ignorehitpause = 1

[State 1053, purpleballs]
type = Explod
trigger1 = Time = 5
persistent = 0
anim = 94
pos = 0,0
postype = p1
velocity = -8,-8
sprpriority = 100
bindtime = 1
removetime = 60
ignorehitpause = 1

[State 1053, purpleballs]
type = Explod
trigger1 = Time = 5
persistent = 0
anim = 94
pos = 0,0
postype = p1
velocity = 0,-8
sprpriority = 100
bindtime = 1
removetime = 60
ignorehitpause = 1

[state 1053,ki]
type = projectile
trigger1 = time = 0
projanim = 731
projid = 731
projremovetime = 48
projpriority = 9999
projsprpriority = -5
projhits = 1
projmisstime = 4
projremove = 0
velocity = 0,0
offset = -6,0
attr = S, SP
animtype  = Heavy
damage    = 10,8
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S999           
guardsound = S6,0                
ground.type = High
ground.slidetime = 40	
ground.hittime  = 60
ground.velocity = -9
air.velocity = -9,-1.6
air.animtype = Back

[State 1053, Envcolor]
type = envcolor
trigger1 = time = 0
value = 250,250,250
under = 0
time = 5

[State 1053,envshake]
type = envshake
trigger1 = time = 0
time = 30
freq = 88
ampl = -5
phase = 10

[State Fly]
type = Changestate
trigger1 = Animtime = 0 && Pos y < 0
value = 2051

[State 1053, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Energy balls
[Statedef 1054]
type = A
movetype = A
physics = N
anim = 94
ctrl = 0
poweradd = 0
juggle = 0
sprpriority = 3

[State 1054, transparent after image]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 1
time = 2000
length = 5
PalBright   =   0,  0,  0
PalContrast = 128,0,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1054, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value	= SCA

[State 1054, varrandom]
type = varrandom
trigger1 = time = 0
v = 6
value = -50,50

[State 1054, varrandom]
type = varrandom
trigger1 = time = 0
v = 7
value = -50,-30

[State 1054, posset]
type = posset
trigger1 = time = 0
x = Var(6)
y = var(7)

[State 1054, VelAdd]
type = Velset
trigger1 = ParentDist X < -30 
;trigger1 = Vel X > -5
x = -3

[State 1054, VelAdd]
type = Velset
trigger1 = ParentDist X > 30  
;trigger1 = Vel X < 5
x = 3

[State 1054, VelAdd]
type = VelAdd
trigger1 = Parent, Pos Y > Pos Y 
trigger1 = Vel Y < 5
y = 0.1

[State 1054, VelAdd]
type = VelAdd
trigger1 = Parent, Pos Y <= Pos Y 
trigger1 = Vel Y > -5
y = -0.1

[State 1054, hitdef]
type = HitDef
trigger1 = Time >= 0
trigger1 = hitcount = 0
attr = S, SP
animtype = Medium
damage = 50,25
hitflag = MAF
guardflag = MA
pausetime = 0,20
sparkxy = -0,-100
hitsound = S0,2
guardsound = 6,0
ground.slidetime = 15
ground.hittime = 15
air.hittime	= 15
ground.velocity = -5,-2
guard.velocity = -5
air.velocity = -5,3
airguard.velocity	= -5,-2
ground.cornerpush.veloff = -3
ground.type = high
air.type = high
palfx.time = 40
palfx.invertall = 1
palfx.add = 189,0,200
palfx.sinadd = 189, 0, 200, 5

[State 1054, DestroySelf]
type = DestroySelf
trigger1 = MoveContact = 1
trigger2 = time > 2000 

[State 1054, next]
type = changestate
trigger1 = time > 20 
trigger1 = parent,command = "start"
value = 1055

;Energy balls (p2 heatseek)
[Statedef 1055]
type = A
movetype = A
physics = N
anim = 94
ctrl = 0
poweradd = 0
juggle = 0
sprpriority = 3

[State 1055, transparent after image]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 1
time = 2000
length = 5
PalBright   =   0,  0,  0
PalContrast = 128,0,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1055, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value	= SCA

[State 1055, Velset]
type = Velset
trigger1 = P2bodydist x > 20
x = 4

[State 1055, Velset]
type = Velset
trigger1 = P2bodydist x < -20
x = -4

[State 1055, Velset]
type = Velset
trigger1 = pos y > 40
y = -4

[State 1055, Velset]
type = Velset
trigger1 = pos y < -90
y = 4

;[State 1055, VelAdd]
;type = VelAdd
;trigger1 = p2bodydist x < -5
;trigger1 = p2bodydist x > -20 
;x = 0.6

[State 1054, hitdef]
type = HitDef
trigger1 = Time >= 0
trigger1 = hitcount = 0
attr = S, SP
animtype = Medium
damage = 50,25
hitflag = MAF
guardflag = MA
pausetime = 0,20
sparkxy = -0,-100
hitsound = S0,2
guardsound = 6,0
ground.slidetime = 15
ground.hittime = 15
air.hittime	= 15
ground.velocity = -5,-2
guard.velocity = -5
air.velocity = -5,3
airguard.velocity	= -5,-2
ground.cornerpush.veloff = -3
ground.type = high
air.type = high
palfx.time = 40
palfx.invertall = 1
palfx.add = 189,0,200
palfx.sinadd = 189, 0, 200, 5

[State 1055, DestroySelf]
type = DestroySelf
trigger1 = MoveContact = 1
trigger2 = time = 200

;Hyper Elbow attack
[Statedef 1056]
type    = S
movetype= I
physics = S
poweradd = -1000
anim = 1034
ctrl = 0
velset = 0,0

[State 1056, portrait]
type = Helper
trigger1 = time = 0
postype = p1
pos = 0,0
stateno = 996
bindtime = 1
ownpal = 1
name = "Portrait"
id = 996
supermovetime = 9999
ignorehitpause = 1

[State 1056, freeze]
type = posfreeze
trigger1 = time >= 0

[State 1056, trademark]
type = Explod
trigger1 = time = 0
anim = 9007
id = 9007
pos = 0,-47
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 22
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1056, trademark]
type = Explod
trigger1 = time = 20
anim = 9005
id = 9005
pos = 0,-47
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 14
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1056, Super bg]
type = Explod
trigger1 = time = 1
anim = 19010
id = 19010
pos = 0,0
postype = left
sprpriority = -99999
bindtime = -1
removetime = 48
ignorehitpause = 1
ownpal = 1
Supermove = 1

[State 1056, pause]
type = SuperPause
trigger1 = animelem = 1
pos = -36, -85
anim = -1
postype = p1
movetime = 48
time = 48
darken = 0

[State 1056, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0
trigger1 = time <= 48
time = 1
add = (Time * -6),(Time * -6),(Time * -6)
color = 0

[State 1056, Envcolor]
type = envcolor
trigger1 = time = 0
value = 250,250,250
under = 0
time = 5

[State 1056, Super Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 0,20
volume = 500

[State 1056, end]
type = ChangeState
trigger1 = time = 48
value = 1057

;Hyper Elbow dash
[Statedef 1057]
type    = S
movetype= A
physics = S                    
juggle  = 5                      
velset = 0,0
ctrl = 0                         
anim = 1054
facep2 = 1
sprpriority = 5

[State 1057, gosnd]
type = PlaySnd
trigger1 = animelem = 1
value = 0,9

[State 1057, dust]
type = Explod
trigger1 = time = 0
persistent = 0
anim = 5412
pos = -10,2
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1057, velset]
type = velset
trigger1 = time = [0,20]
x = 10

[State 1057, afterimage]
type = AfterImage
trigger1 = time = 0 
time = 40
trans = add
PalContrast = 0, 0, 230
PalBright = 60, 0, 160

[State 1057, hit]
type = HitDef
trigger1 = animelem = 3
attr = S, SA
animtype  = hard
damage    = 20,50
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 0,15
sparkno = 2
sparkxy = -10,-40
hitsound   = S2,9
guardsound = 6,0
ground.type = high
air.type = high
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -5,-4
guard.velocity = -5
air.velocity = -5,-5
airguard.velocity = -5,0
p2stateno = 1063
p1stateno = 1058

[State 1057, playerpush]
type = playerpush
trigger1 = time >= 0
value = 0

[State 1057, end]
type = changestate
trigger1 = time = 20
value = 3345
ctrl = 0

;Freeza dashing back and forth
[Statedef 1058]
type    = S
movetype= I
physics = S
poweradd = 0
anim = 1055
ctrl = 0
sprpriority = 9999

[State 1058, pause]
type = SuperPause
trigger1 = Time = 0
pos = 1000,1000
postype = p1
time = 70
movetime = 70
darken = 1

[State 1058, afterimage]
type = AfterImage
trigger1 = time = 0 
time = 100
trans = add
PalContrast = 0, 0, 230
PalBright = 60, 0, 160

[State 1058, nothitby]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1058, dust]
type = Explod
trigger1 = p2bodydist X >= 60
trigger2 = p2bodydist X <= -60
persistent = 1
anim = 5412
pos = -10,2
postype = p1
facing = -1
sprpriority = 100
supermove = 1
bindtime = 1
ignorehitpause = 1
ownpal = 1

[State 1058, turn]
type = turn
trigger1 = p2bodydist X >= 60
trigger2 = p2bodydist X <= -60

[State 1058, explod]
type = Explod
trigger1 = timemod = 15,1
persistant = 1
anim = F2
pos = 0,-40
postype = p2
sprpriority = 100
bindtime = -1
ignorehitpause = 1
supermove = 1

[State 1058, hitadd]
type = hitadd
trigger1 = timemod = 10,1
value = 1
persistant = 1

[State 1058, targetlifeadd]
type = targetlifeadd
trigger1 = timemod = 10,1
value = -20
persistant = 1

[State 1058, hitsound]
type = playsnd
trigger1 = timemod = 10,1
value = 0,3
volume = 500
persistant = 1

[State 1058, white]
type = EnvColor
trigger1 = timemod = 15,1
time = 2
value = 240,240,240
under = 1
persistant = 1

[State 1058, velset]
type = velset
trigger1 = time >= 0
x = 15

[State 1058, playerpush]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 1058, end]
type = ChangeState
trigger1 = hitcount = 15
value = 1059

;slide fwd, delay
[Statedef 1059]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1056
sprpriority = 1

[State 1059, turn]
type = posset
trigger1 = p2bodydist x = 0
x = 20

[State 1059, playerpush]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 1059, nothitby]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

[State 1059, delay]
type = Helper
trigger1 = time = [5,10]
postype = p2
pos = 0,-20
stateno = 1065
bindtime = 1
ownpal = 1
name = "delay"
id = 1060
ignorehitpause = 1

[State 1059, delay]
type = Helper
trigger1 = time = 11
postype = p2
pos = 0,-20
stateno = 1066
bindtime = 1
ownpal = 1
name = "Bigdelay"
id = 1061
ignorehitpause = 1

[State 1059, posset]
type = posset
trigger1 = Time = 0
y = 0

[State 1059, veladd]
type = Velset
trigger1 = Timemod = 2,1
trigger1 = time > 20
trigger1 = time < 90
x = .90
y = 0

[State 1059, veladd]
type = Velset
trigger1 = time = 0
trigger1 = time < 20
x = 10

[State 1059, veladd]
type = Velset
trigger1 = time > 90
x = 0
y = 0

[State 1059, end]
type = ChangeState
trigger1 = time > 110 
value = 0
ctrl = 1

;delay helper
[Statedef 1065]
type    = S
movetype= A
physics = S                    
juggle  = 1                      
velset = 0,0
ctrl = 0                         
anim = 9150

[State 1065, explod]
type = Explod
trigger1 = time = 0
persistant = 1
anim = F2
pos = 0,-40
postype = p2
random = 32,60
sprpriority = 100
bindtime = -1
ignorehitpause = 1
supermove = 1

[State 1065, hit]
type = HitDef
trigger1 = animelem = 1
attr = S, SA
animtype  = light
damage    = 10,11
getpower  = 0
priority  = 6
guardflag = 
pausetime = 0,20
sparkno = -1
sparkxy = 0,-40
hitsound   = S0,1
guardsound = 6,0
ground.type = high
air.type = high
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,-0
guard.velocity = -0
air.velocity = 0,-0
airguard.velocity = 0,0
palfx.time = 50
palfx.add = 0,0,0
palfx.sinadd = 0, 0, 0, 5
palfx.mul = 256,256,256
palfx.color = 0
p2stateno = 1063

[State 1065, end]
type = DestroySelf
trigger1 = Time = 6

;delay helper big
[Statedef 1066]
type    = S
movetype= A
physics = S                    
juggle  = 0                      
velset = 0,0
ctrl = 0                         
anim = 9150

[State 1066, hit]
type = HitDef
trigger1 = time = 50
attr = S, SA
animtype  = light
damage    = 70,11
getpower  = 0
priority  = 6
guardflag = 
pausetime = 0,3
sparkno = 1
sparkxy = 0,-40
hitsound   = S0,17
guardsound = 6,0
ground.type = high
air.type = high
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,-5
guard.velocity = -0
air.velocity = 0,-5
airguard.velocity = 0,0
fall = 1
air.fall = 1
fall.recover = 0

[State 1066, blood]
type = Explod
trigger1 = time = 0
anim = 6009
pos = -5,-50
postype = p2
ownpal = 1
sprpriority = 9999
supermovetime = 9999
ignorehitpause = 1

[State 1066, end]
type = DestroySelf
trigger1 = Time = 52

;p2 stuck in place
[Statedef 1063]
type    = S
movetype= H
physics = S

[State 1063,posset]
type = posset
trigger1 = time = 0 && enemy,stateno != 2002
y = 0

[State 1063,posset]
type = velset
trigger1 = time = 0
y = 0
x = 0

[State 1063,anim]
type = changeanim2
trigger1 = time = 0
value = 1057

;Final meteo intro
[Statedef 1067]
type    = S
movetype= I
physics = S
poweradd = -3000
anim = 1067
ctrl = 0
velset = 0,0

[State 1067, portrait]
type = Helper
trigger1 = time = 0
postype = p1
pos = 0,0
stateno = 996
bindtime = 1
ownpal = 1
name = "Portrait"
id = 996
supermovetime = 9999
ignorehitpause = 1

[State 1067, freeze]
type = posfreeze
trigger1 = time >= 0

[State 1067, trademark]
type = Explod
trigger1 = time = 0
anim = 9007
id = 9007
pos = 10,-27
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 22
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1067, trademark]
type = Explod
trigger1 = time = 20
anim = 9005
id = 9005
pos = 10,-27
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 14
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1067, Super bg]
type = Explod
trigger1 = time = 1
anim = 19010
id = 19010
pos = 0,0
postype = left
sprpriority = -99999
bindtime = -1
removetime = 48
ignorehitpause = 1
ownpal = 1
Supermove = 1

[State 1067, pause]
type = SuperPause
trigger1 = animelem = 1
pos = -36, -85
anim = -1
postype = p1
movetime = 48
time = 48
darken = 0

[State 1067, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0
trigger1 = time <= 48
time = 1
add = (Time * -6),(Time * -6),(Time * -6)
color = 0

[State 1067, Envcolor]
type = envcolor
trigger1 = time = 0
value = 250,250,250
under = 0
time = 5

[State 1067, Super Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 0,20
volume = 500

[State 1067, end]
type = ChangeState
trigger1 = time = 48
value = 1068

;Final meteo Initial attack
[Statedef 1068]
type    = S
movetype= A
physics = S
juggle  = 6
poweradd= 0
ctrl = 0
velset = 0,0
anim = 210

[State 1068, playsnd]
type = PlaySnd
trigger1 = Time = 2
value = 0, 5

[State 1068, hit]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 45
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,20
sparkxy = -2, -32
hitsound   = S0,1
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2
p1stateno = 1069

[State 1068, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = movehit
var(1) = 6

[State 1068, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Final meteo combo
[Statedef 1069]
type    = S
movetype= A
physics = S
;juggle  = 3
anim = 1069
poweradd = 0
ctrl = 0
velset = 0, 0

[State 1069, playsnd]
type = PlaySnd
trigger1 = Time = 0
value = 5, 9

[State 1069, velocity]
type = velset
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
trigger3 = AnimElem = 9
trigger4 = AnimElem = 13
trigger5 = AnimElem = 17
trigger6 = AnimElem = 21
x = 5
y = 0

[State 1069, multiple hits]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
trigger3 = AnimElem = 9
trigger4 = AnimElem = 13
trigger5 = AnimElem = 17
trigger6 = AnimElem = 21
trigger7 = AnimElem = 22
animtype  = light
attr = S, SA
damage    = 5,5
pausetime = 0,40
guardflag = M
sparkxy = -10,-40
sparkno = 1
hitsound   = S0,2
guardsound = 6,0
ground.type = high                 
ground.slidetime = 12
ground.hittime  = 12             
ground.velocity = 1

[State 1069, hitdef]
type = HitDef
trigger1 = AnimElem = 25
animtype  = hard
attr = S, SA
damage    = 5,5
pausetime = 0,20
guardflag = M
sparkxy = -10,-40
sparkno = 2
hitsound   = S0,2
guardsound = 6,0
ground.type = high                 
ground.slidetime = 12             
ground.hittime  = 12             
ground.velocity = 0,-20
air.velocity = 0,-20
p1stateno = 1070

[state 1085, end]
type = changestate
trigger1 = time = 200
value = 0
ctrl = 1

[State 1069, transparent after image]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 3
time = 40
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

;Teleport Above opponent
[Statedef 1070]
type = S
Movetype = I
Physics = N
Anim = 1070
ctrl = 0
facep2 = 1
poweradd = 0

[State 1070, transparent after image]
type = AfterImage
trigger1 = Time = 5
trans = add1
TimeGap  = 1
FrameGap = 3
time = 30
length = 5
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[state 1070, invis]
type = assertspecial
trigger1 = time >= 5
flag = invisible 

[state 1070, snd]
type = playsnd
trigger1 = animelem = 1
value = 0,12

[State 1070, stop]
type = velset
trigger1 = 1
x = 0
y = 0

[state 1070,posset]
type = posadd
trigger1 = time = 5
x = 0
y = -100

[State 1070, BGPalFX]
type  = BGPalFX
trigger1 = time = 0 
time = 5
add = 100, 100, 145
;mul = 150, 150, 150
invertall = 1

[State 1070, ScreenBound]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 1,0

[state 1070,next]
type = changestate
trigger1 = time = 10
value = 1071

;Knock opponent to the right
[Statedef 1071]
type    = S
movetype= A
physics = S
;juggle  = 3
anim = 220
poweradd = 0
ctrl = 0
velset = 0, 0

[State 1071, hitdef]
type = HitDef
trigger1 = AnimElem = 3
animtype  = hard
attr = S, SA
damage    = 5
pausetime = 0,20
guardflag = M
sparkxy = -10,-40
sparkno = 2
hitsound   = S0,2
guardsound = 6,0
ground.type = high                 
ground.slidetime = 12             
ground.hittime  = 12             
ground.velocity = 0,0
air.velocity = -12,-6
p1stateno = 1072

[state 1085, end]
type = changestate
trigger1 = time = 80
value = 50
ctrl = 1

;Teleport right of opponent
[Statedef 1072]
type = S
Movetype = I
Physics = N
Anim = 1070
ctrl = 0
facep2 = 1
poweradd = 0

[State 1072, transparent after image]
type = AfterImage
trigger1 = Time = 10
trans = add1
TimeGap  = 1
FrameGap = 3
time = 20
length = 2
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[state 1072, invis]
type = assertspecial
trigger1 = time >= 10
flag = invisible 

[state 1072, snd]
type = playsnd
trigger1 = animelem = 1
value = 0,12

[State 1072, stop]
type = velset
trigger1 = 1
x = 0
y = 0

[state 1072,posset]
type = posadd
trigger1 = time = 10
x = 150
y = 0

[State 1072, BGPalFX]
type  = BGPalFX
trigger1 = time = 0 
time = 5
add = 100, 100, 145
;mul = 150, 150, 150
invertall = 1

[State 1072, ScreenBound]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 1,0

[state 1072,next]
type = changestate
trigger1 = time >= 10
value = 1073

;Knock opponent to the up
[Statedef 1073]
type    = S
movetype= A
physics = S
;juggle  = 3
anim = 1073
facep2 = 1
poweradd = 0
ctrl = 0
velset = 0, 0

[State 1072, hitdef]
type = HitDef
trigger1 = AnimElem = 2
animtype  = hard
attr = S, SA
damage    = 5
pausetime = 0,12
guardflag = M
sparkxy = -10,-40
sparkno = 2
hitsound   = S0,2
guardsound = 6,0
ground.type = high                 
ground.slidetime = 12             
ground.hittime  = 12             
ground.velocity = 0,0
air.velocity = 3,-10
p1stateno = 1074

[state 1085, end]
type = changestate
trigger1 = time = 80
value = 50
ctrl = 1

;Teleport above opponent
[Statedef 1074]
type = S
Movetype = I
Physics = N
Anim = 1070
ctrl = 0
facep2 = 1
poweradd = 0

[State 1074, transparent after image]
type = AfterImage
trigger1 = Time = 10
trans = add1
TimeGap  = 1
FrameGap = 3
time = 20
length = 2
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[state 1074, invis]
type = assertspecial
trigger1 = time >= 10
flag = invisible 

[state 1074, snd]
type = playsnd
trigger1 = animelem = 1
value = 0,12

[State 1074, stop]
type = velset
trigger1 = 1
x = 0
y = 0

[state 1074,posset]
type = posadd
trigger1 = time = 10
x = 0
y = -100

[State 1074, BGPalFX]
type  = BGPalFX
trigger1 = time = 0 
time = 5
add = 100, 100, 145
;mul = 150, 150, 150
invertall = 1

[State 1074, ScreenBound]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 1,0

[state 1074,next]
type = changestate
trigger1 = time >= 10
value = 1075

;Knock opponent to downright
[Statedef 1075]
type    = S
movetype= A
physics = S
;juggle  = 3
anim = 1075
facep2 = 1
poweradd = 0
ctrl = 0
velset = 0, 0

[State 1075, hitdef]
type = HitDef
trigger1 = AnimElem = 2
animtype  = hard
attr = S, SA
damage    = 5
pausetime = 0,15
guardflag = M
sparkxy = -10,-40
sparkno = 2
hitsound   = S0,2
guardsound = 6,0
ground.type = high                 
ground.slidetime = 12             
ground.hittime  = 12             
ground.velocity = 0,0
air.velocity = -10,10
p1stateno = 1076

[state 1085, end]
type = changestate
trigger1 = time = 80
value = 50
ctrl = 1

;Teleport above down left
[Statedef 1076]
type = S
Movetype = I
Physics = N
Anim = 1070
ctrl = 0
facep2 = 1
poweradd = 0

[State 1076, transparent after image]
type = AfterImage
trigger1 = Time = 10
trans = add1
TimeGap  = 1
FrameGap = 3
time = 20
length = 2
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[state 1076, invis]
type = assertspecial
trigger1 = time >= 10
flag = invisible 

[state 1076, snd]
type = playsnd
trigger1 = animelem = 1
value = 0,12

[State 1076, stop]
type = velset
trigger1 = 1
x = 0
y = 0

[state 1076,posset]
type = posadd
trigger1 = time = 10
x = -60
y = 60

[State 1076, BGPalFX]
type  = BGPalFX
trigger1 = time = 0 
time = 5
add = 100, 100, 145
;mul = 150, 150, 150
invertall = 1

[State 1076, ScreenBound]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 1,0

[state 1076,next]
type = changestate
trigger1 = time >= 10
value = 1077

;Multi hits
[Statedef 1077]
type    = S
movetype= A
physics = S
;juggle  = 3
anim = 1039
poweradd = 0
ctrl = 0
velset = 0, 0

[State 1077, targetbind]
type = targetbind
trigger1 = time = 0
pos = 50,0
time = 10

[State 1077, transparent after image]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 1
time = 250
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1077, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = hitcount != 0
v = 1
value = 2
ignorehitpause = 1

[State 1077, multiple hits]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
trigger10 = AnimElem = 10
trigger11 = AnimElem = 11
trigger12 = AnimElem = 12
trigger13 = AnimElem = 13
trigger14 = AnimElem = 14
trigger15 = AnimElem = 15
trigger16 = AnimElem = 16
trigger17 = AnimElem = 17
trigger18 = AnimElem = 18
trigger19 = AnimElem = 19
trigger20 = AnimElem = 20
trigger21 = AnimElem = 21
trigger22 = AnimElem = 22
trigger23 = AnimElem = 23
trigger24 = AnimElem = 24
trigger25 = AnimElem = 25
trigger26 = AnimElem = 26
trigger27 = AnimElem = 27
trigger28 = AnimElem = 28
trigger29 = AnimElem = 29
trigger30 = AnimElem = 20
trigger31 = AnimElem = 31
trigger32 = AnimElem = 32
trigger33 = AnimElem = 33
trigger34 = AnimElem = 34
trigger35 = AnimElem = 35
trigger36 = AnimElem = 36
trigger37 = AnimElem = 37
trigger38 = AnimElem = 38
trigger39 = AnimElem = 39
trigger40 = AnimElem = 40
trigger41 = AnimElem = 41
trigger42 = AnimElem = 42
trigger43 = AnimElem = 43
trigger44 = AnimElem = 44
trigger45 = AnimElem = 45
trigger46 = AnimElem = 46
trigger47 = AnimElem = 47
animtype  = light
attr = S, SA
damage    = 1
pausetime = 0,10
guardflag = 
sparkxy = -10,-40
sparkno = 1
hitsound   = S0,2
guardsound = 6,0
ground.type = high                 
ground.slidetime = 12
ground.hittime  = 12             
ground.velocity = 0

[State 1077, hitdef]
type = HitDef
trigger1 = AnimElem = 48
animtype  = hard
attr = S, SA
damage    = 6
pausetime = 0,30
guardflag = M
sparkxy = -10,-40
sparkno = 2
hitsound   = S0,2
guardsound = 6,0
ground.type = high                 
ground.slidetime = 12             
ground.hittime  = 12             
ground.velocity = -10,0
p1stateno = 1078

[state 1085, end]
type = changestate
trigger1 = time = 400
value = 50
ctrl = 1

;Teleport Behind opponent
[Statedef 1078]
type = S
Movetype = I
Physics = N
Anim = 1070
ctrl = 0
facep2 = 1
poweradd = 0

[State 1078, transparent after image]
type = AfterImage
trigger1 = Time = 10
trans = add1
TimeGap  = 1
FrameGap = 3
time = 20
length = 2
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[state 1078, invis]
type = assertspecial
trigger1 = time >= 10
flag = invisible 

[state 1078, snd]
type = playsnd
trigger1 = animelem = 1
value = 0,12

[State 1078, stop]
type = velset
trigger1 = 1
x = 0
y = 0

[state 1078,posset]
type = posadd
trigger1 = time = 10
x = 100
y = 0

[State 1078, BGPalFX]
type  = BGPalFX
trigger1 = time = 0 
time = 5
add = 100, 100, 145
;mul = 150, 150, 150
invertall = 1

[State 1078, ScreenBound]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 1,0

[state 1078,next]
type = changestate
trigger1 = time >= 10
value = 1079

;Combo behind opponent
[Statedef 1079]
type    = S
movetype= A
physics = S
;juggle  = 3
anim = 1078
poweradd = 0
facep2 = 1
ctrl = 0
velset = 0, 0

[State 1079, targetbind]
type = Targetbind
trigger1 = time = 0
pos = 20,0
time = 10

[State 1079, velocity]
type = velset
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
trigger3 = AnimElem = 9
trigger4 = AnimElem = 13
trigger5 = AnimElem = 17
trigger6 = AnimElem = 21
x = 1
y = 0

[State 1078, multiple hits]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
trigger3 = AnimElem = 9
trigger4 = AnimElem = 13
trigger5 = AnimElem = 17
trigger6 = AnimElem = 21
trigger7 = AnimElem = 22
animtype  = light
attr = S, SA
damage    = 15,5
pausetime = 0,40
guardflag = M
sparkxy = -10,-40
sparkno = 1
hitsound   = S0,2
guardsound = 6,0
ground.type = high                 
ground.slidetime = 12
ground.hittime  = 12             
ground.velocity = 1

[State 1079, hitdef]
type = HitDef
trigger1 = AnimElem = 25
animtype  = hard
attr = S, SA
damage    = 5
pausetime = 0,10
guardflag = M
sparkxy = -10,-40
sparkno = 2
hitsound   = S0,2
guardsound = 6,0
ground.type = high                 
ground.slidetime = 12             
ground.hittime  = 12             
ground.velocity = 0,-10
p1stateno = 1080

[State 1079, transparent after image]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 3
time = 40
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[state 1085, end]
type = changestate
trigger1 = time = 80
value = 50
ctrl = 1

;Teleport above opponent
[Statedef 1080]
type = S
Movetype = I
Physics = N
Anim = 1070
ctrl = 0
facep2 = 1
poweradd = 0

[State 1080, transparent after image]
type = AfterImage
trigger1 = Time = 10
trans = add1
TimeGap  = 1
FrameGap = 3
time = 20
length = 2
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[state 1080, invis]
type = assertspecial
trigger1 = time >= 10
flag = invisible 

[state 1080, snd]
type = playsnd
trigger1 = animelem = 1
value = 0,12

[State 1080, stop]
type = velset
trigger1 = 1
x = 0
y = 0

[state 1080,posset]
type = posadd
trigger1 = time = 10
x = 0
y = -100

[State 1080, BGPalFX]
type  = BGPalFX
trigger1 = time = 0 
time = 5
add = 100, 100, 145
;mul = 150, 150, 150
invertall = 1

[State 1080, ScreenBound]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 1,0

[state 1080,next]
type = changestate
trigger1 = time >= 10
value = 1081

;Knock opponent to right
[Statedef 1081]
type    = S
movetype= A
physics = S
;juggle  = 3
anim = 1081
facep2 = 1
poweradd = 0
ctrl = 0
velset = 0, 0

[State 1081, Targetbind]
type = Targetbind
trigger1 = time = 0
pos = 20,0
time = 10

[State 1081, hitdef]
type = HitDef
trigger1 = AnimElem = 2
animtype  = hard
attr = S, SA
damage    = 5
pausetime = 0,15
guardflag = M
sparkxy = -10,-40
sparkno = 2
hitsound   = S0,2
guardsound = 6,0
ground.type = high                 
ground.slidetime = 12             
ground.hittime  = 12             
ground.velocity = 0,0
air.velocity = -10,0
p1stateno = 1082

[state 1085, end]
type = changestate
trigger1 = time = 80
value = 50
ctrl = 1

;Teleport right of opponent
[Statedef 1082]
type = S
Movetype = I
Physics = N
Anim = 1070
ctrl = 0
facep2 = 1
poweradd = 0

[State 1082, transparent after image]
type = AfterImage
trigger1 = Time = 10
trans = add1
TimeGap  = 1
FrameGap = 3
time = 20
length = 2
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[state 1082, invis]
type = assertspecial
trigger1 = time >= 10
flag = invisible 

[state 1082, snd]
type = playsnd
trigger1 = animelem = 1
value = 0,12

[State 1082, stop]
type = velset
trigger1 = 1
x = 0
y = 0

[state 1082,posset]
type = posadd
trigger1 = time = 10
x = 100
y = 0

[State 1082, BGPalFX]
type  = BGPalFX
trigger1 = time = 0 
time = 5
add = 100, 100, 145
;mul = 150, 150, 150
invertall = 1

[State 1082, ScreenBound]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 1,0

[state 1082,next]
type = changestate
trigger1 = time >= 10
value = 1083

;Stun opponent
[Statedef 1083]
type    = S
movetype= A
physics = S
;juggle  = 3
anim = 1073
poweradd = 0
facep2 = 1
ctrl = 0
velset = 0, 0

[State 1083, hitdef]
type = HitDef
trigger1 = AnimElem = 2
animtype  = hard
attr = S, SA
damage    = 5
pausetime = 0,30
guardflag = M
sparkxy = -10,-40
sparkno = 2
hitsound   = S0,2
guardsound = 6,0
ground.type = high                 
ground.slidetime = 12             
ground.hittime  = 12             
ground.velocity = 0,0
air.velocity = 5,-5
p1stateno = 1084

[state 1085, end]
type = changestate
trigger1 = time = 80
value = 50
ctrl = 1

;Teleport over opponent
[Statedef 1084]
type = S
Movetype = I
Physics = N
Anim = 1070
ctrl = 0
facep2 = 1
poweradd = 0

[State 1084, transparent after image]
type = AfterImage
trigger1 = Time = 10
trans = add1
TimeGap  = 1
FrameGap = 3
time = 20
length = 2
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[state 1084, invis]
type = assertspecial
trigger1 = time >= 10
flag = invisible 

[state 1084, snd]
type = playsnd
trigger1 = animelem = 1
value = 0,12

[State 1084, stop]
type = velset
trigger1 = 1
x = 0
y = 0

[state 1084,posset]
type = posadd
trigger1 = time = 10
x = 0
y = -50

[State 1084, BGPalFX]
type  = BGPalFX
trigger1 = time = 0 
time = 5
add = 100, 100, 145
;mul = 150, 150, 150
invertall = 1

[State 1084, ScreenBound]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 1,0

[state 1084,next]
type = changestate
trigger1 = time >= 10
value = 1085

;Final hit
[Statedef 1085]
type    = S
movetype= A
physics = S
;juggle  = 3
anim = 1075
facep2 = 1
poweradd = 0
ctrl = 0
velset = 0, 0

[State 1085, hitdef]
type = HitDef
trigger1 = AnimElem = 2
animtype  = hard
attr = S, SA
damage    = 5
pausetime = 0,90
guardflag = M
sparkxy = -10,-40
sparkno = 2
hitsound   = S0,17
guardsound = 6,0
ground.type = high                 
ground.slidetime = 12             
ground.hittime  = 12             
ground.velocity = 0,0
air.velocity = 0,10
p2stateno = 1086

[state 1085, end]
type = changestate
trigger1 = time = 80
value = 50
ctrl = 1

;P2 heading for the ground
[Statedef 1086]
type = A
movetype = I
physics = N
anim = 5100

[State 1086, changeanim]
type = velset
trigger1 = Time >= 0
y = 16

[State 1086, changeanim]
type = changestate
trigger1 = pos Y >= 0
value = 1087

;P2 hitting the ground
[Statedef 1087]
type = A
movetype = H
physics = N

[State 1087, g spark]
type = Explod
trigger1 = pos Y >= 0
trigger1 = pos Y <= 7
anim = F62
pos = 0,0
postype = P1
removetime = -2
sprpriority = 3

[State 1087, changeanim]
type = changeanim2
trigger1 = Time = 0
value = 1084

[State 1087, bounce up]
type = velset
trigger1 = time = [0,25]
y = -8

[State 1087, stop]
type = velset
trigger1 = Time = [25,28]
y = 0

[State 1087, float alittle]
type = veladd
trigger1 = time = [28,35]
y = -0.16

[State 1087, go back down]
type = velset
trigger1 = time = 35
y = 8

[State 1087, EnvShake]
type = EnvShake
trigger1 = pos Y >= 0
time = 12
ampl = 25
phase = 18

[State 1087, hit ground end]
type = SelfState
trigger1 = pos y >= 0
trigger1 = time >= 50
value = 5100

;Desperation: Total annihilation intro
[Statedef 1099]
type    = S
movetype= I
physics = S
poweradd = -3000
anim = 1067
ctrl = 0
velset = 0,0

[State 1099, portrait]
type = Helper
trigger1 = time = 0
postype = p1
pos = 0,0
stateno = 996
bindtime = 1
ownpal = 1
name = "Portrait"
id = 996
supermovetime = 9999
ignorehitpause = 1

[State 1099, freeze]
type = posfreeze
trigger1 = time >= 0

[State 1099, trademark]
type = Explod
trigger1 = time = 0
anim = 9007
id = 9007
pos = 10,-27
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 22
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1099, trademark]
type = Explod
trigger1 = time = 20
anim = 9005
id = 9005
pos = 10,-27
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 14
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1099, Super bg]
type = Explod
trigger1 = time = 1
anim = 19010
id = 19010
pos = 0,0
postype = left
sprpriority = -99999
bindtime = -1
removetime = 48
ignorehitpause = 1
ownpal = 1
Supermove = 1

[State 1099, pause]
type = SuperPause
trigger1 = animelem = 1
pos = -36, -85
anim = -1
postype = p1
movetime = 48
time = 48
darken = 0

[State 1099, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0
trigger1 = time <= 48
time = 1
add = (Time * -6),(Time * -6),(Time * -6)
color = 0

[State 1099, Envcolor]
type = envcolor
trigger1 = time = 0
value = 250,250,250
under = 0
time = 5

[State 1099, Super Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 0,18
volume = 500

[State 1099, end]
type = ChangeState
trigger1 = time = 48
value = 1098

;Total annihilation: initial attack
[Statedef 1098]
type    = S
movetype= A
physics = S
juggle  = 6
poweradd= 0
ctrl = 0
velset = 0,0
anim = 210

[State 1098, playsnd]
type = PlaySnd
trigger1 = Time = 2
value = 0, 5

[State 1098, hit]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 500,25
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,20
sparkxy = -2, -32
hitsound   = S0,1
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2
p1stateno = 1097
p2stateno = 1063

[State 1098, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = movehit
var(1) = 6

[State 1098, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Freeza glide into space
[Statedef 1097]
type = S
Movetype = I
Physics = N
Anim = 1093
ctrl = 0
facep2 = 1
poweradd = 0

[State 1097, pause]
type = SuperPause
trigger1 = time = 0
pos = -36, -85
anim = -1
postype = p1
movetime = 90
time = 90
darken = 0

[State 1097, transparent after image]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 3
time = 90
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,8,8
PalAdd      =   200,  0,  0
PalMul      =  1,1,1

[State 1097, glide up]
type = velset
trigger1 = time >= 0
x = 0
y = -7

[State 1097, ScreenBound]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 0,1

[state 1097,next]
type = changestate
trigger1 = time >= 90
value = 1093

;Freeza in Space
[Statedef 1093]
type = S
Movetype = I
Physics = N
Anim = 1094
ctrl = 0
poweradd = 0
sprpriority = 989

[State 1093, ScreenBound]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 0,1

[State 1093, Flash]
type = Posset
trigger1 = time = 0
y = 10

[State 1093, Flash]
type = envcolor
trigger1 = time = 0
value = 250,250,250
under = 0
time = 10

[State 1093, Flash]
type = envcolor
trigger1 = time >= 10
value = 0,0,0
under = 1
time = 1

[State 1093, pause]
type = SuperPause
trigger1 = time = 0
pos = -36, -85
anim = -1
postype = p1
movetime = 190
time = 190
darken = 0

[State 1093, glide up]
type = velset
trigger1 = time = [10,29]
x = 0
y = -6

[State 1093, stop]
type = velset
trigger1 = time >= 30
x = 0
y = 0

[State 1093, ScreenBound]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 0,1

[State 1093, earth]
type = Explod
trigger1 = time = 0
persistent = 0
anim = 995
pos = 160,90
postype = left
sprpriority = 100
bindtime = -1
removetime = 192
scale = 2,2
ignorehitpause = 1
ownpal = 1
supermove = 1

[state 1093,playsnd]
type = playsnd
trigger1 = time = 20
value = 1,4

[State 1093, varadd]
type = varset
trigger1 = time = 0
fv = 2
value = 1

[State 1093, varadd]
type = varadd
trigger1 = time = [50,55]
fv = 2
value = .2

[State 1093, big ball]
type = Explod
trigger1 = time = [50,55]
anim = 1095
pos = -120,50
postype = p1
sprpriority = 998
bindtime = 1
removetime = 2
scale = fvar(2),fvar(2)
ignorehitpause = 1
ownpal = 1
supermovetime = 135

[State 1093, big ball fully scaled]
type = Explod
trigger1 = time = 55
anim = 1095
pos = -120,50
postype = p1
sprpriority = 998
bindtime = 1
removetime = 55
scale = fvar(2),fvar(2)
velocity = 0,0
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1093, big ball fully scaled moving down]
type = Explod
trigger1 = time = 110
anim = 1095
pos = -120,50
postype = p1
sprpriority = 998
bindtime = 1
removetime = 80
scale = fvar(2),fvar(2)
velocity = 0,4
ignorehitpause = 1
ownpal = 1
supermove = 1

[state 1093,next]
type = changestate
trigger1 = time >= 190
value = 1094

;Ball coming
[Statedef 1094]
type = S
Movetype = I
Physics = N
Anim = 1094
ctrl = 0
poweradd = 0
sprpriority = 990

[State 1094, ball]
type = Helper
trigger1 = time = 0
postype = p2
pos = 0,-500
stateno = 1095
bindtime = 1
ownpal = 1
name = "Big ball"
id = 1095
size.xscale = 3
size.yscale = 3
supermovetime = 9999
ignorehitpause = 1

[State 1094, Flash]
type = Posset
trigger1 = time = 0
y = -400

[State 1094, Flash]
type = envcolor
trigger1 = time = 0
value = 250,250,250
under = 0
time = 10

;[State 1094, pause]
;type = SuperPause
;trigger1 = time >= 0
;pos = -36, -85
;anim = -1
;postype = p1
;movetime = 1
;time = 1
;darken = 0

[State 1094, stop]
type = velset
trigger1 = time >= 0
x = 0
y = 0

[State 1094, ScreenBound]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 0,0

[state 1094,next]
type = changestate
trigger1 = time >= 130
value = 50
ctrl = 1

;-----------------------------------
;Big ball
[StateDef 1095]
type    = S
movetype= H
physics = N
velset = 0,0
anim = 1095
ctrl = 0

[State 1095, down]
type = velset
trigger1 = time >= 20
y = 7 

[State 1095, explosion]
type = Helper
trigger1 = pos Y >= 0
postype = p1
pos = 0,0
stateno = 1096
bindtime = 1
ownpal = 1
name = "purpleexplosion"
id = 1095
supermovetime = 9999
ignorehitpause = 1

[State 1095, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
time = 100
add = -150,-150,-150
color = 0

[State 1095, EnvShake]
type = EnvShake
trigger1 = time >= 0
time = 60
ampl = 15
phase = 18

[State 1095, byebye]
type = destroyself
trigger1 = Pos Y >= 0 

;-----------------------------------
;Purple explosion
[StateDef 1096]
type    = S
movetype= H
physics = N
velset = 0,0
anim = 9150
ctrl = 0

[State 1096, scale set]
type = varset
trigger1 = time = 0
fv = 3
value = 1

[State 1096, scale add]
type = varadd
trigger1 = time = [1,30]
fv = 3
value = .5

[State 1093, big ball fully scaled]
type = Explod
trigger1 = time = [1,30]
anim = 91
pos = -20,50
postype = p1
sprpriority = 100
bindtime = 1
removetime = 1
scale = fvar(3),fvar(3)
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1093, big ball fully scaled]
type = Explod
trigger1 = time = [1,30]
anim = 994
pos = 0,0
postype = p2
sprpriority = 100
bindtime = 1
removetime = 1
scale = fvar(3),fvar(3)
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1096, Flash]
type = envcolor
trigger1 = time = 30
value = 250,0,250
under = 0
time = 30

[State 1096, playsnd]
type = playsnd
trigger1 = time = 0
value = 1,0

[State 1096,proj]
type = Projectile
trigger1 = time = 30
projanim = 9150
projremovetime = 5
projremove = 0
postype = p2
offset = 0,0
velocity = 0,0
attr = S, SP
damage   = 150,0
animtype = back
guardflag = MA
hitflag = MAFDP
sparkxy = 0,-40
sparkno = 1
pausetime = 0,1
hitsound   = S0,17
guardsound = 6,0
ground.type = low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = 10,-30
air.velocity = -10,-30
palfx.time = 140
palfx.invertall = 1
palfx.add = 189,0,200
palfx.sinadd = 189, 0, 200, 5
p2stateno = 3010

[State 1096, byebye]
type = destroyself
trigger1 = time = 90 

;Flash battle: Disciple x style
[Statedef 2000]
type    = S
movetype= I
physics = S
poweradd = -1000
anim = 1067
ctrl = 0
velset = 0,0

[State 2000, portrait]
type = Helper
trigger1 = time = 0
postype = p1
pos = 0,0
stateno = 996
bindtime = 1
ownpal = 1
name = "Portrait"
id = 996
supermovetime = 9999
ignorehitpause = 1

[State 2000, freeze]
type = posfreeze
trigger1 = time >= 0

[State 2000, trademark]
type = Explod
trigger1 = time = 0
anim = 9007
id = 9007
pos = 0,-47
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 22
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 2000, trademark]
type = Explod
trigger1 = time = 20
anim = 9005
id = 9005
pos = 0,-47
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 14
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 2000, Super bg]
type = Explod
trigger1 = time = 1
anim = 19010
id = 19010
pos = 0,0
postype = left
sprpriority = -99999
bindtime = -1
removetime = 48
ignorehitpause = 1
ownpal = 1
Supermove = 1

[State 2000, pause]
type = SuperPause
trigger1 = animelem = 1
pos = -36, -85
anim = -1
postype = p1
movetime = 48
time = 48
darken = 0

[State 2000, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0
trigger1 = time <= 48
time = 1
add = (Time * -6),(Time * -6),(Time * -6)
color = 0

[State 2000, Envcolor]
type = envcolor
trigger1 = time = 0
value = 250,250,250
under = 0
time = 5

[State 2000, Super Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 0,20
volume = 500

[State 2000, end]
type = ChangeState
trigger1 = time = 48
value = 2001

;Flashbattle: Disciple x style initialiate
[Statedef 2001]
type    = A
movetype= A
physics = A
poweradd = 0
juggle = 6
anim = 1035
ctrl = 0

[State 2001, afterimage]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 2
time = 20
length = 10
PalBright = 0, 0, 0
PalContrast = 255,255,255
PalAdd =   0,  0,  0
;PalMul =  1,1,1

[State 2001, velset]
type = Velset
trigger1 = Time >= 0
x = 10
y = 0

[State 2001, hit]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
animtype  = light
attr = S, SA
damage    = 20,5
pausetime = 9,12
guardflag = M
sparkxy = -10,-40
sparkno = 1
hitsound   = S0,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 30
ground.velocity = 1
p2stateno = 1063

[State 2001, flash]
type = EnvColor
trigger1 = Movehit = 1
value = 200,0,0
under = 0
time = 4

[State 2001, playerpush]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 2001, end]
type = ChangeState
trigger1 = MoveHit = 1
value = 2002
ctrl = 0

[State 2001, miss]
type = ChangeState
trigger1 = time = 20
value = 50
ctrl = 1

;Mid-air Comboing
[Statedef 2002]
type    = S
movetype= A
physics = S
;juggle  = 3
anim = 1078
poweradd = 0
facep2 = 1
ctrl = 0
velset = 0, 0

[State 2002, targetbind]
type = Targetbind
trigger1 = time >= 0
pos = 20,0
time = 1

[State 2002, velocity]
type = velset
;trigger1 = random <= 250
trigger1 = backedgedist = [0,5]
x = 7
y = 0

[State 2002, turn]
type = turn
trigger1 = random <= 50

[State 2002, velocity]
type = velset
trigger1 = random <= 250
x = 0
y = 7

[State 2002, velocity]
type = velset
trigger1 = random <= 250
x = 0
y = -7

[State 2002, posset]
type = posset
trigger1 = pos y > 0 
y = 0

[State 2002, posset]
type = posset
trigger1 = pos y < -200 
y = -190

[State 2002, multiple hits]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
trigger3 = AnimElem = 9
trigger4 = AnimElem = 13
trigger5 = AnimElem = 17
trigger6 = AnimElem = 21
trigger7 = AnimElem = 22
animtype  = light
attr = S, SA
damage    = 5,1
pausetime = 0,40
guardflag = M
sparkxy = -10,-40
sparkno = 1
hitsound   = S0,2
guardsound = 6,0
ground.type = high                 
ground.slidetime = 12
ground.hittime  = 12             
ground.velocity = 0
p2stateno = ifelse(time >= 528,1086,1063)

[State 2002, transparent after image]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 3
time = 528
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 2002, EnvShake]
type = EnvShake
trigger1 = time >= 0
time = 528
ampl = 15
phase = 18

[State 2002, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0
time = 1
add = var(10),var(10),var(10)
color = 0

[State 2002, varrandom]
type = varrandom
trigger1 = time >= 0 
v = 10
range = 0,255

[state 2002, end]
type = changestate
trigger1 = p2life = 0
value = 620

[state 2002, end]
type = changestate
trigger1 = P2stateno = 1086
trigger2 = p2life > 0
value = 50
ctrl = 1

;The over whelmer
[Statedef 2003]
type    = S
movetype= I
physics = S
poweradd = -1000
anim = 2000
ctrl = 0
velset = 0,0

[State 2003, portrait]
type = Helper
trigger1 = time = 0
postype = p1
pos = 0,0
stateno = 996
bindtime = 1
ownpal = 1
name = "Portrait"
id = 996
supermovetime = 9999
ignorehitpause = 1

[State 2003, freeze]
type = posfreeze
trigger1 = time >= 0

[State 2003, trademark]
type = Explod
trigger1 = time = 0
anim = 9007
id = 9007
pos = 0,-47
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 22
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 2003, trademark]
type = Explod
trigger1 = time = 20
anim = 9005
id = 9005
pos = 0,-47
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 14
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 2003, Super bg]
type = Explod
trigger1 = time = 1
anim = 19010
id = 19010
pos = 0,0
postype = left
sprpriority = -99999
bindtime = -1
removetime = 48
ignorehitpause = 1
ownpal = 1
Supermove = 1

[State 2003, pause]
type = SuperPause
trigger1 = animelem = 1
pos = -36, -85
anim = -1
postype = p1
movetime = 48
time = 48
darken = 0

[State 2003, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0
trigger1 = time <= 48
time = 1
add = (Time * -6),(Time * -6),(Time * -6)
color = 0

[State 2003, Envcolor]
type = envcolor
trigger1 = time = 0
value = 250,250,250
under = 0
time = 5

[State 2003, Super Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 0,20
volume = 500

[State 2003, end]
type = ChangeState
trigger1 = time = 48
value = 2004

;The Overwhelmer
[StateDef 2004]
type    = A
movetype= A
physics = A
velset = 0,0
anim = 2001
ctrl = 0

[State 2004, Flash]
type = envcolor
trigger1 = projhit = 1
value = 250,0,250
under = 0
time = 10

[State 2004, playsnd]
type = playsnd
trigger1 = time = 0
value = 0,11

[State 2002, EnvShake]
type = EnvShake
trigger1 = projhit = 1
time = 30
ampl = 15
phase = 18

[State 2004, purplewind]
type = Explod
trigger1 = Time = 0
persistent = 0
anim = 2321
pos = 30,-40
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1

[State 2004, proj]
type = Projectile
trigger1 = time = 0
projanim = 93
projremanim = 2322
projremovetime = 60
offset = 20,-40
velocity = 9,0
attr = S, SP
damage   = 150,0
animtype = back
guardflag = MA
hitflag = MAFDP
sparkxy = 0,-40
sparkno = 1
pausetime = 0,1
hitsound   = S0,17
guardsound = 6,0
ground.type = low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = 10,-10
air.velocity = -10,-10
palfx.time = 140
palfx.invertall = 1
palfx.add = 189,0,200
palfx.sinadd = 189, 0, 200, 5
p2stateno = 2007

[State 2004, velset]
type = velset
trigger1 = time = 10
x = -7
y = 7

[State 2004, end]
type = changestate
trigger1 = time >= 13
;trigger1 = pos y >= 0
value = 5100
ctrl = 1 

; Hit by The overwhelmer
[Statedef 2007]
type = A
movetype = H
physics = N
ctrl = 0
anim = 5030

[State 2007, defset]
type = DefenceMulSet
trigger1 = time = 0
value = 1

[State 2007, nothitby]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 2007, envshake]
type = EnvShake
trigger1 = time = 0
trigger2 = (Vel Y > 0) && (Pos Y >= 0)
time = 20
ampl = 5

[State 2007, posfreeze]
type = PosFreeze
trigger1 = HitShakeOver = 0

[State 2007, forcefeed]
type = ForceFeedBack
trigger1 = HitShakeOver = 0
time = 1
waveform = square

[State 2007, posadd]
type = posadd
trigger1 = HitShakeOver = 1
persistent = 0
y = -65

[State 2007, white]
type = EnvColor
trigger1 = (time = 0) && (life > 0)
time = 2
value = 240,240,240
under = 1
ignorepausetime = 1

[State 2007, changeanim]
type = ChangeAnim2
trigger1 = HitShakeOver = 1
persistent = 0
value = 3010

[State 2007, hitvelset]
type = HitVelSet
trigger1 = HitShakeOver = 1
persistent = 0
x = 1
y = 1

[State 2007, veladd]
type = VelAdd
trigger1 = HitShakeOver = 1
y = 0.4

[State 2007, end]
type = ChangeState
triggerall = Anim = 3010
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 2005

;p2 laying on ground
[Statedef 2005]
type    = L
movetype= H
physics = N

[State 2005,posset]
type = posset
trigger1 = time = 0
y = 0

[State 2005,posset]
type = velset
trigger1 = time = 0
y = 0
x = 0

[State 2005,anim]
type = changeanim2
trigger1 = time >= 0
value = 5080

[State 2005,dizzy]
type = changestate
trigger1 = time >= 50
value = 2006

;p2 dizzy
[Statedef 2006]
type    = S
movetype= H
physics = N

[State 2006,posset]
type = posset
trigger1 = time = 0
y = 0

[State 2006,posset]
type = velset
trigger1 = time = 0
y = 0
x = 0

[State 2006,anim]
type = changeanim
trigger1 = time = 0
value = Ifelse(selfanimexist(5300) = 0,5000,5300)

[State 2006,end]
type = selfstate
trigger1 = time >= 150
value = 5120

;Krazy Destructo disk
[Statedef 2011]
type    = S
movetype= I
physics = S
poweradd = -1000
anim = 2007
ctrl = 0
velset = 0,0

[State 2011, portrait]
type = Helper
trigger1 = time = 0
postype = p1
pos = 0,0
stateno = 996
bindtime = 1
ownpal = 1
name = "Portrait"
id = 996
supermovetime = 9999
ignorehitpause = 1

[State 2011, freeze]
type = posfreeze
trigger1 = time >= 0

[State 2011, trademark]
type = Explod
trigger1 = time = 0
anim = 9007
id = 9007
pos = 0,-47
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 22
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 2011, trademark]
type = Explod
trigger1 = time = 20
anim = 9005
id = 9005
pos = 0,-47
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 14
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 2011, Super bg]
type = Explod
trigger1 = time = 1
anim = 19010
id = 19010
pos = 0,0
postype = left
sprpriority = -99999
bindtime = -1
removetime = 48
ignorehitpause = 1
ownpal = 1
Supermove = 1

[State 2011, pause]
type = SuperPause
trigger1 = animelem = 1
pos = -36, -85
anim = -1
postype = p1
movetime = 48
time = 48
darken = 0

[State 2011, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0
trigger1 = time <= 48
time = 1
add = (Time * -6),(Time * -6),(Time * -6)
color = 0

[State 2011, Envcolor]
type = envcolor
trigger1 = time = 0
value = 250,250,250
under = 0
time = 5

[State 2011, Super Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 1,7
volume = 500

[state 2008, disk]
type = Explod
trigger1 = time = 0
ID = 2003
anim = 2003
pos = -22,-80
postype = p1
bindtime = -1
removetime = 48
ownpal = 0
sprpriority = 10
supermove = 1

[State 2011, end]
type = ChangeState
trigger1 = time = 48
value = 2008

;Krazy disk charge
[Statedef 2008]
type = S
Movetype = I
Physics = N
Anim = 2001
ctrl = 0
poweradd = 0

[State 2008, disk]
type = Helper
trigger1 = time = 0
postype = p1
pos = 22,-70
stateno = 2010
bindtime = 1
ownpal = 1
name = "Disc"
id = 2008
supermovetime = 9999
ignorehitpause = 1

[State Fly]
type = Changestate
trigger1 = time = 60 && Pos y < 0
value = 2051

[state 2008,next]
type = changestate
trigger1 = time = 60
value = 0
ctrl = 1

;Destructo disc helper
[Statedef 2010]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2003
sprpriority = 9999

[State 2010, posadd]
type = posset
trigger1 = time = 0
trigger1 = var(11) > 0
y = var(12)

[State 2010, varrandom]
type = varrandom
trigger1 = Time >= 0
v = 12
range = -10,-100

;[State 2010, playsnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 0,14

[State 2010, velset]
type = velset
trigger1 = Time >= 0
trigger1 = frontedgedist > -50
x = 25

[State 2010, stop]
type = velset
trigger1 = frontedgedist < -50
x = 0

[State 2010, blood]
type = Explod
trigger1 = movehit = 1
anim = 6009
persistent = 0
pos = -0,-0
postype = p1
ownpal = 1
sprpriority = 9999
supermovetime = 9999
ignorehitpause = 1

[State 2010, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 2008
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 2010, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AT
ignorehitpause = 1

[State 2010, HitBy]
type = HitBy
trigger1 = 1
time = 1
value = SCA, AP
ignorehitpause = 1

[State 2010, BGPalFX]
type  = BGPalFX
trigger1 = time = 0
time = 36
add = 10, 10, 25
mul = 100, 100, 100

[State 2010, hitdef]
type = HitDef
trigger1 = Time >= 0
trigger1 = hitcount < 9
affectteam = b
attr = S, SP
animtype  = Medium
damage    = 10
hitflag = MAF
guardflag = 
pausetime = 0,10
sparkxy = -10,-40
hitsound   = S1,5
guardsound = 6,0
ground.slidetime = 15
ground.hittime = 15
air.hittime	= 15
ground.velocity = -1,-2
guard.velocity = -1
air.velocity = -1,3
airguard.velocity	= -1,-2
ground.cornerpush.veloff = -3
ground.type = high
air.type = high
palfx.time = 40
palfx.invertall = 1
palfx.add = 189,0,200
palfx.sinadd = 189, 0, 200, 5

[State 2010, a image]
type = AfterImage
trigger1 = Time = 0
trans = add1
time = 40
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 2010,varadd]
type = varadd
trigger1 = time = 0
v = 11
value = 1

[State 2010,next]
type = changestate
trigger1 = time = 100
value = 2009

[State 2010,byebye]
type = destroyself
trigger1 = var(11) = 6

;Destructo disc helper travel left
[Statedef 2009]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2003
sprpriority = 9999

[State 2009, posadd]
type = posset
trigger1 = time = 0
trigger1 = var(11) > 0
y = var(12)

[State 2009, varrandom]
type = varrandom
trigger1 = Time >= 0
v = 12
range = -10,-100

[State 2009, a image]
type = AfterImage
trigger1 = Time = 0
trans = add1
time = 40
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 2009, blood]
type = Explod
trigger1 = movehit = 1
persistent = 0
anim = 6009
pos = -0,-0
postype = p1
ownpal = 1
sprpriority = 9999
supermovetime = 9999
ignorehitpause = 1

;[State 2009, playsnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 0,14

[State 2009, velset]
type = velset
trigger1 = Time >= 0
trigger1 = Backedgedist > -50
x = -25

[State 2009, stop]
type = velset
trigger1 = Backedgedist < -50
x = 0

[State 2009, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 2009
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 2009, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AT
ignorehitpause = 1

[State 2009, HitBy]
type = HitBy
trigger1 = 1
time = 1
value = SCA, AP
ignorehitpause = 1

[State 2009, BGPalFX]
type  = BGPalFX
trigger1 = time = 0
time = 36
add = 10, 10, 25
mul = 100, 100, 100

[State 2009, hitdef]
type = HitDef
trigger1 = Time >= 0
trigger1 = hitcount < 9
affectteam = b
attr = S, SP
animtype  = Medium
damage    = 10
hitflag = MAF
guardflag = 
pausetime = 0,10
sparkxy = -10,-40
hitsound   = S1,5
guardsound = 6,0
ground.slidetime = 15
ground.hittime = 15
air.hittime	= 15
ground.velocity = -1,-2
guard.velocity = -1
air.velocity = -1,3
airguard.velocity	= -1,-2
ground.cornerpush.veloff = -3
ground.type = high
air.type = high
palfx.time = 40
palfx.invertall = 1
palfx.add = 189,0,200
palfx.sinadd = 189, 0, 200, 5

[State 2009,next]
type = changestate
trigger1 = time = 100
value = 2010

;Sky Barrage Hop back
[Statedef 2015]
type = S
movetype = I
physics = N
anim = 2015
ctrl = 0
poweradd = 0
juggle = 0
sprpriority = 3

[State 2015, transparent after image]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 1
time = 200
length = 5
PalBright   =   0,  0,  0
PalContrast = 128,0,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 2015, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value	= SCA

[State 2015, Velset]
type = Velset
trigger1 = time >= 0
x = -2

[State 2015, Velset]
type = Velset
trigger1 = time >= 0
y = -6

[State 2015, Changestate]
type = Changestate
trigger1 = time = 20
value = 2016

;Sky barrage intro
[Statedef 2016]
type    = S
movetype= I
physics = S
poweradd = -3000
anim = 2019
ctrl = 0
velset = 0,0

[State 2016, portrait]
type = Helper
trigger1 = time = 0
postype = p1
pos = 0,0
stateno = 996
bindtime = 1
ownpal = 1
name = "Portrait"
id = 996
supermovetime = 9999
ignorehitpause = 1

[State 2016, freeze]
type = posfreeze
trigger1 = time >= 0

[State 2016, trademark]
type = Explod
trigger1 = time = 0
anim = 9007
id = 9007
pos = -0,-27
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 22
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 2016, trademark]
type = Explod
trigger1 = time = 20
anim = 9005
id = 9005
pos = -0,-27
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 14
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 2016, Super bg]
type = Explod
trigger1 = time = 1
anim = 19010
id = 19010
pos = 0,0
postype = left
sprpriority = -99999
bindtime = -1
removetime = 48
ignorehitpause = 1
ownpal = 1
Supermove = 1

[State 2016, pause]
type = SuperPause
trigger1 = animelem = 1
pos = -36, -85
anim = -1
postype = p1
movetime = 48
time = 48
darken = 0

[State 2016, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0
trigger1 = time <= 48
time = 1
add = (Time * -6),(Time * -6),(Time * -6)
color = 0

[State 2016, Envcolor]
type = envcolor
trigger1 = time = 0
value = 250,250,250
under = 0
time = 5

[State 2016, Super Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 1,7
volume = 500

[State 2016, end]
type = ChangeState
trigger1 = time = 48
value = 2017

;Sky barrage: Multi Shots
[Statedef 2017]
type    = S
movetype= I
physics = S
anim = 2016
poweradd = 0
velset = 0
ctrl = 0

[State 2017, Velset]
type = Velset
trigger1 = timemod = 4,1
x = -.25
y = -.25

[State 2017, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
time = 200
add = -150,-150,-150
color = 0

[State 2017, Energy Balls]
type = Helper
trigger1 = Timemod = 10,1
postype = p1
pos = -10,-36
stateno = 2018
bindtime = 1
ownpal = 1
name = "Energy balls"
id = 2018
ignorehitpause = 1

[State 2017, Energy Balls]
type = Helper
trigger1 = Timemod = 10,5
postype = p1
pos = 25,-36
stateno = 2018
bindtime = 1
ownpal = 1
name = "Energy balls"
id = 2018
ignorehitpause = 1

[State 2017,end]
type = ChangeState
trigger1 = Time = 200
value = 2019

;Energy balls helper
[Statedef 2018]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 94
sprpriority = 9999

[State 2018, playsnd]
type = PlaySnd
trigger1 = time = 0
value = 1,8
volume = 500

[State 2018, transparent after image]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 1
time = 40
length = 10
PalBright   =   0,  0,  0
PalContrast = 128,0,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 2018, playsnd]
type = PlaySnd
trigger1 = Pos Y >= 0
value = 0,16
volume = 500

[State 2018, Velset]
type = Velset
trigger1 = Time >= 0
x = 10
y = 15

[State 2018, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 2018
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 2018, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AT
ignorehitpause = 1

[State 2018, HitBy]
type = HitBy
trigger1 = 1
time = 1
value = SCA, AP
ignorehitpause = 1

[State 2018,envshake]
type = envshake
trigger1 = Pos Y >= 0
time = 30
freq = 88
ampl = -5
phase = 10

[State 2018, hitdef]
type = HitDef
trigger1 = movecontact = 0
trigger1 = hitcount < 1
attr = S, SP
animtype  = Medium
damage    = 5,1
hitflag = MAFD
guardflag = MA
pausetime = 0,20
sparkxy = -10,-0
hitsound   = S0,2
guardsound = 6,0
ground.slidetime = 15
ground.hittime = 15
air.hittime	= 15
ground.velocity = -1,0
guard.velocity = -1
air.velocity = -1,3
airguard.velocity	= -1,-2
ground.cornerpush.veloff = -3
ground.type = high
air.type = high
fall = 1
fall.recover = 0
air.fall = 1
palfx.time = 40
palfx.invertall = 1
palfx.add = 189,0,200
palfx.sinadd = 189, 0, 200, 5

[State 2018, Dust]
type = Explod
trigger1 = Pos y >= 0
persistent = 0
anim = 5412
pos = 20,0
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1

[State 1033, Dust]
type = Explod
trigger1 = Pos y >= 0
persistent = 0
anim = 5412
pos = -20,0
postype = p1
Facing = -1
sprpriority = 100
bindtime = 1
ignorehitpause = 1

[State 2018, Smoke]
type = Explod
trigger1 = Pos y >= 0
persistent = 0
anim = 1400
pos = 0,-20
postype = p1
scale = 2,2
Facing = -1
sprpriority = 100
bindtime = 1
ignorehitpause = 1

[State 2018,end]
type = Destroyself
trigger1 = Pos Y >= 0
trigger1 = time > 15

;Sky Barrage Hop away
[Statedef 2019]
type = S
movetype = I
physics = N
anim = 2015
ctrl = 0
poweradd = 0
juggle = 0
sprpriority = 3

[State 2019, transparent after image]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 1
time = 60
length = 5
PalBright   =   0,  0,  0
PalContrast = 128,0,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 2019, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value	= SCA

[State 2019, Velset]
type = Velset
trigger1 = time >= 0
x = -4

[State 2019, Velset]
type = Velset
trigger1 = time >= 0
y = -4

[State 2019, Changestate]
type = Changestate
trigger1 = time = 35
value = 50
ctrl = 1

;Nova shockwave intro
[Statedef 2020]
type    = S
movetype= I
physics = S
poweradd = -1000
anim = 2024
ctrl = 0
velset = 0,0

[State 2020, portrait]
type = Helper
trigger1 = time = 0
postype = p1
pos = 0,0
stateno = 996
bindtime = 1
ownpal = 1
name = "Portrait"
id = 996
supermovetime = 9999
ignorehitpause = 1

[State 2020, freeze]
type = posfreeze
trigger1 = time >= 0

[State 2020, trademark]
type = Explod
trigger1 = time = 0
anim = 9007
id = 9007
pos = 10,-27
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 22
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 2020, trademark]
type = Explod
trigger1 = time = 20
anim = 9005
id = 9005
pos = 10,-27
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 14
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 2020, Super bg]
type = Explod
trigger1 = time = 1
anim = 19010
id = 19010
pos = 0,0
postype = left
sprpriority = -99999
bindtime = -1
removetime = 48
ignorehitpause = 1
ownpal = 1
Supermove = 1

[State 2020, pause]
type = SuperPause
trigger1 = animelem = 1
pos = -36, -85
anim = -1
postype = p1
movetime = 48
time = 48
darken = 0

[State 2020, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0
trigger1 = time <= 48
time = 1
add = (Time * -6),(Time * -6),(Time * -6)
color = 0

[State 2020, Envcolor]
type = envcolor
trigger1 = time = 0
value = 250,250,250
under = 0
time = 5

[State 2020, Super Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 1,7
volume = 500

[State 2020, end]
type = ChangeState
trigger1 = time = 48
value = 2021

;Nova shockwave
[Statedef 2021]
type = S
Movetype = I
Physics = N
Anim = 2020
ctrl = 0
poweradd = 0

[State 2021, disk]
type = Helper
trigger1 = time = 5
postype = p1
pos = 22,-50
stateno = 2022
bindtime = 1
ownpal = 1
name = "Disc"
id = 2022
pausemovetime = 9999
ignorehitpause = 1

[State 2021, matrix]
type = Helper
triggerall = time = [5,45]
triggerall = numhelper(2023) = 0
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
trigger4 = command = "x"
trigger5 = command = "y"
trigger6 = command = "z"
postype = p1
pos = 0,-0
stateno = 2023
bindtime = 1
ownpal = 1
name = "matrix"
id = 2023
pausemovetime = 9999
ignorehitpause = 1

[State Fly]
type = Changestate
trigger1 = time = 50 && Pos y < 0
value = 2051

[state 2021,next]
type = changestate
trigger1 = time = 50
value = 0
ctrl = 1

;Matrix helper
[Statedef 2023]
type    = A
movetype= I
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 9150
sprpriority = 9999

[State 2023, pause]
type = Playsnd
trigger1 = time = 0
value = 1,9

[State 2023, pause]
type = Pause
trigger1 = time = 0
movetime = 61
time = 61

[State 2023, special]
type = assertspecial
trigger1 = time = [0,116]
flag = nomusic

[State 2023, scale add]
type = varadd
trigger1 = time = [0,45]
fv = 3
value = .35

[State 2023, scale circle]
type = Explod
trigger1 = time = [0,45]
anim = 2023
postype = p1
pos = 0,-40
removetime = 2
ownpal = 1
shadow = 0
scale = fvar(3),fvar(3)
pausemovetime = 2

[State 2023, scale circle]
type = Explod
trigger1 = time = 45
anim = 2023
postype = p1
pos = 0,-40
removetime = 16
ownpal = 1
shadow = 0
scale = fvar(3),fvar(3)
pausemovetime = 16

[State 2023, scale subtract]
type = varadd
trigger1 = time = [61,95]
fv = 3
value = -.35

[State 2023, scale circle]
type = Explod
trigger1 = time = [61,95]
anim = 2023
postype = p1
pos = 0,-40
removetime = 2
ownpal = 1
shadow = 0
scale = fvar(3),fvar(3)
pausemovetime = 2

[State 2023, pause]
type = Playsnd
trigger1 = time = 61
value = 1,10

[State 2023,end]
type = Destroyself
trigger1 = time = 116

;Nova ball helper
[Statedef 2022]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2022
sprpriority = 9999

[State 2022, playsnd]
type = PlaySnd
trigger1 = time = 0
value = 1,4
volume = 500

[State 2022, Velset]
type = Velset
trigger1 = Time >= 0
x = 7

[State 2022, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 2022
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 2022, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AT
ignorehitpause = 1

[State 2022, HitBy]
type = HitBy
trigger1 = 1
time = 1
value = SCA, AP
ignorehitpause = 1

[State 2022, hitdef]
type = HitDef
trigger1 = movecontact = 0
trigger1 = hitcount < 1
attr = S, SP
animtype  = Medium
damage    = 255,155
hitflag = MAFD
guardflag = MA
pausetime = 0,20
sparkxy = -10,-0
hitsound   = S0,2
guardsound = 6,0
ground.slidetime = 15
ground.hittime = 15
air.hittime	= 15
ground.velocity = -1,0
guard.velocity = -1
air.velocity = -1,3
airguard.velocity	= -1,-2
ground.cornerpush.veloff = -3
ground.type = high
air.type = high
fall = 1
fall.recover = 0
air.fall = 1
palfx.time = 40
palfx.invertall = 1
palfx.add = -100,-100,-100
palfx.sinadd = -100,-100, -100, 5

[State 2022, Shockwave ring]
type = Explod
trigger1 = Timemod = 10,1
anim = 2021
pos = -5,0
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1

[State 2022,end]
type = Destroyself
trigger1 = Frontedgebodydist = [-20,-40]
trigger2 = time = 200

;Slash Blade
[Statedef 1103]
type    = S
movetype= I
physics = S
poweradd = -1000
anim = 1103
ctrl = 0
velset = 0,0

[State 1103, portrait]
type = Helper
trigger1 = time = 0
postype = p1
pos = 0,0
stateno = 996
bindtime = 1
ownpal = 1
name = "Portrait"
id = 996
supermovetime = 9999
ignorehitpause = 1

[State 1103, freeze]
type = posfreeze
trigger1 = time >= 0

[State 1103, trademark]
type = Explod
trigger1 = time = 0
anim = 9007
id = 9007
pos = 0,-47
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 22
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1103, trademark]
type = Explod
trigger1 = time = 20
anim = 9005
id = 9005
pos = 0,-47
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 14
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1103, Super bg]
type = Explod
trigger1 = time = 1
anim = 19010
id = 19010
pos = 0,0
postype = left
sprpriority = -99999
bindtime = -1
removetime = 48
ignorehitpause = 1
ownpal = 1
Supermove = 1

[State 1103, pause]
type = SuperPause
trigger1 = animelem = 1
pos = -36, -85
anim = -1
postype = p1
movetime = 48
time = 48
darken = 0

[State 1103, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0
trigger1 = time <= 48
time = 1
add = (Time * -6),(Time * -6),(Time * -6)
color = 0

[State 1103, Envcolor]
type = envcolor
trigger1 = time = 0
value = 250,250,250
under = 0
time = 5

[State 1103, Super Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 0,20
volume = 500

[State 1103, mountain]
type = Helper
trigger1 = Time = 0
postype = p1
pos = 70,40
stateno = 1106
bindtime = 1
ownpal = 1
name = "Mountain"
id = 1106
ignorehitpause = 1
supermovetime = 999999999
size.xscale = 1
size.yscale = 1

[State 1103, end]
type = ChangeState
trigger1 = time = 48
value = 1104

;Cresent slash
[Statedef 1104]
type    = A
movetype= I
physics = N
anim = 1104
poweradd = 0
velset = 0
ctrl = 0

[State 1104, cresent]
type = Helper
trigger1 = Time = 0
postype = p1
pos = 25,-46
stateno = 1105
bindtime = 1
ownpal = 1
name = "Cresent blade"
id = 1105
ignorehitpause = 1

[State 1104, varadd]
type = varadd
trigger1 = time = 0
v = 2
value = 65

[State 1104,end]
type = ChangeState
trigger1 = Time = 10
value = 2019
ctrl = 0

;cresent helper
[Statedef 1105]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 62
sprpriority = 9999

[State 1105, playsnd]
type = PlaySnd
trigger1 = time = 0
value = 2,8
volume = 500

[State 1105, transparent after image]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 1
time = 40
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1105, Velset]
type = Velset
trigger1 = Time >= 0
x = 15
y = 15

[State 1105, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1105
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1105, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AT
ignorehitpause = 1

[State 1105, HitBy]
type = HitBy
trigger1 = 1
time = 1
value = SCA, AP
ignorehitpause = 1

[State 1105,envshake]
type = envshake
trigger1 = Pos Y >= 0
time = 30
freq = 88
ampl = -5
phase = 10

[State 1105, hitdef]
type = HitDef
trigger1 = movecontact = 0
trigger1 = hitcount < 1
attr = S, SP
animtype  = Medium
damage    = 200,55
hitflag = MAFD
guardflag = MAFL
pausetime = 0,20
sparkxy = -10,-0
hitsound   = S1,5
guardsound = 6,0
ground.slidetime = 15
ground.hittime = 30
air.hittime	= 30
ground.velocity = -7,0
guard.velocity = -1
air.velocity = -3,6
airguard.velocity	= -3,-6
ground.cornerpush.veloff = -3
ground.type = high
air.type = high
fall = 1
fall.recover = 0
air.fall = 1

[State 1105,end]
type = Destroyself
trigger1 = Pos Y >= 0
trigger1 = time > 20

;Mountain helper
[Statedef 1106]
type    = S
movetype= I
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 63
sprpriority = -99

[State 1106, posset]
type = posset
trigger1 = time = 0
y = 0

[State 1106, slice]
type = playsnd
trigger1 = time = 40
value = 2,7
value = 500

[State 1103, Envcolor]
type = envcolor
trigger1 = time = 40
value = 250,250,250
under = 0
time = 15

[State 1106, changeanim]
type = changeanim
trigger1 = time = 40
value = 64

[State 1106, bye]
type = destroyself
trigger1 = anim = 64
trigger1 = animtime = 0

;-----------------------------------
;Big portrait
[StateDef 996]
type    = S
movetype= I
physics = N
anim = 9150

[State 996, pic scale]
type = Explod
trigger1 = Time = [0,21]
anim = 996
pos = 160,120
postype = Left
ID = 10000
sprpriority = 4
supermovetime = 1
removetime = 1
ownpal = 1
scale = 4 - (time * 0.18), 4 - (time * 0.18)

[State 996, pic scale]
type = Explod
trigger1 = Time = 21
anim = 996
pos = 160,120
postype = Left
ID = 10000
sprpriority = 4
supermovetime = 999
ownpal = 1
removetime = 5
scale = .30,.30;4 - (time * 0.18), 4 - (time * 0.18)

[State 996, nothitby]
type = Nothitby
trigger1 = time >= 0
value = SCA

[State 996, spinportrait]
type = Helper
trigger1 = time = 26
pos = 160,-80
postype = Left
stateno = 997
bindtime = 1
ownpal = 1
name = "spin-Portrait"
id = 997
size.xscale = .30
size.yscale = .30
supermovetime = 9999
ignorehitpause = 1

[State 996, byebye]
type = destroyself
trigger1 = time = 50

;Big portrait spinning
[StateDef 997]
type    = S
movetype= I
physics = N
anim = 996

[State 997, angleadd]
type = AngleAdd
trigger1 = Time >= 0
value = -30

[State 997, angledraw]
type = AngleDraw
trigger1 = Time >= 0

[State 997, velset]
type = velset
trigger1 = time >= 0
x = 15

[State 997, nothitby]
type = Nothitby
trigger1 = time >= 0
value = SCA

[State 997, byebye]
type = destroyself
trigger1 = time = 25

;Super jump
[Statedef 1115]
type    = A
physics = N
velset = 0,-9
ctrl = 0

[State 1115, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 1115, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 1,11
volume = 500

[State 1115, super lines]
type = explod
trigger1 = time = 4
anim = 720
id = 720
sprpriority = 20
pos = 0,50
removetime = 38
bindtime = -1
vel = 0,-3

[state 1115, CtrlSet]
type = CtrlSet
trigger1 = Time >= 1
value = 1

[state 1115, VelSetFwd]
type = VelSet
trigger1 = command = "holdfwd"
x = 3 

[state 1115, VelSetBack]
type = VelSet
trigger1 = command = "holdback"
x = -3

[state 1115, VelAdd]
type = VelAdd
trigger1 = Time > 10
x = 0
y = .40

[state 1115, End]
type = ChangeState
trigger1 = Pos Y >= 1 
value = 52
ctrl = 1

;Fly Start
[Statedef 2050]
type = S
Movetype = I
Physics = N
Anim = 2050
ctrl = 0
poweradd = 0

[state 2050,fly up]
type = velset
trigger1 = time = 0
y = -5

[state 2050,next]
type = changestate
trigger1 = time = 20
value = 2051
ctrl = 1

;Fly Start
[Statedef 2051]
type = A
Movetype = I
Physics = N
;Anim = 2050
;ctrl = 0

[state 2051,turn]
type = turn
trigger1 = P2bodydist X < -30

[state 2051,fly up]
type = velset
trigger1 = Command = "holdup"
y = -5

[state 2051,fly up anim]
type = Changeanim
trigger1 = Command = "holdup"
value = 2051

[state 2051,fly up]
type = velset
trigger1 = Command = "holddown"
y = 5

[state 2051,fly down anim]
type = Changeanim
trigger1 = Command = "holddown"
value = 2052

[state 2051,fly left]
type = velset
trigger1 = Command = "holdback"
x = -5

[state 2051,fly down anim]
type = Changeanim
trigger1 = Command = "holdback"
value = 2054

[state 2051,fly right]
type = velset
trigger1 = Command = "holdfwd"
x = 5

[state 2051,fly right anim]
type = Changeanim
trigger1 = Command = "holdfwd"
value = 2053

[state 2051,Stop]
type = velset
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Command != "holdup"
trigger1 = Command != "holddown"
x = 0
y = 0

[state 2051,Float anim]
type = changeanim
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Command != "holdup"
trigger1 = Command != "holddown"
value = 2050

[state 2051,offscreen]
type = Posset
trigger1 = Pos Y < -270
y = -270

;necro's float effect
[State 2051, PosAdd]
type = PosAdd
trigger1 = (GameTime%30)=0
trigger1 = Pos Y > -200 && Pos Y < -10
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Command != "holdup"
trigger1 = Command != "holddown"
y = IfElse(Random <= 499,2,-2)

[state 2051,next]
type = changestate
trigger1 = Pos Y >= 0
value = 0
ctrl = 1

;Teleport
[Statedef 2060]
type = S
Movetype = I
Physics = N
Anim = 920
ctrl = 0
poweradd = 0

[state 2060,Teleport right]
type = velset
trigger1 = time = 0
x = 0
y = 0

[state 2060,Teleport right]
type = Posadd
trigger1 = command = "holdfwd"
trigger1 = animelem = 8
x = 200

[state 2060,Teleport left]
type = Posadd
trigger1 = command = "holdback"
trigger1 = animelem = 8
x = -200

[state 2060,Teleport up]
type = Posadd
trigger1 = command = "holdup"
trigger1 = animelem = 8
y = -150

[state 2060,Teleport down]
type = Posadd
trigger1 = command = "holddown"
trigger1 = animelem = 8
y = 150

[state 2060,ground]
type = Posset
trigger1 = Pos Y >= 0
y = 0

[state 2060,topedge]
type = Posset
trigger1 = Pos Y < -280
y = -280

[State 2060, disappear upward]
type = Helper
trigger1 = time = 0
stateno = 2061
postype = p1
pos = 0,-40
bindtime = 1
ownpal = 1
name = "vasnishing"
id = 2061

[State 2060, disappear downward]
type = Helper
trigger1 = time = 0
stateno = 2062
postype = p1
pos = 0,-40
bindtime = 1
ownpal = 1
name = "vanishing"
id = 2062

[State 2060, reappear upward]
type = Helper
trigger1 = time = 47
stateno = 2061
postype = p1
pos = 0,100
bindtime = 1
ownpal = 1
name = "reappear"
id = 2064

[State 2060, reappear downward]
type = Helper
trigger1 = time = 47
stateno = 2062
postype = p1
pos = 0,-100
bindtime = 1
ownpal = 1
name = "reappear"
id = 2063

[State 2060, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
trigger2 = time = 53
value = 0,12
volume = 500

[state 2060,next]
type = changestate
trigger1 = time >= 57
trigger1 = Pos Y < -10
value = 2051
ctrl = 1

[state 2060,next]
type = changestate
trigger1 = time >= 57
trigger1 = Pos Y >= -7
value = 0
ctrl = 1

;disappear upward
[Statedef 2061]
type    = A
movetype= I
physics = N
anim = 2060
poweradd = 0
ctrl = 0

[State 2061, nothere]
type = assertspecial
trigger1 = Time >= 0
flag = invisible

[State 2061, nothitby]
type = Nothitby
trigger1 = time >= 0
value = SCA

[State 2061, a image]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 2
FrameGap = 3
time = 30
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 2061, rise]
type = velset
trigger1 = Time >= 0
y = -6

[State 2061, die]
type = destroyself
trigger1 = Time = 30

;disappear upward
[Statedef 2062]
type    = A
movetype= I
physics = N
anim = 2060
poweradd = 0
ctrl = 0

[State 2062, nothere]
type = assertspecial
trigger1 = Time >= 0
flag = invisible

[State 2062, Super D]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 2
FrameGap = 3
time = 30
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 2062, descend]
type = velset
trigger1 = Time >= 0
y = 6

[State 2062, nithitby]
type = Nothitby
trigger1 = time >= 0
value = SCA

[State 2062, turn]
type = turn
trigger1 = Time = 0

[State 2062, die]
type = destroyself
trigger1 = Time = 30

;Power-up
[Statedef 2070]
type = S
Movetype = I
Physics = N
Anim = 2070
ctrl = 0
poweradd = 0

[state 2070,stop]
type = velset
trigger1 = time = 0
x = 0
y = 0

[State 2070, Purple]
type = palfx
trigger1 = timemod = 2, 0
time = 1
add = 150,0,150

[State 2070, Playsnd]
type = Playsnd
trigger1 = Time <= 60
trigger1 = timemod = 2,0
value = 3,3

[State 2070, Playsnd]
type = Playsnd
trigger1 = Time = 50
value = 1,3

[State 2070,	PalFX]
type			= PalFX
trigger1 		= ((Time > 18) && ((GameTime%5) = 0))
time			= 5
;trigger1		= (Time > 55) && ((GameTime%35) = 0)
;time			= 75
add 			= 15,20,0
sinadd 		= 40,35,5,4

[State 2070, Field]
type = Explod
trigger1 = time = 50
anim = 731
id = 731
pos = -0,0
postype = p1
removetime = -1
sprpriority = -100
bindtime = -1
ignorehitpause = 1
ownpal = 1
scale = 0.8, 0.8

[State 2070, SparkSnd]
type = PlaySnd
trigger1 = Time >= 60
trigger1 = (GameTime%25)=0
value = 1, 12

[State 2070, Envcolor]
type = envcolor
trigger1 = time = 50
value = 250,250,250
under = 0
time = 10

[State 2070,shake]
type = EnvShake
trigger1 = Time >= 60
time = 4
ampl = 4
freq = 127

[State 2070, rocks]
type = explod
trigger1 = timemod = 6, 1
trigger1 = time >= 60
anim = Ifelse(random <=499,502,501)
id = 502
sprpriority = 99
pos = 0,-11
postype = p1
random = 72,64
ownpal = 1
removetime = 100
vel = 0,-8

[state 2070,ki]
type = projectile
trigger1 = time = 60
projanim = 732
projid = 732
projremovetime = 10
projpriority = 9999
projsprpriority = -5
projhits = 1
projmisstime = 4
projremove = 0
velocity = 0,0
offset = -0,0
attr = S, SP
animtype  = Heavy
damage    = 40,10
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S999           
guardsound = S6,0                
ground.type = High
ground.slidetime = 40	
ground.hittime  = 60
ground.velocity = -10
air.velocity = -10,-1.6
guard.velocity = -10
airguard.velocity = -10,1.6
air.animtype = Back
p2stateno = 3001

[State 2070, electricity]
type = Explod
trigger1 = Time >= 10
trigger1 = timemod = 2,1
anim = Ifelse(random <=499,1440,Ifelse(random <=499,1441,1442))
pos = 0,-40
random = 32,32
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1
ownpal = 1

[State 2070, varadd]
type = varadd
trigger1 = NumHelper(3030) = 0
trigger1 = time >= 0
var(1) = 4
ignorehitpause = 1

[State 2070,rocks everywhere]
type = Helper
trigger1 = time = 60
trigger1 = numhelper(9200) = 0
stateno = 19201
name = "Incoming rocks!!!"
pos = 0,30;const(size.mid.pos.y)
postype = p1
id = 9200
bindtime = 1
helpertype = normal
sprpriority = 1
keyctrl = 0
ownpal = 1
under = 1

[State 2070, dust]
type = Explod
trigger1 = Time = 60
anim = 5412
pos = 10,2
facing = -1
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1
ownpal = 1

[State 2070, dust]
type = Explod
trigger1 = Time = 60
anim = 5412
pos = -10,2
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1
ownpal = 1

[State 2070, power]
type = PowerAdd
trigger1 = Time >= 60
value = 4

[State 2070, power]
type = PowerAdd
trigger1 = Time = [0,60]
value = 2

[State 2070, powerupend]
type = Changestate
trigger1 = command != "holda"
trigger1 = command != "holdx"
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0

[State 0, 1]
type = ChangeAnim
triggerall = var(3) = 0
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 0, differ]
type = ChangeAnim
triggerall = var(3) = 1
trigger1 = Anim != 800 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 800

[State 0, differ]
type = ChangeAnim
triggerall = var(3) >= 2
trigger1 = Anim != 801 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 801

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

;-----------------------------------------------------
;Snk syle dash
[Statedef 1118]
type    = S
physics = S
anim = 100
sprpriority = 1
velset = 0,0
ctrl = 0

[State 1118, Playerpush]
type = Playerpush
trigger1 = Time >= 0
value = 0

[State 1118, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 0,9
volume = 500

[State 1118, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 1118, statetype]
type = statetypeset
trigger1 = Time >= 0 && pos Y < 0
value = A

[State 1118, afterimage]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 3
time = 15
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9

[State 1118, dust]
type = Explod
trigger1 = Time = 0 && pos Y >= 0
persistent = 0
anim = 5412
pos = -10,2
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1
ownpal = 1

[State 1118, VelSet]
type = VelSet
trigger1 = Time = [0,20]
x = 9

[State 1118 CtrlSet]
type = CtrlSet
trigger1 = AnimElem = 2, = 0
value = 1

[State 1118, ChangeState]
type = ChangeState
trigger1 = Time = 20 && pos Y >= 0
value = 3345

[State 1119, ChangeState]
type = ChangeState
trigger1 = Time = 20 && pos Y < 0
value = 50

;snk dash: backwards
[Statedef 1119]
type    = S
physics = S
anim = 105
sprpriority = 1
velset = 0,0
ctrl = 0

[State 1119, statetype]
type = statetypeset
trigger1 = Time >= 0 && pos Y < 0
value = A

[State 1119, Playerpush]
type = Playerpush
trigger1 = Time >= 0
value = 0

[State 1119, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 0,9
volume = 500

[State 1119, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 1119, afterimage]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 3
time = 15
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9

[State 1119, dust]
type = Explod
trigger1 = Time = 0 && pos Y >= 0
persistent = 0
anim = 5412
pos = 10,2
postype = p1
facing = -1
sprpriority = 100
bindtime = 1
ignorehitpause = 1
ownpal = 1

[State 1119, VelSet]
type = VelSet
trigger1 = Time = [0,20]
x = -12

[State 1119 CtrlSet]
type = CtrlSet
trigger1 = AnimElem = 1, = 0
value = 1

[State 1119, ChangeState]
type = ChangeState
trigger1 = Time = 20 && pos Y >= 0
value = 3346

[State 1119, ChangeState]
type = ChangeState
trigger1 = Time = 20 && pos Y < 0
value = 50

;slide back(miss)
[Statedef 3346]
type = S
movetype = I
physics = S
ctrl = 0
anim = 3345
sprpriority = 1

[State 3346, playsnd]
type = PlaySnd
trigger1 = Time = 0
value = 0, 10

[State 3346, posset]
type = posset
trigger1 = Time = 0
y = 0

[State 3346, veladd]
type = Velset
trigger1 = Timemod = 2,1
x = -.60
y = 0

[State 3346, end]
type = ChangeState
trigger1 = time > 20 
value = 0
ctrl = 1

;-----------------------------------------------------
;Super Snk syle dash
[Statedef 2118]
type    = S
movetype = A
physics = S
anim = 100
sprpriority = 1
velset = 0,0
ctrl = 0

[State 2118, hit]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 20
guardflag = MA
pausetime = 12,12
sparkno = 2
sparkxy = -10,-70
hitsound   = S0,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -12
air.velocity = -12,-4
p2stateno = 3001

[State 2118, Playerpush]
type = Playerpush
trigger1 = Time >= 0
value = 0

[State 2118, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 0,9
volume = 500

[State 2118, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 2118, statetype]
type = statetypeset
trigger1 = Time >= 0 && pos Y < 0
value = A

[State 2118, afterimage]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 3
time = 15
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9

[State 2118, dust]
type = Explod
trigger1 = Time = 0 && pos Y >= 0
persistent = 0
anim = 5412
pos = -10,2
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1
ownpal = 1

[State 2119, VelSet]
type = VelSet
trigger1 = Time = [0,30]
x = 25

[State 2118 CtrlSet]
type = CtrlSet
trigger1 = AnimElem = 2, = 0
value = 1

[State 2118, ChangeState]
type = ChangeState
trigger1 = Time = 30 && pos Y >= 0
trigger2 = frontedgedist = [0,-5]
value = 0

[State 2119, ChangeState]
type = ChangeState
trigger1 = Time = 30 && pos Y < 0
value = 50

;Super snk dash: backwards
[Statedef 2119]
type    = S
physics = S
anim = 105
sprpriority = 1
velset = 0,0
ctrl = 0

[State 2119, statetype]
type = statetypeset
trigger1 = Time >= 0 && pos Y < 0
value = A

[State 2119, Playerpush]
type = Playerpush
trigger1 = Time >= 0
value = 0

[State 2119, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 0,9
volume = 500

[State 2119, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 2119, afterimage]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 3
time = 15
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9

[State 2119, dust]
type = Explod
trigger1 = Time = 0 && pos Y >= 0
persistent = 0
anim = 5412
pos = 10,2
postype = p1
facing = -1
sprpriority = 100
bindtime = 1
ignorehitpause = 1
ownpal = 1

[State 2119, VelSet]
type = VelSet
trigger1 = Time = [0,30]
x = -25

[State 2119 CtrlSet]
type = CtrlSet
trigger1 = AnimElem = 1, = 0
value = 1

[State 2119, ChangeState]
type = ChangeState
trigger1 = Time = 30 && pos Y >= 0
value = 0

[State 2119, ChangeState]
type = ChangeState
trigger1 = Time = 30 && pos Y < 0
value = 50

;=-=-=-=--=-=-=--=-=-=-=-=-==--=-
;Variable Super move selection helper
;=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
;hidden options helper
[Statedef 1120]
ctrl = 0
anim = 9150

;[State 1120]
;type = Turn
;trigger1 = facing != parent, facing

[State 1120]
type = ChangeState
triggerall = parent, var(18) = 0
trigger1 = (command = "menu1") && (parent, command = "menu1") && (time > 2) && (RoundState != 0) && (parent,var(3) >= 2) && (parent,statetype = S) && (parent,pos Y >=0)
value = 1121

;options activated
[Statedef 1121]
ctrl = 0
anim = 73
sprpriority = 90

[State 1121, Menu bind]
type = Bindtoroot
trigger1 = time = 0
pos = Ifelse(backedgedist > 20,60,0),-150

[State 1121, Menu selector]
type = Helper
trigger1 = time = 0
stateno = 1122
postype = p1
pos = -60,0
bindtime = 1
ownpal = 1
name = "Menu selector"
pausemovetime = 999999999999999999999
id = 1121

[State 1121,pause]
type = Pause
trigger1 = 1
time = 2
movetime = 2

[State 1121, snd]
type = playsnd
trigger1 = (Time > 5) && (command = "a") && (parent,command = "a")
trigger2 = (Time > 5) && (command = "b") && (parent,command = "b")
value = 1,16
volume = 500

[State 1121, end]
type = ChangeState
trigger1 = (Time > 5) && (command = "a") && (parent,command = "a")
trigger2 = (Time > 5) && (command = "b") && (parent,command = "b")
value = 1120

;options select
[Statedef 1122]
ctrl = 0
anim = 74
sprpriority = 99

[State 1122, setzero]
type = parentvarset
trigger1 = time = 0
v = 14
value = 0

[State 1122, snd]
type = playsnd
trigger1 = parent,command = "Tapdown"
trigger2 = parent,command = "Tapup"
value = 1,15
volume = 500

[State 1122, bind]
type = bindtoparent
trigger1 = time = 1
pos = -60,0
time = 1

[State 1122, movedown]
type = posadd
trigger1 = parent,command = "Tapdown" 
Trigger1 = parent,var(14) <= 0
y = 35

[State 1122, moveup]
type = posadd
trigger1 = parent,command = "Tapup"
trigger1 = parent,var(14) >= 0
y = -35

[State 1122, Varadd]
type = parentvaradd
trigger1 = parent,command = "Tapdown"
trigger1 = parent,var(14) <= 0
v = 14
value = 1 

[State 1122, Varadd]
type = parentvaradd
trigger1 = parent,command = "Tapup"
trigger1 = parent,var(14) >= 0
v = 14
value = -1

[State 1122, destroyself]
type = destroyself
trigger1 = helper(1120),stateno = 1120

;guard push helper
[Statedef 1129]
type = A
movetype = I
physics = N
anim = 9151

[State 1129, velset]
type = velset
trigger1 = time >= 0
x = 25

[State 1129, playerpush]
type = Playerpush
trigger1 = time >= 0
value = 1

[State 1129, nothitby]
type = nothitby
trigger1 = time >= 0
value = SCA
time = 1

[State 1129, die]
type = destroyself
trigger1 = time = 40
trigger2 = frontedgedist = [5,-5]

;=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
; Initialize (at the start of the round)
;=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
[Statedef 5900]
type = S

[State 5900, snd]
type = playsnd
trigger1 = roundno >= 1
trigger1 = time = 2
trigger1 = random < 25
value = 2,5
volume = 500

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = roundno = 1
value = 0
;first = 5
;last = 56

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundno = 1
value = 0
;first = 2
;last = 40

[State 5900, VarSet]
type 	= VarSet
trigger1 = Time = 0
var(19) = IfElse(Facing = 1,1,2)

[State 5900, 3] ;Intro
type = ChangeState
trigger1 = roundno = 1
value = 190
;---------------------------------------------------------------------------
;Power level bar helper
[Statedef 4000]
type = A
movetype = I
physics = N
anim = 90

[State 4000, varset]
type = VarSet
trigger1 = time = 0
fv = 1
value = parent, var(1)

[State 4000, scouter]
type = Explod
triggerall = numexplod(4005) = 0
trigger1 = time = 0
ID = 4005
anim = 4005
pos = Ifelse(parent,Var(19)=2,280,32),70
postype = left
bindtime = -1
removetime = -1
facing = Ifelse(parent,var(19)=2,1,-1)
ownpal = 0
sprpriority = -4

[State 4000, bar outline]
type = Explod
triggerall = numexplod(4000) = 0
trigger1 = time = 0
ID = 4000
anim = 4000
pos = Ifelse(parent,var(19)=2,263,55),100
postype = left
bindtime = -1
removetime = -1
facing = Ifelse(parent,var(19)=2,1,-1)
ownpal = 0
sprpriority = -4

[State 4000, green bar itself]
type = Explod
triggerall = numexplod(4001) = 0
trigger1 = time = 0
ID = 4001
anim = 4001
postype = left
pos = Ifelse(parent,var(19)=2,331,4), 100
bindtime = -1
removetime = -1
ownpal = 0
sprpriority = -97
scale = (fvar(1) / 1000), 1

[State 4000, next]
type = ChangeState
trigger1 = time = 0
value = 4001

;bar go up
[Statedef 4001]
type = A
movetype = I
physics = N
anim = 90

[State 4001, varset]
type = VarSet
trigger1 = time = 0
fv = 1
value = parent, var(1)

[State 4001, modify explod]
type = modifyExplod
trigger1 = time = 1
ID = 4001
scale = fvar(1)/1000,1

[State 4001, reset]
type = ChangeState
trigger1 = time = 2
value = 4000

[State 4001, reset]
type = destroyself
trigger1 = parent,var(3) = 1

;---------------------------------------------------------------------------
;Yellow Power level bar helper
[Statedef 4002]
type = A
movetype = I
physics = N
anim = 90

[State 4001, removeexplod]
type = removeexplod
trigger1 = time = 0
id = 4001

[State 4002, varset]
type = VarSet
trigger1 = time = 0
fv = 1
value = parent, var(1)

[State 4002, scouter]
type = Explod
triggerall = numexplod(4005) = 0
trigger1 = time = 0
ID = 4005
anim = 4005
pos = Ifelse(parent,Var(19)=2,280,32),70
postype = left
bindtime = -1
removetime = -1
facing = Ifelse(parent,var(19)=2,1,-1)
ownpal = 0
sprpriority = -4

[State 4002, bar outline]
type = Explod
triggerall = numexplod(4000) = 0
trigger1 = time = 0
ID = 4000
anim = 4000
pos = Ifelse(parent,var(19)=2,263,55),100
postype = left
bindtime = -1
removetime = -1
facing = Ifelse(parent,var(19)=2,1,-1)
ownpal = 0
sprpriority = -4

[State 4002, yellow bar itself]
type = Explod
triggerall = numexplod(4002) = 0
trigger1 = time = 0
ID = 4002
anim = 4002
postype = left
pos = Ifelse(parent,var(19)=2,331,4), 100
bindtime = -1
removetime = -1
ownpal = 0
sprpriority = -96
scale = (fvar(1) / 1000), 1

[State 4002, next]
type = ChangeState
trigger1 = time = 0
value = 4003

[State 4003, reset]
type = destroyself
trigger1 = parent,var(3) = 2

;bar go up
[Statedef 4003]
type = A
movetype = I
physics = N
anim = 90

[State 4003, varset]
type = VarSet
trigger1 = time = 0
fv = 1
value = parent, var(1)

[State 4003, modify explod]
type = modifyExplod
trigger1 = time = 1
ID = 4002
scale = fvar(1)/1000,1

[State 4003, reset]
type = ChangeState
trigger1 = time = 2
value = 4002

[State 4003, reset]
type = destroyself
trigger1 = parent,var(3) = 2

;Red Power level bar helper
[Statedef 4004]
type = A
movetype = I
physics = N
anim = 90

[State 4004, removeexplod]
type = removeexplod
trigger1 = time >= 0
id = 4002

[State 4004, varset]
type = VarSet
trigger1 = time = 0
fv = 1
value = parent, var(1)

[State 4004, scouter]
type = Explod
triggerall = numexplod(4005) = 0
trigger1 = time = 0
ID = 4005
anim = 4005
pos = Ifelse(parent,Var(19)=2,280,32),70
postype = left
bindtime = -1
removetime = -1
facing = Ifelse(parent,var(19)=2,1,-1)
ownpal = 0
sprpriority = -4

[State 4004, bar outline]
type = Explod
triggerall = numexplod(4000) = 0
trigger1 = time = 0
ID = 4000
anim = 4000
pos = Ifelse(parent,var(19)=2,263,55),100
postype = left
bindtime = -1
removetime = -1
facing = Ifelse(parent,var(19)=2,1,-1)
ownpal = 0
sprpriority = -4

[State 4004, red bar itself]
type = Explod
triggerall = numexplod(4003) = 0
trigger1 = time = 0
ID = 4003
anim = 4003
postype = left
pos = Ifelse(parent,var(19)=2,331,4), 100
bindtime = -1
removetime = -1
ownpal = 0
sprpriority = -95
scale = (fvar(1) / 1000), 1

[State 4004, next]
type = ChangeState
trigger1 = time = 0
value = 4005

;bar go up
[Statedef 4005]
type = A
movetype = I
physics = N
anim = 90

[State 4005, varset]
type = VarSet
trigger1 = time = 0
fv = 1
value = parent, var(1)

[State 4005, modify explod]
type = modifyExplod
trigger1 = time = 1
ID = 4003
scale = fvar(1)/1000,1

[State 4005, reset]
type = ChangeState
trigger1 = time = 2
value = 4004
;=-=-=-=-=-=-=-=-=-=-=-=-=-=
;Bar color switch and bar max checker
[Statedef 3030]
type = A
movetype = I
physics = N
anim = 90

[State 3030, removeexplod]
type = removeexplod
trigger1 = time >= 0
id = 4002

[State 3030, removeexplod]
type = removeexplod
trigger1 = time >= 0
id = 4001

;reset power bar
[State 3030, varset]
type = parentvarset
trigger1 = time = 5
v = 1
value = 0

;color power bar toggle
[State 3030, varadd]
type = parentvaradd
trigger1 = time = 5
v = 3
value = 1

[State 3030, bind]
type = Bindtoroot
trigger1 = time = 0
pos = 0,0
time = 12

[State 3030, levelup]
type = Explod
trigger1 = time = 0
trigger1 = facing = 1
anim = 4004
pos = 0,0
postype = p1
bindtime = 1
removetime = 90
velocity = 0,-3
ownpal = 0
sprpriority = 44

[State 3030, levelup]
type = Explod
trigger1 = time = 0
trigger1 = facing = -1
anim = 4004
pos = 0,0
postype = p1
bindtime = 1
facing = -1
removetime = 90
velocity = 0,-3
ownpal = 0
sprpriority = 44

[State 3030, levelupsnd]
type = playsnd
trigger1 = time = 0
value = 0,7
volume = 500

[State 3030, stoked]
type = playsnd
trigger1 = time = 0 && parent,var(3) >= 2
value = 2,6
volume = 500

[State 3030, reset]
type = destroyself
trigger1 = time = 7

;P2 death alert
[Statedef 4545]
type = A
movetype = I
physics = N
velset = 0,0
sprpriority = 3
ctrl = 0
anim = 9150

[State 4545, Playsnd]
type = Playsnd
trigger1 = time = 0
value = 1,18
volume = 500

[State 4545, varset]
type = varset
trigger1 = time = 0
v = 20
value = 250

[State 4545, varadd]
type = varadd
trigger1 = time = [1,80]
v = 20
value = -6

[State 4545, White to black]
type = EnvColor
trigger1 = time = [0,80]
trigger1 = var(20) > 0
value = var(20),var(20),var(20)
time = 1
under = 1

;matchover death anim
[Statedef 5151]
type = L
movetype = I
physics = N
ctrl = 0
anim = 5151

[State 4545, Playsnd]
type = Playsnd
trigger1 = animelem = 6
value = 1,19
volume = 500

[State 4545,shake] 
type = EnvShake
trigger1 = animelem = 5
time = 10
ampl = 10
freq = 127

[State 4545, Playsnd]
type = Playsnd
trigger1 = animelem = 6
value = 1,2
volume = 500

[State 4545, Playsnd]
type = assertspecial
trigger1 = time = [0,260]
flag = roundnotover

;Counter state decide
[Statedef 3233]
type = S
movetype = I
physics = N
poweradd = Ifelse(var(18)=0,-500,0)
ctrl = 0
anim = 1034

[State 3233, stop]
type = velset
trigger1 = time >= 0
x = 0
y = 0

[State 3233, varadd]
type = varrandom
trigger1 = time = [0,48]
v = 23
range = 0,1

[State 3233, White or black]
type = EnvColor
trigger1 = time = [0,48]
trigger1 = var(23) = 0
value = 255,255,255
time = 1
under = 1

[State 3233, White or black]
type = EnvColor
trigger1 = time = [0,48]
trigger1 = var(23) = 1
value = 0,0,0
time = 1
under = 1

[State 3233,playsnd]
type = playsnd
trigger1 = time = 0
value = 2,10
volume = 500

;counter warning
[State 3233]
type = Explod
trigger1 = numexplod(2996) = 0
persistent = 0
anim = 2996
ID = 2996
pos = -320,50
postype = right
sprpriority = 9999
bindtime = -1
supermove = 1
ownpal = 1
ontop = 1
supermove = 1
ignorehitpause = 1

[State 3233, pause]
type = SuperPause
trigger1 = time = 0
pos = -36, -85
anim = -1
postype = p1
movetime = 48
time = 48
darken = 0

[State 3233, next]
type = changestate
trigger1 = time = 34
value = Ifelse(random<=499,1025,1006)

;---------------------------------------------------------------------------
;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
[Statedef -2]

[State -2, death activator]
type = Helper
trigger1 = numhelper(4545) = 0
trigger1 = p2life <= 0
postype = p1
pos = 0,-550
stateno = 4545
bindtime = 1
ownpal = 1
name = "aha your deaaad"
id = 4545
pausemovetime = 999
supermovetime = 999
ignorehitpause = 1

[State -2,death state]
type = changestate
trigger1 = MatchOver = 1 && Lose = 1
trigger1 = stateno = 5150
value = 5151

[State -2, field]
type = Removeexplod
trigger1 = stateno != 2070
id = 731

[State -2, field]
type = Removeexplod
trigger1 = stateno != 198
id = 732

[State -2, starlight hold]
type = Removeexplod
trigger1 = stateno != 1130
id = 1131

[State -2, winquotes]
type = Removeexplod
trigger1 = matchover = 0
id = 13
id = 14
id = 15
id = 16
id = 17
id = 18
id = 19
id = 22
id = 23

[State -2, color 0]
type = PalFX
trigger1 = numhelper(1061) = 1
time = 50
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 0

[State -2, color 0]
type = BGPalFX
trigger1 = numhelper(1061) = 1
time = 50
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 0

[State -2,smoke]
type = Explod
Trigger1 = timemod = 3,1
trigger1 = PrevStateno != 1021
trigger1 = p2stateno = 3010
trigger1 = numexplod(1400) < 8 
anim = 1400
persistent = 1
ID = 1400
sprpriority = 99
random = 32,64
postype = p2
pos = 0,0
removetime = -2
bindtime = 5

[State -2,smoke]
type = Explod
Trigger1 = timemod = 3,1
trigger1 = PrevStateno != 1021
trigger1 = p2stateno = 3010
trigger1 = numexplod(1400) < 8 
anim = 1400
persistent = 1
ID = 1400
sprpriority = 99
random = 32,64
postype = p2
pos = 0,0
removetime = -2
bindtime = 5

[State -2,Display]
type = DisplayToClipboard
trigger1 = 1
text = "Powerbar %d, Powerlevel %d, AI active %d"
params = Var(1),Var(3),Var(18)

;Power bar max checker helper
[State -2, Power bar max checker]
type = Helper
;triggerall = RoundState = 2
trigger1 = var(1) >= 2256
trigger1 = NumHelper(3030) = 0
name = "Power bar checker"
ID = 3030
supermovetime = 9999
StateNo = 3030
postype = p1
pos = 0, 0
ownpal = 1

[State -2]
type = Helper
trigger1 = var(18) = 0
trigger1 = NumHelper(1120) = 0
name = "options"
id = 1120
postype = left
pos = 150, -100
ownpal = 1
stateno = 1120
helpertype = normal
keyctrl = 1

[State -2,alpha counter]
type = changestate
triggerall = stateno = [150,153]
triggerall = statetype = S
triggerall = power >= 500
triggerall = pos Y >= 0
trigger1 = command = "Evil"
trigger2 = command = "Eelbow"
value = 3233

[State -2]
type = Helper
triggerall = NumHelper(1129) = 0
triggerall = stateno = [150,155]
trigger1 = command = "x" && command = "y"
trigger2 = command = "a" && command = "b"
stateno = 1129
postype = p1
pos = -10,0
name = "Block push"
id = 1129
ownpal = 1

[State -2, attackmulset]
type = attackmulset
trigger1 = var(3) >= 2
value = 1.6

[State -2, varset]
type = varadd
trigger1 = var(18) = 1
trigger1 = var(3) != 3
v = 3
value = 3

[State -2, win quote]
type = Helper
triggerall = NumHelper(12004) = 0
triggerall = numhelper(12007) = 0
triggerall = numhelper(12006) = 0
triggerall = numhelper(12005) = 0
trigger1 = matchover && stateno = 184
trigger2 = matchover && stateno = 185
stateno = 12004
postype = p1
pos = 0,0
name = "Quote"
id = 12004

[State -2, win quote]
type = Helper
triggerall = NumHelper(12005) = 0
triggerall = Time = 0
trigger1 = p2name = "Mystiq Vegeta"
trigger2 = p2name = "Vegeta GT by HyperionX" 
trigger3 = p2name = "Vegeta by OverMind"
trigger4 = p2name = "SSJ4 Vegeta by ReDSpideR4k & Goten88"
trigger5 = p2name = "Vegeta by Komodo"
trigger6 = p2name = "Vegeta SSJ DBZ 1"
trigger7 = p2name = "Mega Vegeta"
trigger8 = p2name = "vegeta"
trigger9 = p2name = "Vegeta Normal 2 by EB"
stateno = 12005
postype = p1
pos = 0,0
name = "vegeta Quote"
id = 12005

[State -2, win quote]
type = Helper
triggerall = NumHelper(12006) = 0
triggerall = Time = 0
trigger1 = p2name = "Goku Super Sayajin 2 by Ribeiro"
trigger2 = p2name = "Goku"
trigger3 = p2name = "Goku-n-hd by EmuBoarding"
trigger4 = p2name = "Goku SSJ4 by _Vision and MRP"
trigger5 = p2name = "GOKU Dragonball GT by PV"
trigger6 = p2name = "SSJGoku"
trigger7 = p2name = "Goku GT by Kurihan"
trigger8 = p2name = "Ultra SSj4 Goku by Princevegeta"
trigger9 = p2name = "Kakaroto"
stateno = 12006
postype = p1
pos = 0,0
name = "goku Quote"
id = 12006

[State -2, win quote]
type = Helper
triggerall = NumHelper(12007) = 0
triggerall = Time = 0
trigger1 = p2name = "[Necromancer's] Piccolo"
trigger2 = p2name = "piccolo"
trigger3 = p2name = "Piccolo por Ssonic"
trigger4 = p2name = "Piccolo by Man M" 
stateno = 12007
postype = p1
pos = 0,0
name = "Piccolo Quote"
id = 12007

[State -3, varrandom]
type = assertspecial
trigger1 = time >= 0
trigger1 = var(18) = 1
flag = nojugglecheck

[State -2, next]
type = changestate
trigger1 = statetype = L
trigger1 = var(18) = 1
trigger1 = prevstateno = [5000,6000]
trigger1 = random <= 400
trigger1 = life > 50
value = Ifelse(random<=499,11017,11070)

[Statedef -3]

[State -3,smoke]
type = Explod
trigger1 = PrevStateno = 1021
trigger1 = p2stateno = 3010
trigger1 = numexplod(1400) < 10 
anim = 1400
persistent = 1
ID = 1400
sprpriority = 99
random = 32,64
postype = p2
pos = 0,0
removetime = -2
bindtime = -1

;Create green power level bar
[State -3, Power level bar]
type = Helper
triggerall = RoundState = 2
trigger1 = var(3) = 0
trigger1 = NumHelper(4000) = 0
name = "Green Power level bar"
ID = 4000
supermovetime = 9999
StateNo = 4000
postype = right
pos = 5, -40
ownpal = 0
supermovetime = 9999999999999

;Create yellow power level bar
[State -3, Power level bar]
type = Helper
triggerall = RoundState = 2
trigger1 = var(3) = 1
trigger1 = NumHelper(4002) = 0
name = "yellow Power level bar"
ID = 4002
supermovetime = 9999
StateNo = 4002
postype = right
pos = 5, -40
ownpal = 0
supermovetime = 999999999999

;Create Red power level bar
[State -3, Power level bar]
type = Helper
triggerall = RoundState = 2
trigger1 = var(3) = 2
trigger1 = NumHelper(4003) = 0
name = "Red Power level bar"
ID = 4003
supermovetime = 9999
StateNo = 4004
postype = right
pos = 5, -40
ownpal = 0
supermovetime = 99999999999

[State -3, electricity]
type = Explod
trigger1 = numexplod(1440) < 5
trigger1 = Var(3) >= 2
trigger1 = timemod = 2,1
trigger1 = Movetype != H
trigger1 = statetype!= C
trigger1 = stateno != 5151
anim = Ifelse(random <=499,1440,Ifelse(random <=499,1441,1442))
pos = 0,-40
id = 1440
random = 32,32
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1
ownpal = 1

[State -3, electricitysnd]
type = playsnd
trigger1 = matchover = 0
trigger1 = Var(3) >= 2
trigger1 = Random < 20
trigger1 = stateno != 5151
value = 1,14

[State -3, electricitysnd]
type = playsnd
trigger1 = matchover = 0
trigger1 = Var(3) >= 2
trigger1 = Random < 20
trigger1 = stateno != 5151
value = 1,13

[State -3, blink yellow]
type = PalFX
triggerall = var(3) >= 2
triggerall = stateno != 181
triggerall = stateno != 182
triggerall = stateno != 183
triggerall = stateno != 191
triggerall = random < 50
trigger1 = statetype != c
time = 5
add = 164, 0, 164
ignorehitpause = 1

[State -3, Ow Sound]
type = PlaySnd
triggerall = alive && time = 1
trigger1 = stateno = 5001 || stateno = 5011
trigger1 = random < 20
trigger2 = stateno = 5040 || stateno = 5050
trigger2 = random < 500
trigger3 = stateno = 5070
trigger4 = stateno = 5100 && random < 250
value = S2,2
channel = 0
volume = 500
ignorehitpause = 1

[State -3, Ow Sound  2]
type = PlaySnd
triggerall = alive && time = 1
trigger1 = stateno = 5001 || stateno = 5011
trigger1 = random < 20
trigger2 = stateno = 5040 || stateno = 5050
trigger2 = random < 500
trigger3 = stateno = 5070
trigger4 = stateno = 5100 && random < 250
value = S2,0
channel = 0
volume = 500
ignorehitpause = 1

[State -3, random ha sound]
type = playSnd
triggerall = random < 500
triggerall = time = 1
trigger1 = stateno = 200
trigger2 = stateno = 210
trigger3 = stateno = 220
trigger4 = stateno = 230
trigger5 = stateno = 240
trigger6 = stateno = 250
value = 2,var(22)
volume = 500

[State -3, varrandom]
type = varrandom
trigger1 = 1
v = 22
range = 2,3

[State -3]
type = VarSet
trigger1 = command = "CPU0"
trigger2 = command = "CPU1"
trigger3 = command = "CPU2"
trigger4 = command = "CPU3"
trigger5 = command = "CPU4"
trigger6 = command = "CPU5"
trigger7 = command = "CPU6"
trigger8 = command = "CPU7"
trigger9 = command = "CPU8"
trigger10 = command = "CPU9"
trigger11 = command = "CPU10"
trigger12 = command = "CPU11"
trigger13 = command = "CPU12"
trigger14 = command = "CPU13"
trigger15 = command = "CPU14"
trigger16 = command = "CPU15"
trigger17 = command = "CPU16"
trigger18 = command = "CPU17"
trigger19 = command = "CPU18"
trigger20 = command = "CPU19"
trigger21 = command = "CPU20"
trigger22 = command = "CPU21"
trigger23 = command = "CPU22"
trigger24 = command = "CPU23"
trigger25 = command = "CPU24"
trigger26 = command = "CPU25"
trigger27 = command = "CPU26"
trigger28 = command = "CPU27"
trigger29 = command = "CPU28"
trigger30 = command = "CPU29"
trigger31 = command = "CPU30"
trigger32 = command = "CPU31"
trigger33 = command = "CPU32"
trigger34 = command = "CPU33"
trigger35 = command = "CPU34"
trigger36 = command = "CPU35"
trigger37 = command = "CPU36"
trigger38 = command = "CPU37"
trigger39 = command = "CPU38"
trigger40 = command = "CPU39"
trigger41 = command = "CPU40"
trigger42 = command = "CPU41"
trigger43 = command = "CPU42"
trigger44 = command = "CPU43"
trigger45 = command = "CPU44"
trigger46 = command = "CPU45"
trigger47 = command = "CPU46"
trigger48 = command = "CPU47"
trigger49 = command = "CPU48"
trigger50 = command = "CPU49"
trigger51 = command = "CPU50"
trigger52 = command = "CPU51"
trigger53 = command = "CPU52"
trigger54 = command = "CPU53"
trigger55 = command = "CPU54"
trigger56 = command = "CPU55"
trigger57 = command = "CPU56"
trigger58 = command = "CPU57"
trigger59 = command = "CPU58"
trigger60 = command = "CPU59"
trigger61 = command = "CPU60"
trigger62 = command = "CPU61"
trigger63 = command = "CPU62"
trigger64 = command = "CPU63"
trigger65 = command = "CPU64"
trigger66 = command = "CPU65"
trigger67 = command = "CPU66"
trigger68 = command = "CPU67"
trigger69 = command = "CPU68"
trigger70 = command = "CPU69"
trigger71 = command = "CPU70"
trigger72 = command = "CPU71"
trigger73 = command = "CPU72"
trigger74 = command = "CPU73"
trigger75 = command = "CPU74"
v = 18
value = 1

[State -3,cheating cpu]
type = nothitby
triggerall = var(18) = 1
triggerall = time = 1
trigger1 = movetype = A
trigger2 = movetype = H
value = SCA
time = 7

[State -3,cheating cpu]
type = nothitby
triggerall = var(18) = 1
triggerall = time = 1
trigger1 = stateno = 6100
trigger2 = stateno = 6101
trigger3 = stateno = 6102
value = SCA
time = 10

[State -3,cheating cpu]
type = nothitby
triggerall = var(18) = 1
triggerall = time = 1
trigger1 = stateno = 2060
value = SCA
time = 57

[state -3, beam count reset]
type = varset
trigger1 = numhelper(1026) = 0
v = 13
value = 0

;Haste/v-ism by sorrowedge
[State -3, Speed]
type = null;ChangeAnim
triggerall = (RoundState = 2) && (MoveType != H) && (var(18) = 1)
trigger1 = AnimElemTime(AnimElemNo(0) + 1) < 0
trigger1 = AnimElemTime(AnimElemNo(0)) > floor ((AnimElemTime(AnimElemNo(0)) - AnimElemTime(AnimElemNo(0) + 1))/2)
ignorehitpause = 1
value = anim
elem = AnimElemNo(0) + 1
