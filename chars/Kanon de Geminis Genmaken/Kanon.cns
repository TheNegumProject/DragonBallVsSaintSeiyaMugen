[Data]
life=1000
attack=150
defence=150
fall.defence_up=60
liedown.time=60
airjuggle=30
sparkno=2
guard.sparkno=40
volume=255
echo = -1

[Size]
xscale=1
yscale=1
z.width=3        
ground.back=20        
ground.front=20       
air.back=12
air.front=11
height=0    
attack.width=0
attack.dist=160
proj.attack.dist=90
proj.doscale=0

[Movement]
airjump.num=1
airjump.height=0
yaccel=0.35
crouch.friction=0.8
stand.friction=0.8

[Velocity]
walk.fwd=2.4
walk.back=-2.2
run.fwd=8,0               
run.back=-4.5,-2.8
runjump.back=0,0
runjump.fwd=7,0
jump.neu=0,-8.0
jump.back=-2.3,0
jump.fwd=3.4,0
airjump.neu=0,-10
airjump.back=-5,-10
airjump.fwd=5,-10


;[-----------------------Force Feedback-----------------]
[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000 || anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001 || anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012 || anim = 5002 || anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------

;super guard
;prova superguard
[Statedef 3675]
type    = S
physics = S

[State 3675, 1]
type = ChangeAnim
triggerall = var(1) = 0
trigger1 = Anim != 3675
value = 3675

[State 3675, 1]
type = ChangeAnim
triggerall = var(1) = 1
trigger1 = Anim != 3676
value = 3676

;-------------------------------------------
;reversal attack
[Statedef 1400]
type = S
physics = S
juggle = 5
velset = 0
ctrl = 0

[State 1400 , 1]
type = PlaySnd
trigger1 = animelem = 2
value = 40,0

[State 1400, 1]
type = ChangeAnim
triggerall = var(1) = 0
trigger1 = time = 0
value = 3675

[State 1400, 1]
type = ChangeAnim
triggerall = var(1) = 1
trigger1 = time = 0
value = 3676

[State 1400 , 4]
type = ReversalDef
trigger1 = time = 0
reversal.attr = SCA, NA, SA, HA
p1stateno = 1401
hitsound = S4,4
pausetime = 40,50
sparkxy = -100,20

[State 1400 , 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------
;new state of reversal attack
;reversal attack
[Statedef 1401]
type = S
movetype = A
physics = S
pos = 0,5
poweradd = 750
juggle = 5
velset = 0
ctrl = 0

[State 1400 , 1]
type = PlaySnd
trigger1 = time = 1
value = 1100,2

[State 1400 , 1]
type = PlaySnd
trigger1 = time = 1
value = 88888,0


[State 1401, 1]
type = ChangeAnim
triggerall = var(1) = 0
trigger1 = time = 0
value = 3675

[State 1401, 1]
type = ChangeAnim
triggerall = var(1) = 1
trigger1 = time = 0
value = 3676

[State 1400 , 1]
type = PlaySnd
trigger1 = time = 0
value = 5,1

[State 1401, light]
type = Explod
trigger1 = MoveContact
ID = 1401
anim = 1401
pos = 0,5
postype = p1
sprpriority = 4
supermove = 1
removetime = 70
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 1401, polvere]
type = MakeDust
trigger1 = time = 0
pos = -15,3
pos2 = -22,-3
spacing = 2

[State 1401 , 2]
type = VelAdd
trigger1 = time = 0
x = -7;11

[State 1401 , 2]
type = VelMul
trigger1 = AnimElem = 1
x = 2.5

[State 1401 , 6]
type = ChangeState
triggerall = MoveContact
trigger1 = Life <= 300
;trigger1 = random > 250
value = 2160
ctrl = 0

[State 1401 , 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------end reversal


; Grabbed and tossed by Close Throw (P2 State)
[Statedef 910]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0,0,0

[State 910, 1]
type = HitBy
Trigger1 = 1
value = SCA
time = 1

[State 910, 2]
type = HitFallSet
Trigger1 = Time = 0
value = 1

[State 910, 4]
type = ChangeAnim2
Trigger1 = Time = 0
value = 910

[State 910, 5]
type = PosAdd
Trigger1 = Time = 15
x = 30

[State 910, 6]
type = Turn
Trigger1 = Time = 20

[State 910, 7]
type = PosAdd
Trigger1 = Time = 20
x = -52
y = -5 

[State 910, 8]
type = PosAdd
Trigger1 = Time = 25
x = -39
y = 5

[State 910, 9]
type = LifeAdd
Trigger1 = Time = 28
value = -150

[State 910, 10]
type = PowerAdd
trigger1 = Time = 28
value = 70

[State 910, 11]
type = ChangeState
Trigger1 = Time = 30
value = 911

;---------------------------------------------------------------------------
; Flying Through the air!!! (P2 State)
[Statedef 911]
type    = A
movetype= H
physics = N

[State 911, Velocity Set]
type = VelSet
Trigger1 = Time = 0
x = -4
y = -9.5

[State 911, Velocity addition]
type = VelAdd
Trigger1 = 1
y = .35 

[State 911, Self State 1] 
type = SelfState
Trigger1 = ((Vel Y > 0) && (Pos Y > 25))
value = 5100

[State 911, Self State 2] 
type = SelfState
Triggerall = ((Vel Y > -1) && (Vel Y < 40) && (alive = 1) && (CanRecover = 1))
trigger1 = Command = "recovery"
value = 5210

[State 911, Change State]
type = ChangeState
triggerall = ((Vel Y > 0) && (Pos Y >= -20) && (alive = 1)  && (CanRecover = 1))
trigger1 = Command = "recovery"
value = 5200

;---------------------------------------------------------------------------


; Swing Throw P2 hit,caught,swing 
[Statedef 3124]
type    = L
movetype= H ;Get hit
physics = N
velset = 0,0

[State 3124, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3124

;---------------------------------------------------------------------------
; Swing throw flying through the air
[Statedef 3125]
type    = L
movetype= H ;Get hit
physics = N
velset = -5,-8

[State 3125, 2] ;Acceleration
type = VelAdd
Trigger1 = 1
y = .45

[State 3125, 3] ;Self's falling anim
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[State 3125, 3] ;Self's falling anim
type = ChangeAnim
Trigger1 = Time = 0
Trigger1 = AnimExist(5052)
value = 5052

[State 3125, 2] ;Coming down anim (normal fall type)
type = ChangeAnim
triggerall = anim != 5052 ;Not if in hit up anim
trigger1 = vel y >= 1
trigger1 = animexist(5060)
value = 5060
persistent = 0

[State 3125, 2] ;Coming down anim (hit up type)
type = ChangeAnim
triggerall = anim = 5052 ;Not if in hit up anim
trigger1 = vel y >= -2
trigger1 = animexist(5062)
value = 5062
persistent = 0

[State 3125, 4.1] ;Shake
type = EnvShake
trigger1 = vel y > 0
trigger1 = pos y >= 0
time = 18
ampl = 10

[State 3125, 4.2]
type = LifeAdd
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = -40

[State 3125, 4.3] ;Hit ground
trigger1 = vel y > 0
trigger1 = pos y >= 0
type = SelfState
value = 5100

;---------------------------------------------------------------------------



;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------





;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; Basic Attacks, Win Poses, etc...
;---------------------------------------------------------------------------
; Standing Light Punch 
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 200
sprpriority = 2

[State 200, 1]
type = PlaySnd
trigger1 = Time = 2
value = 200,2

[State 200, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 60
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-60
hitsound   = S200,0
guardsound = S200,1
ground.type = high
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.hittime = 12
air.velocity = -2.2,-3.2

[State 200, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------

[Statedef 201]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 201
sprpriority = 2

[State 200, 1]
type = PlaySnd
trigger1 = Time = 2
value = 200,2

[State 200, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 60
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-60
hitsound   = S200,0
guardsound = S200,1
ground.type = high
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.hittime = 12
air.velocity = -2.2,-3.2

[State 200, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Standing Medium Punch 

[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 210
sprpriority = 2

[State 200, 1]
type = PlaySnd
trigger1 = Time = 2
value = 40,0

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 90
guardflag = MA
pausetime = 12,5
sparkno = 1
sparkxy = -10,-60
hitsound   = S220,0
guardsound = S200,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.hittime = 12
air.velocity = -2.2,-3.2

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;------

[Statedef 211]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 211
sprpriority = 2

[State 200, 1]
type = PlaySnd
trigger1 = Time = 2
value = 40,0

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 90
guardflag = MA
pausetime = 12,5
sparkno = 1
sparkxy = -10,-60
hitsound   = S220,0
guardsound = S200,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.hittime = 12
air.velocity = -2.2,-3.2

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
; Standing Strong Punch
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 220
sprpriority = 2

[State 220, 1]
type = PlaySnd
trigger1 = Time = 2
value = 1400, 1

[State 220, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 120
guardflag = MA
pausetime = 12,5
sparkno = 1
sparkxy = -10,-60
hitsound   = S240,0
guardsound = S200,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.hittime = 12
air.velocity = -2.2,-3.2

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------

[Statedef 221]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 221
sprpriority = 2

[State 220, 1]
type = PlaySnd
trigger1 = Time = 2
value = 1400, 1

[State 220, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 120
guardflag = MA
pausetime = 12,5
sparkno = 1
sparkxy = -10,-60
hitsound   = S240,0
guardsound = S200,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.hittime = 12
air.velocity = -2.2,-3.2

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; Standing Light Kick 
[Statedef 230]
type = S
movetype = A
physics = S
anim = 230
juggle = 1
velset = 0
ctrl = 0

[State 230 , 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,2

[State 230 , 3]
type = HitDef
trigger1 = AnimElem = 3
priority = 4
attr = S, NA
damage = 70
getpower = 15
givepower = 7
animtype = Medium 
guardflag = MA
sparkxy = -10,-80
hitsound   = S200,0
guardsound = S200,1
pausetime = 12,12
ground.hittime = 13
ground.type = low
ground.slidetime = 9
ground.velocity = -5
air.velocity = -3,-3

[State 230 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Standing Light Kick 
[Statedef 231]
type = S
movetype = A
physics = S
anim = 231
juggle = 1
velset = 0
ctrl = 0

[State 231 , 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,2

[State 231 , 3]
type = HitDef
trigger1 = AnimElem = 3
priority = 4
attr = S, NA
damage = 70
getpower = 15
givepower = 7
animtype = Medium 
guardflag = MA
sparkxy = -10,-80
hitsound   = S200,0
guardsound = S200,1
pausetime = 12,12
ground.hittime = 13
ground.type = low
ground.slidetime = 9
ground.velocity = -5
air.velocity = -3,-3

[State 231 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing Medium Kick 
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0
anim = 240
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Animelem = 1
value = 40, 0

[State 240, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = light
damage    = 95
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-60
hitsound   = S220,0
guardsound = S200,1
ground.type = high
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Standing Medium Kick 
[Statedef 241]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0
anim = 241
sprpriority = 2

[State 241, 1]
type = PlaySnd
trigger1 = Animelem = 1
value = 40, 0

[State 241, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = light
damage    = 95
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-60
hitsound   = S220,0
guardsound = S200,1
ground.type = high
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2

[State 241, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Strong Kick 
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 250
sprpriority = 2

[State 250, 1]
type = PlaySnd
trigger1 = Time = 2
value = 1400, 1

[State 250, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 120
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-60
hitsound   = S240,0
guardsound = S200,1
ground.type = high
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2

[State 250, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Standing Strong Kick 
[Statedef 251]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 251
sprpriority = 2

[State 251, 1]
type = PlaySnd
trigger1 = Time = 2
value = 1400, 1

[State 251, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 120
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-60
hitsound   = S240,0
guardsound = S200,1
ground.type = high
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2

[State 251, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Light Punch 
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 400
sprpriority = 2

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200,2

[State 400, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 60
animtype  = Medium
hitflag = MAF
guardflag = M
pausetime = 12,12
sparkno = 1
sparkxy = -10,-55
hitsound   = S200,0
guardsound = S200,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -3,-4

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

; Crouching Light Punch 
[Statedef 401]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 401
sprpriority = 2

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200,2

[State 400, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 60
animtype  = Medium
hitflag = MAF
guardflag = M
pausetime = 12,12
sparkno = 1
sparkxy = -10,-55
hitsound   = S200,0
guardsound = S200,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -3,-4

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1



;---------------------------------------------------------------------------
;Crouching Medium Punch
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 410
sprpriority = 2

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
value = 40, 0

[State 410, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 90
animtype  = Medium
hitflag = MAF
guardflag = M
pausetime = 12,12
sparkno = 1
sparkxy = -10,-55
hitsound   = S220,0
guardsound = S200,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -3,-4

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;Crouching Medium Punch
[Statedef 411]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 411
sprpriority = 2

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
value = 40, 0

[State 410, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 90
animtype  = Medium
hitflag = MAF
guardflag = M
pausetime = 12,12
sparkno = 1
sparkxy = -10,-55
hitsound   = S220,0
guardsound = S200,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -3,-4

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching Strong Punch 
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 420
sprpriority = 2

[State 420, 1]
type = PlaySnd
trigger1 = Time = 1
value = 1400, 1

[State 420, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 120
animtype  = Medium
hitflag = MAF
guardflag = M
pausetime = 12,12
sparkno = 1
sparkxy = -10,-55
hitsound   = S240,0
guardsound = S200,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -3,-4

[State 420, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;Crouching Strong Punch 
[Statedef 421]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 421
sprpriority = 2

[State 420, 1]
type = PlaySnd
trigger1 = Time = 1
value = 1400, 1

[State 420, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 120
animtype  = Medium
hitflag = MAF
guardflag = M
pausetime = 12,12
sparkno = 1
sparkxy = -10,-55
hitsound   = S240,0
guardsound = S200,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -3,-4

[State 420, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Light Kick 
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 22
ctrl = 0
anim = 430
sprpriority = 2

[State 430, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200,2

[State 430, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 70
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = 0
sparkxy = -10,-8
hitsound   = S200,0
guardsound = S200,1
ground.type = Low
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[Statedef 431]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 22
ctrl = 0
anim = 431
sprpriority = 2

[State 431, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200,2

[State 431, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 70
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = 0
sparkxy = -10,-8
hitsound   = S200,0
guardsound = S200,1
ground.type = Low
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 431, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Medium Kick 
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 22
ctrl = 0
anim = 440
sprpriority = 2

[State 440, 1]
type = PlaySnd
trigger1 = Time = 1
value = 40,0

[State 440, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 95
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = 0
sparkxy = -10,-8
hitsound   = S220,0
guardsound = S200,1
ground.type = Low
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 440, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[Statedef 441]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 22
ctrl = 0
anim = 441
sprpriority = 2

[State 441, 1]
type = PlaySnd
trigger1 = Time = 1
value = 40,0

[State 441, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 95
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = 0
sparkxy = -10,-8
hitsound   = S220,0
guardsound = S200,1
ground.type = Low
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 441, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Strong Kick 
[Statedef 450]
type    = C
movetype= A
physics = C
poweradd= 60
ctrl = 0
anim = 450
sprpriority = 2

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 1400, 1

[State 450, 3]
type = HitDef
triggerall = !MoveHit
trigger1 = animelem = 2
attr = C, NA
damage    = 120
animtype  = Light
hitflag = MA
guardflag = LA
pausetime = 0
sparkno = 2
sparkxy = -10,-55
hitsound   = S240,0
guardsound = S200,1
ground.type = Low
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20
fall = 1

[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[Statedef 451]
type    = C
movetype= A
physics = C
poweradd= 60
ctrl = 0
anim = 451
sprpriority = 2

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 1400, 1

[State 451, 3]
type = HitDef
triggerall = !MoveHit
trigger1 = animelem = 2
attr = C, NA
damage    = 120
animtype  = Light
hitflag = MA
guardflag = LA
pausetime = 0
sparkno = 2
sparkxy = -10,-55
hitsound   = S240,0
guardsound = S200,1
ground.type = Low
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20
fall = 1

[State 451, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------

;---------------------------------------------------------------------------

; Jumping Light Punch
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
sprpriority = 2


[State 600, 1]
type = changeanim
triggerall = var(1) = 0 
trigger1 = Time = 0
value = 600

[State 600, 1]
type = changeanim
triggerall = var(1) = 1 
trigger1 = Time = 0
value = 601

[State 600, 2]
type = PlaySnd
trigger1 = Time = 2
value = 200,2

[State 600, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 60
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 1
sparkxy = -10,-55
hitsound   = S200,0
guardsound = S200,1
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,-4

;---------------------------------------------------------------------------
; Jumping Medium Punch 
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
sprpriority = 2


[State 610, 1]
type = changeanim
triggerall = var(1) = 0 
trigger1 = Time = 0
value = 610

[State 610, 1]
type = changeanim
triggerall = var(1) = 1 
trigger1 = Time = 0
value = 611

[State 610, 2]
type = PlaySnd
trigger1 = Time = 2
value = 40,0

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 90
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 1
sparkxy = -10,-55
hitsound   = S220,0
guardsound = S200,1
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,-4


;---------------------------------------------------------------------------
; Jumping Strong Punch
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
sprpriority = 2


[State 620, 1]
type = changeanim
triggerall = var(1) = 0 
trigger1 = Time = 0
value = 620

[State 620, 1]
type = changeanim
triggerall = var(1) = 1 
trigger1 = Time = 0
value = 621

[State 620, 2]
type = PlaySnd
trigger1 = Time = 2
value = 1400,1

[State 620, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 120
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 1
sparkxy = -10,-55
hitsound   = S240,0
guardsound = S200,1
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,-4

;---------------------------------------------------------------------------
; Jumping Light Kick 
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 25
ctrl = 0
sprpriority = 2

[State 630, 1]
type = changeanim
triggerall = var(1) = 0 
trigger1 = Time = 0
value = 630

[State 630, 1]
type = changeanim
triggerall = var(1) = 1 
trigger1 = Time = 0
value = 631


[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 2

[State 630, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 70
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = 1
sparkxy = -5,-35
hitsound   = S200,0
guardsound = S200,1
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -4
air.velocity = -2,-3

;---------------------------------------------------------------------------
; Jumping Medium Kick 
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 20
ctrl = 0
sprpriority = 2

[State 640, 1]
type = changeanim
triggerall = var(1) = 0 
trigger1 = Time = 0
value = 640

[State 640, 1]
type = changeanim
triggerall = var(1) = 1 
trigger1 = Time = 0
value = 641

[State 640, 1]
type = PlaySnd
trigger1 = Time = 1
value = 40,0

[State 640, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 90
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = 1
sparkxy = -5,-35
hitsound   = S220,0
guardsound = S200,1
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -4
air.velocity = -2,-3

;---------------------------------------------------------------------------
; Jumping Strong Kick
[Statedef 650]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
sprpriority = 2

[State 650, 1]
type = changeanim
triggerall = var(1) = 0 
trigger1 = Time = 0
value = 650

[State 650, 1]
type = changeanim
triggerall = var(1) = 1 
trigger1 = Time = 0
value = 651


[State 650, 2]
type = PlaySnd
trigger1 = Time = 2
value = 1400,1

[State 650, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 120
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 1
sparkxy = -10,-40
hitsound   = S240,0
guardsound = S200,1
animtype = Med
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.velocity = -3,-4
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------



; Lose by Time Over controller
[Statedef 170]
type = S
ctrl = 0
velset = 0,0

[State 630, 1]
type = changeanim
triggerall = var(1) = 0 
trigger1 = Time = 0
value = 170

[State 630, 1]
type = changeanim
triggerall = var(1) = 1 
trigger1 = Time = 0
value = 171


[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose controller
[Statedef 180]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0

[State 630, 1]
type = changestate
triggerall = var(1) = 0 
trigger1 = Time = 0
value = 182

[State 630, 1]
type = changestate
triggerall = var(1) = 1 
trigger1 = Time = 0
value = 181

[State 180, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1


;---------------------------------------------------------------------------
; Win pose 2
[Statedef 181]
type    = S
movetype= A
physics = S
anim =181
velset = 0,0
ctrl = 0

[state 195, sound]
type = playsnd
trigger1 = animelem = 1
value = 2010,0

[State 735000, gemini]
type = Explod
trigger1 = AnimElem = 2
pos = 100,0
anim = 182
sprpriority = -9
removetime = -1

[State 180, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;--------------------------
; Win pose 1
[Statedef 182]
type    = S
movetype= A
physics = S
anim =180
velset = 0,0
ctrl = 0

[state 195, sound]
type = playsnd
trigger1 = animelem = 2
value = 2010,0
[State 735000, POLVERE]
type = Explod
trigger1 = AnimElem = 2
pos = 0,-15
anim = 10003
sprpriority = 2
removetime = -1

[State 180, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1



;---------------------------------------------------------------------------
; Intro
;------------------------------------------
;---------------------------------------------------------------------------
; INTRO cloth
[Statedef 191]
type = S
ctrl = 0
anim = 194

[state 191, cloth]
type = explod
trigger1 = animelem = 1
anim = 191
postype = p1
sprpriority = 1
pos = 70,-3 

[state 191, sound]
type = playsnd
trigger1 = animelem = 1
value = 2000,0

[state 191, cloth]
type = explod
trigger1 = animelem = 3
anim = 193
postype = p1
sprpriority = 1
pos = 0,0 

[State 191,2]
type = AssertSpecial
trigger1 = time > 0
flag = intro

[State 191, 1]
type = ChangeState
trigger1 = animTime = 0
value = 0

;---------------------------------------------------------------------------
; INTRO 2
[Statedef 192]
type = S
ctrl = 0
anim = 190

[state 191, cloth]
type = explod
trigger1 = animelem = 1
anim = 191
postype = p1
sprpriority = 1
pos = 70,-3 

[state 191, sound]
type = playsnd
trigger1 = animelem = 1
value = 2000,0

[state 191, cloth]
type = explod
trigger1 = animelem = 3
anim = 193
postype = p1
sprpriority = 1
pos = 0,0 

[State 191,2]
type = AssertSpecial
trigger1 = time > 0
flag = intro

[State 191, 1]
type = ChangeState
trigger1 = animTime = 0
value = 0



;-------------------------------------------------------
; Taunt controller
[Statedef 195]
type = S
ctrl = 0
velset = 0,0

[State 630, 1]
type = changestate
triggerall = var(1) = 0 
trigger1 = Time = 0
value = 196

[State 630, 1]
type = changestate
triggerall = var(1) = 1 
trigger1 = Time = 0
value = 197


; Taunt 1
[Statedef 196]
type = S
ctrl = 0
anim=195
velset = 0,0
movetype = I
poweradd = 600
physics = S
sprpriority = 2

[state 195, sound]
type = playsnd
trigger1 = animelem = 1
value = 2020,0

[State 199 , 3]
type = ChangeState
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
trigger4 = command = "x"
trigger5 = command = "y"
trigger6 = command = "z"
trigger7 = command = "holdfwd"
trigger8 = command = "holdback"
trigger9 = command = "holdup"
trigger10 = command = "holddown"
value = 0
ctrl = 1

[State 196, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

; Taunt 2
[Statedef 197]
type = S
ctrl = 0
anim=196
velset = 0,0
movetype = I
poweradd = 600
physics = S
sprpriority = 2

[state 195, sound]
type = playsnd
trigger1 = animelem = 1
value = 2020,0

[State 199 , 3]
type = ChangeState
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
trigger4 = command = "x"
trigger5 = command = "y"
trigger6 = command = "z"
trigger7 = command = "holdfwd"
trigger8 = command = "holdback"
trigger9 = command = "holdup"
trigger10 = command = "holddown"
value = 0
ctrl = 1

[State 197, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------

;===========================================================================
[Statedef -2];  -2 State Section...
;===========================================================================
;---------------------------------------------------------------------------


[State -2,remove]
type = RemoveExplod
triggerall = NumExplod(2) = 1
trigger1 = stateno!= 0
ID = 2

[State -2,remove]
type = RemoveExplod
triggerall = NumExplod(2) = 1
trigger1 = anim =5
ID = 2
;Play "OWW!!" sound when hit
[State -2, 1]
type = PlaySnd
triggerall = ((Time = 1) && (var(8) < 500) && (random < 600))
trigger1 = (stateno = 5001) && (random < 500) 
value = 0, 1


[State -2, 1]
type = PlaySnd
triggerall = ((Time = 1) && (var(8) < 500) && (random < 600))
trigger1 = (stateno = 5040) && (random < 400) 
value = 0, 3

[State -2, 1]
type = PlaySnd
triggerall = ((Time = 1) && (var(8) < 500) && (random < 600))
trigger1 = (stateno = 5050)&& (random < 400) 
value = 0, 4


[State -2 , 1]
type = PlaySnd
triggerall = stateno = 20
trigger1 = AnimElem = 2
value = 0,0

[State -2 , 1]
type = PlaySnd
triggerall = stateno = 20
trigger1 = AnimElem = 5
value = 0,0

[State -2 , 1]
type = PlaySnd
triggerall = stateno = 21
trigger1 = AnimElem = 2
value = 0,0

[State -2 , 1]
type = PlaySnd
triggerall = stateno = 21
trigger1 = AnimElem = 5
value = 0,0

[State -2 , 1]
type = PlaySnd
triggerall = stateno = 100
trigger1 = AnimElem = 3
value = 0,0

[State -2 , 1]
type = PlaySnd
triggerall = stateno = 100
trigger1 = AnimElem = 6
value = 0,0



;===========================================================================
; Common1.cns Overide states...
;===========================================================================
;---------------------------------------------------------------------------
; Jump
[Statedef 50]
type    = A
physics = A

[State 180, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220, 2

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, VelSet]
type = VelSet
trigger1 = ((var(10) = 1) && (command = "holdfwd") && (command != "holdback"))
x = 3

[State 50, VelSet]
type = VelSet
trigger1 = ((var(10) = 1) && (command != "holdfwd") && (command = "holdback"))
x = -3

[State 50, 2]
type = ChangeAnim
triggerall = var(1) = 0
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 2]
type = ChangeAnim
triggerall = var(1) = 1
trigger1 = Time = 0
value = ifelse((vel x)=0, 61, ifelse((vel x)>0, 62, 63))

[State 50, 3]
type = ChangeAnim
trigger1 = (Vel y > -2 && SelfAnimExist(anim + 3))
persistent = 0
value = Anim + 3

;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
ctrl = 0

[State 52, 1]
type = changeanim
triggerall = var(1) = 0
trigger1 = time = 0
value = 47

[State 52, 1]
type = changeanim
triggerall = var(1) = 1
trigger1 = time = 0
value = 67

[State 52, VarSet]
type = VarSet
trigger1 = Time = 0
var(10) = 0

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 180, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 52, 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------



