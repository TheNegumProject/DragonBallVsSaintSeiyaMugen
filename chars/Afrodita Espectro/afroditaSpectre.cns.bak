[Data]
life = 1000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 1
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 1            
yscale = 1            
ground.back = 12      
ground.front = 30     
air.back = 12         
air.front = 12        
height = 60 	    
attack.dist = 160     
proj.attack.dist = 90 
proj.doscale = 0       
head.pos = -5, -90    
mid.pos = -5, -60     
shadowoffset = -1     
draw.offset = 0,0     

[Velocity]
walk.fwd=1.8
walk.back=-1.8
run.fwd=10,0               
run.back = -8.5,-3.8 
runjump.back = -2.55,-8.1 
runjump.fwd=7,0
jump.neu=0,-10.6
jump.back=-3.7,0
jump.fwd=4.2,0    

[Movement]
airjump.num = 1      
airjump.height = 35  
yaccel = .44         
stand.friction = .85
crouch.friction = .82 

;-------------------------------------------------------------------------
; Special Attacks
;-------------------------------------------------------------------------

;--------------------------------| Description |----------------------------



;---------------------------------------------------------------------------
;Teleportation
[Statedef 7777]
type    = S
movetype= I
physics = S
poweradd = -300
ctrl = 0
velset = (prevstateno = 9010)* 0,(prevstateno = 9010)* 0
facep2 = !(prevstateno = 9010)

[State 7777, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 2001
value = 7777

[State 7779, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5000,10

[State 7777, Pause1]
Type = SuperPause
trigger1 = Time = 0
MoveTime = 20
Time = 20
Pos = 11, -80
Darken = 0

[State 7777, Pause2]
Type = SuperPause
trigger1 = AnimTime = 0
MoveTime = 25
Time = 25
Pos = 11, -80
Darken = 0

[State 7777, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 25

[State 7777, AfterImage]
type = AfterImage
trigger1 = AnimElem = 1
time = 20
trans = add
palfx = 200,200,200

[State 7777, TeleportFwd]
type = PosAdd
triggerall = AnimElem = 2
trigger1 = PalNo = [1, 6]
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger2 = PalNo = [7, 12]
x = 400
y = 0

[State 7777, TeleportBack]
type = PosAdd
triggerall = AnimElem = 2
trigger1 = PalNo = [1, 6]
trigger1 = command = "holdback"
trigger1 = command != "holdfwd"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
x = -400
y = 0

[State 7777, Turn]
type = Turn
trigger1 = P2Dist X < 0

[State 7777, 3]
type = Projectile
trigger1 = AnimElem = 1
projanim = 7778
projremovetime = 10
projid = 7777
velocity = 0
offset = 0

[State 7777, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 7779
ctrl = 1

[State 7777, 7]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,1

[State 7777, 8]
type = PlaySnd
trigger1 = AnimElem = 2
value = 20,8

;----------------------------------------------------------------------------------------
;Teleportation- Reapparition
[Statedef 7779]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 7779
ctrl = 0
facep2 = 1

[State 7779, 0]
type = AfterImage
trigger1 = AnimElem = 1
time = 20
trans = add
palfx = 200,200,200

[State 7779, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 20,8

[State 7779, 2]
type = Projectile
trigger1 = Time = AnimElem = 1
projanim = 7777
projremovetime = 10
velocity = 0
offset = 0

[State 7779, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; rosarossa
;stdust
[Statedef 3000]
type    = S
movetype= A
physics = S
velset = 0,0
poweradd = -2000
ctrl = 0
anim = 3000

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA


[State 7779, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 5000,7

[State 7779, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3550,0

[State 3000, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 7
anim = 6300
postype = p1
pos = 16,-93
sprpriority = 7
supermove = 1
supermovetime = 99999
bindtime = 1
ownpal = 1


;sfondo
[State 3710, sfondo]
type = Explod
trigger1 = AnimElem = 3
anim = 54544
pos =-320,0
postype = right
removetime = 145
sprpriority = -9
supermove = 1
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
facing = 1



[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 7
anim = 6400
postype = p1
pos = 14,-77
sprpriority = -1
supermove = -1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 7
anim = 6401
postype = p1
pos = 34,-120
sprpriority = -1
supermove = 1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 3000, EnvColor]
type = EnvColor
trigger1 = AnimElem = 7
value = 255,255,255
under = 1
time = 5

[State 3000, EnvColor]
type = EnvColor
trigger1 = AnimElem = 7,6
value = 0,0,0
under = 1
time = 28

[State 3000, EnvColor]
type = EnvColor
trigger1 = AnimElem = 12,>=2
value = 0,0,0
under = 1
time = 2

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 10
anim = 6001
postype = p1
pos = 0,0
sprpriority = -7
bindtime = 1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 14
anim = 6002
postype = p1
pos = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1






[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 12,=4
anim = 3020
postype = p1
pos = 0,0
sprpriority = 2
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 18,=2
anim = 3021
postype = p1
pos = 0,0
sprpriority = 1
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 7,=4
anim = 3022
postype = p1
pos = 0,0
sprpriority = 2
removetime = 135
bindtime = -1
ownpal = 1


[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 10,=4
anim = 3023
postype = p1
pos = 0,0
sprpriority = -2
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 18,=4
anim = 3024
postype = p1
pos = 0,0
sprpriority = -1
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 16,=4
anim = 3025
postype = p1
pos = 0,0
sprpriority = 0
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 6,=4
anim = 3026
postype = p1
pos = 0,0
sprpriority = 1
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 12,=4
anim = 3027
postype = p1
pos = 0,0
sprpriority = -1
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 8,=4
anim = 3028
postype = p1
pos = 0,0
sprpriority = 0
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 4,=4
anim = 3029
postype = p1
pos = 0,0
sprpriority = 2
removetime = 135
bindtime = -1
ownpal = 1




[State 3000, HitDef]
type = HitDef
trigger1 = AnimElem = 15
attr = S, HA
id = 3000
damage = 170,28
givepower = 12
animtype = up
guardflag = MA
hitflag = MAF
priority = 6
pausetime = 0, 13
sparkno = -1
sparkxy = 0,-80
hitsound   = s1000,1
guardsound = s200,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4.6,-9.4
air.velocity = -4.6,-9.4
guard.slidetime = 22
guard.hittime  = 32
guard.ctrltime = 34
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
fall = 1
fall.recover = 0

[State 3000, HitDef]
type = HitDef
trigger1 = AnimElem = 20
attr = S, HA
id = 3001
damage = 90,18
givepower = 12
animtype = up
guardflag = MA
hitflag = MAF
priority = 6
pausetime = 0, 13
sparkno = -1
sparkxy = 0,-80
hitsound   = s1000,1
guardsound = s200,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4.6,-9.4
air.velocity = -4.6,-9.4
guard.slidetime = 22
guard.hittime  = 32
guard.ctrltime = 34
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
fall = 1
fall.recover = 0

[State 3000, HitDef]
type = HitDef
trigger1 = AnimElem = 25
attr = S, HA
id = 3002
damage = 70,18
givepower = 12
animtype = up
guardflag = MA
hitflag = MAF
priority = 6
pausetime = 0, 13
sparkno = -1
sparkxy = 0,-80
hitsound   = s1000,1
guardsound = s200,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4.6,-9.4
air.velocity = -4.6,-9.4
guard.slidetime = 22
guard.hittime  = 32
guard.ctrltime = 34
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
fall = 1
fall.recover = 0

[State 3000, HitDef]
type = HitDef
trigger1 = AnimElem = 30
trigger2 = AnimElem = 35
trigger3 = AnimElem = 40
trigger4 = AnimElem = 45
trigger5 = AnimElem = 50
attr = S, HA
id = 3003
damage = 60,16
givepower = 12
animtype = up
guardflag = MA
hitflag = MAF
priority = 6
pausetime = 0, 13
sparkno = -1
sparkxy = 0,-80
hitsound   = s1000,1
guardsound = s200,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4.6,-9.4
air.velocity = -4.6,-9.4
guard.slidetime = 22
guard.hittime  = 32
guard.ctrltime = 34
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
fall = 1
fall.recover = 0

[State 3000, Explod]
type = Explod
triggerall = MoveHit
trigger1 = NumTarget(3000) >= 1 && AnimElem = 16
trigger2 = NumTarget(3001) >= 1 && AnimElem = 21
trigger3 = NumTarget(3002) >= 1 && AnimElem = 26
trigger4 = NumTarget(3003) >= 1 && AnimElem = 31
trigger5 = NumTarget(3003) >= 1 && AnimElem = 36
trigger6 = NumTarget(3003) >= 1 && AnimElem = 41
trigger7 = NumTarget(3003) >= 1 && AnimElem = 46
trigger8 = NumTarget(3003) >= 1 && AnimElem = 51

anim = 6102
id = 6102
postype = P2
pos = -15,-80
facing = -1
sprpriority = 4
ignorehitpause = 1
bindtime = 1
ownpal = 1

[State 3000, Pause]
type = Pause
trigger1 = var(6) = 0 && MoveHit
trigger1 = (GameTime%2) =1
time = 1
movetime = 0

[State 3000, Pause]
type = Pause
trigger1 = var(6) = 1 && MoveHit
trigger1 = (GameTime%3) =1
time = 1
movetime = 0

[State 3000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3001
ctrl = 0

[Statedef 3001]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 3001

[State 3001, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 1,>=0 && AnimElem = 7,<0
value = SCA

[State 3001, EnvColor]
type = EnvColor
trigger1 = AnimElem = 4,<=1
value = 0,0,0
under = 1
time = 2

[State 3001, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 1,=4
ID = 3000

[State 3000, Pause]
type = Pause
trigger1 = var(6) = 0 && MoveHit
trigger1 = AnimElem = 1,>=0 && AnimElem = 3,<0
trigger1 = (GameTime%2) =1
time = 1
movetime = 0

[State 3000, Pause]
type = Pause
trigger1 = var(6) = 1 && MoveHit
trigger1 = AnimElem = 1,>=0 && AnimElem = 3,<0
trigger1 = (GameTime%3) =1
time = 1
movetime = 0

[State 3001, Explod]
type = Explod
trigger1 = AnimElem = 1,=4
anim = 3011
postype = p1
pos = 0,-80
sprpriority = -4
bindtime = -1
ownpal = 1

[State 3001, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; rosabianca
;stdust
[Statedef 3010]
type    = S
movetype= A
physics = S
velset = 0,0
poweradd = -1000
ctrl = 0
anim = 3010

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

;sfondo
[State 3710, sfondo]
type = Explod
trigger1 = AnimElem = 3
anim = 54544
pos =-320,0
postype = right
removetime = 145
sprpriority = -9
supermove = 1
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
facing = 1

[State 7779, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 5000,1

[State 7779, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3550,0

[State 3000, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 7
anim = 6300
postype = p1
pos = 16,-93
sprpriority = 7
supermove = 1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 7
anim = 6400
postype = p1
pos = 14,-77
sprpriority = -1
supermove = -1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 7
anim = 6401
postype = p1
pos = 34,-120
sprpriority = -1
supermove = 1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 3000, EnvColor]
type = EnvColor
trigger1 = AnimElem = 7
value = 255,255,255
under = 1
time = 5

[State 3000, EnvColor]
type = EnvColor
trigger1 = AnimElem = 7,6
value = 0,0,0
under = 1
time = 28

[State 3000, EnvColor]
type = EnvColor
trigger1 = AnimElem = 12,>=2
value = 0,0,0
under = 1
time = 2

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 10
anim = 6001
postype = p1
pos = 0,0
sprpriority = -7
bindtime = 1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 14
anim = 6002
postype = p1
pos = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1






[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 12,=4
anim = 30200
postype = p1
pos = 0,0
sprpriority = 2
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 18,=2
anim = 30210
postype = p1
pos = 0,0
sprpriority = 1
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 7,=4
anim = 30220
postype = p1
pos = 0,0
sprpriority = 2
removetime = 135
bindtime = -1
ownpal = 1


[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 10,=4
anim = 30230
postype = p1
pos = 0,0
sprpriority = -2
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 18,=4
anim = 30240
postype = p1
pos = 0,0
sprpriority = -1
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 16,=4
anim = 30250
postype = p1
pos = 0,0
sprpriority = 0
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 6,=4
anim = 30260
postype = p1
pos = 0,0
sprpriority = 1
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 12,=4
anim = 30270
postype = p1
pos = 0,0
sprpriority = -1
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 8,=4
anim = 30280
postype = p1
pos = 0,0
sprpriority = 0
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 4,=4
anim = 30290
postype = p1
pos = 0,0
sprpriority = 2
removetime = 135
bindtime = -1
ownpal = 1




[State 3000, HitDef]
type = HitDef
trigger1 = AnimElem = 15
attr = S, HA
id = 3010
damage = 70,28
givepower = 12
animtype = up
guardflag = MA
hitflag = MAF
priority = 6
pausetime = 0, 13
sparkno = -1
sparkxy = 0,-80
hitsound   = s1000,1
guardsound = s200,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4.6,-9.4
air.velocity = -4.6,-9.4
guard.slidetime = 22
guard.hittime  = 32
guard.ctrltime = 34
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
fall = 1
fall.recover = 0

[State 3000, HitDef]
type = HitDef
trigger1 = AnimElem = 20
attr = S, HA
id = 3001
damage = 70,18
givepower = 12
animtype = up
guardflag = MA
hitflag = MAF
priority = 6
pausetime = 0, 13
sparkno = -1
sparkxy = 0,-80
hitsound   = s1000,1
guardsound = s200,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4.6,-9.4
air.velocity = -4.6,-9.4
guard.slidetime = 22
guard.hittime  = 32
guard.ctrltime = 34
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
fall = 1
fall.recover = 0

[State 3000, HitDef]
type = HitDef
trigger1 = AnimElem = 25
attr = S, HA
id = 3002
damage = 50,18
givepower = 12
animtype = up
guardflag = MA
hitflag = MAF
priority = 6
pausetime = 0, 13
sparkno = -1
sparkxy = 0,-80
hitsound   = s1000,1
guardsound = s200,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4.6,-9.4
air.velocity = -4.6,-9.4
guard.slidetime = 22
guard.hittime  = 32
guard.ctrltime = 34
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
fall = 1
fall.recover = 0

[State 3000, HitDef]
type = HitDef
trigger1 = AnimElem = 30
trigger2 = AnimElem = 35
trigger3 = AnimElem = 40
trigger4 = AnimElem = 45
trigger5 = AnimElem = 50
attr = S, HA
id = 3003
damage = 50,16
givepower = 12
animtype = up
guardflag = MA
hitflag = MAF
priority = 6
pausetime = 0, 13
sparkno = -1
sparkxy = 0,-80
hitsound   = s1000,1
guardsound = s200,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4.6,-9.4
air.velocity = -4.6,-9.4
guard.slidetime = 22
guard.hittime  = 32
guard.ctrltime = 34
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
fall = 1
fall.recover = 0

[State 3000, Explod]
type = Explod
triggerall = MoveHit
trigger1 = NumTarget(3000) >= 1 && AnimElem = 16
trigger2 = NumTarget(3001) >= 1 && AnimElem = 21
trigger3 = NumTarget(3002) >= 1 && AnimElem = 26
trigger4 = NumTarget(3003) >= 1 && AnimElem = 31
trigger5 = NumTarget(3003) >= 1 && AnimElem = 36
trigger6 = NumTarget(3003) >= 1 && AnimElem = 41
trigger7 = NumTarget(3003) >= 1 && AnimElem = 46
trigger8 = NumTarget(3003) >= 1 && AnimElem = 51

anim = 6102
id = 6102
postype = P2
pos = -15,-80
facing = -1
sprpriority = 4
ignorehitpause = 1
bindtime = 1
ownpal = 1

[State 3000, Pause]
type = Pause
trigger1 = var(6) = 0 && MoveHit
trigger1 = (GameTime%2) =1
time = 1
movetime = 0

[State 3000, Pause]
type = Pause
trigger1 = var(6) = 1 && MoveHit
trigger1 = (GameTime%3) =1
time = 1
movetime = 0

[State 3000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3001
ctrl = 0

;---------------------------------------------------------------------------
; rosanera
;stdust
[Statedef 3020]
type    = S
movetype= A
physics = S
velset = 0,0
poweradd = -3000
ctrl = 0
anim = 302020

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

;sfondo
[State 3710, sfondo]
type = Explod
trigger1 = AnimElem = 3
anim = 54544
pos =-320,0
postype = right
removetime = 145
sprpriority = -9
supermove = 1
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
facing = 1


[State 7779, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 5000,2

[State 7779, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3550,0

[State 3000, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 7
anim = 6300
postype = p1
pos = 16,-93
sprpriority = 7
supermove = 1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 7
anim = 6400
postype = p1
pos = 14,-77
sprpriority = -1
supermove = -1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 7
anim = 6401
postype = p1
pos = 34,-120
sprpriority = -1
supermove = 1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 3000, EnvColor]
type = EnvColor
trigger1 = AnimElem = 7
value = 255,255,255
under = 1
time = 5

[State 3000, EnvColor]
type = EnvColor
trigger1 = AnimElem = 7,6
value = 0,0,0
under = 1
time = 28

[State 3000, EnvColor]
type = EnvColor
trigger1 = AnimElem = 12,>=2
value = 0,0,0
under = 1
time = 2

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 10
anim = 6001
postype = p1
pos = 0,0
sprpriority = -7
bindtime = 1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 14
anim = 6002
postype = p1
pos = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1






[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 12,=4
anim = 30201
postype = p1
pos = 0,0
sprpriority = 2
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 18,=2
anim = 30211
postype = p1
pos = 0,0
sprpriority = 1
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 7,=4
anim = 30221
postype = p1
pos = 0,0
sprpriority = 2
removetime = 135
bindtime = -1
ownpal = 1


[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 10,=4
anim = 30231
postype = p1
pos = 0,0
sprpriority = -2
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 18,=4
anim = 30241
postype = p1
pos = 0,0
sprpriority = -1
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 16,=4
anim = 30251
postype = p1
pos = 0,0
sprpriority = 0
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 6,=4
anim = 30261
postype = p1
pos = 0,0
sprpriority = 1
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 12,=4
anim = 30271
postype = p1
pos = 0,0
sprpriority = -1
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 8,=4
anim = 30281
postype = p1
pos = 0,0
sprpriority = 0
removetime = 135
bindtime = -1
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 4,=4
anim = 30291
postype = p1
pos = 0,0
sprpriority = 2
removetime = 135
bindtime = -1
ownpal = 1




[State 3000, HitDef]
type = HitDef
trigger1 = AnimElem = 15
attr = S, HA
id = 3020
damage = 370,28
givepower = 12
animtype = up
guardflag = MA
hitflag = MAF
priority = 6
pausetime = 0, 13
sparkno = -1
sparkxy = 0,-80
hitsound   = s1000,1
guardsound = s200,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4.6,-9.4
air.velocity = -4.6,-9.4
guard.slidetime = 22
guard.hittime  = 32
guard.ctrltime = 34
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
fall = 1
fall.recover = 0

[State 3000, HitDef]
type = HitDef
trigger1 = AnimElem = 20
attr = S, HA
id = 3001
damage = 290,18
givepower = 12
animtype = up
guardflag = MA
hitflag = MAF
priority = 6
pausetime = 0, 13
sparkno = -1
sparkxy = 0,-80
hitsound   = s1000,1
guardsound = s200,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4.6,-9.4
air.velocity = -4.6,-9.4
guard.slidetime = 22
guard.hittime  = 32
guard.ctrltime = 34
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
fall = 1
fall.recover = 0

[State 3000, HitDef]
type = HitDef
trigger1 = AnimElem = 25
attr = S, HA
id = 3002
damage = 270,18
givepower = 12
animtype = up
guardflag = MA
hitflag = MAF
priority = 6
pausetime = 0, 13
sparkno = -1
sparkxy = 0,-80
hitsound   = s1000,1
guardsound = s200,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4.6,-9.4
air.velocity = -4.6,-9.4
guard.slidetime = 22
guard.hittime  = 32
guard.ctrltime = 34
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
fall = 1
fall.recover = 0

[State 3000, HitDef]
type = HitDef
trigger1 = AnimElem = 30
trigger2 = AnimElem = 35
trigger3 = AnimElem = 40
trigger4 = AnimElem = 45
trigger5 = AnimElem = 50
attr = S, HA
id = 3003
damage = 260,16
givepower = 12
animtype = up
guardflag = MA
hitflag = MAF
priority = 6
pausetime = 0, 13
sparkno = -1
sparkxy = 0,-80
hitsound   = s1000,1
guardsound = s200,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4.6,-9.4
air.velocity = -4.6,-9.4
guard.slidetime = 22
guard.hittime  = 32
guard.ctrltime = 34
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
fall = 1
fall.recover = 0

[State 3000, Explod]
type = Explod
triggerall = MoveHit
trigger1 = NumTarget(3000) >= 1 && AnimElem = 16
trigger2 = NumTarget(3001) >= 1 && AnimElem = 21
trigger3 = NumTarget(3002) >= 1 && AnimElem = 26
trigger4 = NumTarget(3003) >= 1 && AnimElem = 31
trigger5 = NumTarget(3003) >= 1 && AnimElem = 36
trigger6 = NumTarget(3003) >= 1 && AnimElem = 41
trigger7 = NumTarget(3003) >= 1 && AnimElem = 46
trigger8 = NumTarget(3003) >= 1 && AnimElem = 51

anim = 6102
id = 6102
postype = P2
pos = -15,-80
facing = -1
sprpriority = 4
ignorehitpause = 1
bindtime = 1
ownpal = 1

[State 3000, Pause]
type = Pause
trigger1 = var(6) = 0 && MoveHit
trigger1 = (GameTime%2) =1
time = 1
movetime = 0

[State 3000, Pause]
type = Pause
trigger1 = var(6) = 1 && MoveHit
trigger1 = (GameTime%3) =1
time = 1
movetime = 0

[State 3000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3001
ctrl = 0

;---------------------------------------------------------------------------



;---------------------------------------------------------------------------



;---------------------------------------------------------------------------

;crystal wall (testversion)
[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, Power]
type = poweradd
trigger1 = Var(5) = 0
trigger1 = Time >= 0
value = -3

[State 1000, rev]
type = ReversalDef
trigger1 = AnimElem = 1
reversal.attr = SAC,NA,SA,HA,S,SP
guard.sparkno = S6530
pausetime = 0,0
p1stateno = 1001

[State 7779, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5000,1

[State 1000, ex]
type = Explod
trigger1 = AnimElem = 1
trigger1 = timemod = 1,0
facing = 1
anim = 6789
pos = 0,0
scale = 0,0
sprpriority = 6

[State 1000, crystal]
type = Explod
trigger1 = time = 0
anim = 6789
pos = 0,0
postype = p1
removetime = 200
sprpriority = 3
supermove = 0
ignorehitpause = 1
ownpal = 1
bindtime = 170
persistent = 0

[State 1000, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1001]
type    = S
movetype= A
physics = S
velset = -12,0
anim = 1001
poweradd = 200
ctrl = 0

[State 1001,env ]
type = EnvColor
trigger1 = time = 0
value = 255,255,255
time = 3

[State 1001,nohit ]
type = NotHitBy
trigger1 = time = 0
value = SCA,NA,SA,HA
time = 1

[State 1001, 1]
type = HitDef
trigger1 = Time = 0
attr = S,SA
animtype  = Hard
hitflag = MA
guardflag = MA 
animtype = Hard
damage = 100,0
sparkno = 3
guard.sparkno = -1
sparkxy = 0,-90
hitsound = 5,4
guardsound = 5,4
ground.type = High
air.type = High
ground.slidetime = 22
ground.hittime = 24
ground.velocity = -7,-5
air.velocity = -7,-5
fall = 1
fall.recover = 0
fall.damage = 30

[State 1001, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1





;---------------------------------------------------------------------------






;[-----------------------Force Feedback-----------------]
[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000 || anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001 || anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012 || anim = 5002 || anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------

;super guard
;prova superguard
[Statedef 3675]
type    = S
physics = S

[State 3675, 1]
type = ChangeAnim
trigger1 = Anim != 3675
value = 3675


;-------------------------------------------
;reversal attack
[Statedef 1400]
type = S
physics = S
anim = 3675
juggle = 5
velset = 0
ctrl = 0

[State 1400 , 4]
type = ReversalDef
trigger1 = time = 0
reversal.attr = SCA, NA, SA, HA
p1stateno = 1401
getpower = 450
hitsound = S2,6
pausetime = 40,50
sparkxy = -100,20

[State 1400 , 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------
;new state of reversal attack
;reversal attack
[Statedef 1401]
type = S
movetype = A
physics = S
anim = 3675
pos = 0,5
poweradd = 400
juggle = 5
velset = 0
ctrl = 0

[State 7779, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5000,6

[State 7779, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1100,2

[State 1401, light]
type = Explod
trigger1 = MoveContact = 1
ID = 1401
anim = 1401
pos = 0,5
postype = p1
sprpriority = 4
supermove = 1
removetime = 70
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 1401, polvere]
type = MakeDust
trigger1 = time = 0
pos = -15,3
pos2 = -22,-3
spacing = 2

[State 1401 , 2]
type = VelAdd
trigger1 = time = 0
x = -7;11

[State 1401 , 2]
type = VelMul
trigger1 = AnimElem = 1
x = 2.5

[State 1401 , 6]
type = ChangeState
triggerall = MoveContact = 1
trigger1 = Life <= 300
;trigger1 = random > 250
value = 2160
ctrl = 0

[State 1401 , 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------end reversal


; Grabbed and tossed by Close Throw (P2 State)
[Statedef 910]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0,0,0

[State 910, 1]
type = HitBy
Trigger1 = 1
value = SCA
time = 1

[State 910, 2]
type = HitFallSet
Trigger1 = Time = 0
value = 1

[State 910, 4]
type = ChangeAnim2
Trigger1 = Time = 0
value = 910

[State 910, 5]
type = PosAdd
Trigger1 = Time = 15
x = 30

[State 910, 6]
type = Turn
Trigger1 = Time = 20

[State 910, 7]
type = PosAdd
Trigger1 = Time = 20
x = -52
y = -5 

[State 910, 8]
type = PosAdd
Trigger1 = Time = 25
x = -39
y = 5

[State 910, 9]
type = LifeAdd
Trigger1 = Time = 28
value = -150

[State 910, 10]
type = PowerAdd
trigger1 = Time = 28
value = 70

[State 910, 11]
type = ChangeState
Trigger1 = Time = 30
value = 911

;---------------------------------------------------------------------------
; Flying Through the air!!! (P2 State)
[Statedef 911]
type    = A
movetype= H
physics = N

[State 911, Velocity Set]
type = VelSet
Trigger1 = Time = 0
x = -4
y = -9.5

[State 911, Velocity addition]
type = VelAdd
Trigger1 = 1
y = .35 

[State 911, Self State 1] 
type = SelfState
Trigger1 = ((Vel Y > 0) && (Pos Y > 25))
value = 5100

[State 911, Self State 2] 
type = SelfState
Triggerall = ((Vel Y > -1) && (Vel Y < 40) && (alive = 1) && (CanRecover = 1))
trigger1 = Command = "recovery"
value = 5210

[State 911, Change State]
type = ChangeState
triggerall = ((Vel Y > 0) && (Pos Y >= -20) && (alive = 1)  && (CanRecover = 1))
trigger1 = Command = "recovery"
value = 5200

;---------------------------------------------------------------------------


; Swing Throw P2 hit,caught,swing 
[Statedef 3124]
type    = L
movetype= H ;Get hit
physics = N
velset = 0,0

[State 3124, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3124

;---------------------------------------------------------------------------
; Swing throw flying through the air
[Statedef 3125]
type    = L
movetype= H ;Get hit
physics = N
velset = -5,-8

[State 3125, 2] ;Acceleration
type = VelAdd
Trigger1 = 1
y = .45

[State 3125, 3] ;Self's falling anim
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[State 3125, 3] ;Self's falling anim
type = ChangeAnim
Trigger1 = Time = 0
Trigger1 = AnimExist(5052)
value = 5052

[State 3125, 2] ;Coming down anim (normal fall type)
type = ChangeAnim
triggerall = anim != 5052 ;Not if in hit up anim
trigger1 = vel y >= 1
trigger1 = animexist(5060)
value = 5060
persistent = 0

[State 3125, 2] ;Coming down anim (hit up type)
type = ChangeAnim
triggerall = anim = 5052 ;Not if in hit up anim
trigger1 = vel y >= -2
trigger1 = animexist(5062)
value = 5062
persistent = 0

[State 3125, 4.1] ;Shake
type = EnvShake
trigger1 = vel y > 0
trigger1 = pos y >= 0
time = 18
ampl = 10

[State 3125, 4.2]
type = LifeAdd
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = -40

[State 3125, 4.3] ;Hit ground
trigger1 = vel y > 0
trigger1 = pos y >= 0
type = SelfState
value = 5100


;---------------------------------------------------------------------------
; Basic Attacks, Win Poses, etc...
;---------------------------------------------------------------------------
; Standing Light Punch 
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 200
velset = 0

[state 200,1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 0

[State 200, 2]
type = HitDef
trigger1 = AnimElem = 4
priority = 4
attr = A, SA
damage = 70,9
getpower = 70
givepower = 35
animtype = medium
guardflag = MA
sparkno = 1
sparkxy =  -5,-90
hitsound   = S200,0
guardsound = S52,0
pausetime = 13,15
ground.hittime = 8
ground.type = High
ground.slidetime = 11
ground.velocity = -5
air.velocity = -2,-8
airguard.velocity = -3     

[State 200, 3]
type = CtrlSet
trigger1 = AnimTime = -1
value = 1

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing Medium Punch 
[Statedef 201]
type = S
movetype = A
physics = S
anim = 201
juggle = 5
velset = 0
ctrl = 0

[State 201, 0]
type = AfterImage
trigger1 = time = 0
time = 50
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 107,107,222 
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 201 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1200,0

[State 201 , 2]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 3

[State 201, 3]
type = VelAdd
trigger1 = AnimElem = 2
x = 1

[State 201, 4]
type = VelAdd
trigger1 = AnimElem = 3
x = 18

[State 201 , 5]
type = HitDef
trigger1 = AnimElem = 4
priority = 4
attr = A, SA
damage = 70,9
getpower = 60
givepower = 30
animtype = medium
guardflag = MA
sparkno = 1
sparkxy = -10,-50
hitsound   = S240,0
guardsound = S52,0
pausetime = 13,15
ground.hittime = 19
ground.type = low
ground.slidetime = 9
ground.velocity = -5
air.velocity = -2,-8

[State 201, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Le doigt qui tue
[Statedef 202]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0,0
anim = 202

[State 202, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 1

[State 202, 1]
type = PlaySnd
trigger1 = animelem = 10
value = 0, 15

[State 202, 2]
type = HitDef
trigger1 = AnimElem = 12
attr = S, NA
animtype  = Heavy
damage    = 160,10
guardflag = MA
pausetime = 13,11
sparkno = 2
sparkxy = 0,-96
hitsound   = S240,0
guardsound = S52,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -25, -3
air.velocity = -25, -3 
Fall = 1
palfx.time = 35
palfx.mul = 255,255,255
palfx.sinadd = 96,128,160,26

[State 202, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Strong Kick+>
[Statedef 260]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0
anim = 210
sprpriority = 2

[State 260, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 13

[State 260, 2]
type = HitDef
trigger1 = Animelem = 2
attr = S, NA
animtype  = Medium
damage    = 130,30
guardflag = MA
pausetime = 12,12
sparkno = 0
sparkxy = -10,-37
hitsound   = S240,0
guardsound = S52,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4,-4
air.velocity = -2.5,-3.5

[State 260, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Light Kick 
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0
anim = 210
sprpriority = 2

[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 13

[State 210, 2]
type = HitDef
trigger1 = Animelem = 2
attr = S, NA
animtype  = Medium
damage    = 46
guardflag = MA
pausetime = 12,12
sparkno = 0
sparkxy = -10,-37
hitsound   = S200,0
guardsound = S52,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2.5,-3.5

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium Kick 
[Statedef 211]
type    = S
movetype= A
physics = S
juggle  = 5
ctrl = 0
velset = 0,0
anim = 211
sprpriority = 2

[State 211, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 14

[State 211, 2]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
animtype  = Heavy
damage    = 63
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-100
hitsound   = S240,0
guardsound = S52,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2

[State 211, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Strong Kick 
[Statedef 212]
type    = S
movetype= A
physics = S
juggle  = 5
ctrl = 0
velset = 0,0
anim = 211
sprpriority = 2

[State 212, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 14

[State 212, 2]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
animtype  = Heavy
damage    = 113
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-100
hitsound   = S240,0
guardsound = S52,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2
Fall = 1

[State 212, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Slide (Crouching Light Punch )
[Statedef 400]
type = C
movetype = A
physics = C
anim = 400
juggle = 1
velset = 0
ctrl = 0

[State 400, polvere]
type = MakeDust
trigger1 = Time = 0
trigger2 = Time = 3
pos = 15,3
pos2 = 22,-3
spacing = 2


[State 400, 0]
type = VelAdd
trigger1 = AnimElem = 2
x = 20

[State 400 , 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,2

;slide sound
[State 400 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1300,2

[State 400 , 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = Random < 250
value = 240,3

[State 400 , 3]
type = HitDef
trigger1 = AnimElem = 2
priority = 5
attr = C, NA
damage = 50,7
getpower = 70
givepower = 30
animtype = hard
guardflag = LA
sparkxy = 0,70
sparkno =S3630
hitsound = S240,0
guardsound = S200,1
pausetime = 12,12
ground.hittime = 19
ground.type = low
ground.slidetime = 19
ground.velocity = -10
air.velocity = -4,-3

[State 400 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;  Slide (Crouching Medium Punch )
[Statedef 401]
type = C
movetype = A
physics = C
anim = 400
juggle = 1
velset = 0
ctrl = 0

[State 401, polvere]
type = MakeDust
trigger1 = Time = 0
trigger2 = Time = 3
pos = 15,3
pos2 = 22,-3
spacing = 2


[State 401, 0]
type = VelAdd
trigger1 = AnimElem = 2
x = 20

[State 401 , 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,2

;slide sound
[State 401 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1300,2

[State 401 , 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = Random < 250
value = 240,3

[State 401 , 3]
type = HitDef
trigger1 = AnimElem = 2
priority = 5
attr = C, NA
damage = 65,13
getpower = 70
givepower = 30
animtype = hard
guardflag = LA
sparkxy = 0,70
sparkno =S3630
hitsound = S240,0
guardsound = S200,1
pausetime = 12,12
ground.hittime = 19
ground.type = low
ground.slidetime = 19
ground.velocity = -10
air.velocity = -4,-3

[State 401 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Slide ( Crouching Strong Punch )
[Statedef 402]
type = C
movetype = A
physics = C
anim = 400
juggle = 1
velset = 0
ctrl = 0

[State 402, polvere]
type = MakeDust
trigger1 = Time = 0
trigger2 = Time = 3
pos = 15,3
pos2 = 22,-3
spacing = 2


[State 402, 0]
type = VelAdd
trigger1 = AnimElem = 2
x = 20

[State 402 , 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,2

;slide sound
[State 402 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 1300,2

[State 402 , 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = Random < 250
value = 240,3

[State 402 , 3]
type = HitDef
trigger1 = AnimElem = 2
priority = 5
attr = C, NA
damage = 80,19
getpower = 70
givepower = 30
animtype = hard
guardflag = LA
sparkxy = 0,70
sparkno =S3630
hitsound = S240,0
guardsound = S200,1
pausetime = 12,12
ground.hittime = 19
ground.type = low
ground.slidetime = 19
ground.velocity = -10
air.velocity = -4,-3

[State 402 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
; Crouching Light Kick 
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 5
ctrl = 0
anim = 410
sprpriority = 2

[State 410, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 13

[State 410, 2]
type = HitDef
trigger1 = animelem = 3
attr = C, NA
damage    = 50
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = 0
sparkxy = -10,-8
hitsound   = S200,0
guardsound = S52,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 410, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Medium Kick 
[Statedef 411]
type    = C
movetype= A
physics = C
juggle  = 5
ctrl = 0
anim = 410
sprpriority = 2

[State 411, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 13

[State 411, 2]
type = HitDef
trigger1 = animelem = 3
attr = C, NA
damage    = 70,10
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = 0
sparkxy = -10,-8
hitsound   = S240,0
guardsound = S52,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 411, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Strong Kick 
[Statedef 412]
type    = C
movetype= A
physics = C
juggle  = 5
ctrl = 0
anim = 410
sprpriority = 2

[State 412, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 13

[State 412, 2]
type = HitDef
trigger1 = animelem = 3
attr = C, NA
damage    = 90,20
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = 0
sparkxy = -10,-8
hitsound   = S240,0
guardsound = S52,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -5
air.velocity = -1,-3
down.velocity = -3,0
down.hittime = 20
Fall = 1

[State 412, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Light Punch
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0
anim = 601
sprpriority = 2

[State 600, 2]
type = PlaySnd
trigger1 = animelemtime(1) = 1
value = 0, 1

[State 600, 3]
type = HitDef
trigger1 = animelem = 4
attr = A, NA
damage = 30
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 1
sparkxy = -10,-55
hitsound   = S200,0
guardsound = S52,0
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,-4

[State 602, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; Jumping Medium Punch 
[Statedef 601]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0
anim = 601
sprpriority = 2

[State 601, 2]
type = PlaySnd
trigger1 = animelemtime(1) = 1
value = 0, 1

[State 601, 3]
type = HitDef
trigger1 = animelem = 4
attr = A, NA
damage = 40
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 1
sparkxy = -10,-55
hitsound   = S240,0
guardsound = S52,0
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,-4

[State 602, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Strong Punch
[Statedef 602]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0
anim = 601
sprpriority = 2

[State 602, 2]
type = PlaySnd
trigger1 = animelemtime(1) = 1
value = 0, 1

[State 602, 3]
type = HitDef
trigger1 = animelem = 4
attr = A, NA
damage = 50
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 1
sparkxy = -10,-55
hitsound   = S240,0
guardsound = S52,0
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,-4

[State 602, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Light Kick 
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0
anim = 611
sprpriority = 2

[State 610, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 14

[State 610, 3]
type = HitDef
trigger1 = Animelem = 3
attr = A, NA
damage    = 30
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 1
sparkxy = -10,-40
hitsound   = S200,0
guardsound = S52,0
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,-4

[State 602, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Medium Kick 
[Statedef 611]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0
anim = 611
sprpriority = 2

[State 611, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 14

[State 611, 3]
type = HitDef
trigger1 = Animelem = 3
attr = A, NA
damage    = 40
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 1
sparkxy = -10,-40
hitsound   = S240,0
guardsound = S52,0
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,-4

[State 602, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Strong Kick
[Statedef 612]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0
anim = 611
sprpriority = 2

[State 612, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 14

[State 612, 3]
type = HitDef
trigger1 = Animelem = 3
attr = A, NA
damage    = 50
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 1
sparkxy = -10,-40
hitsound   = S240,0
guardsound = S52,0
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,-4

[State 602, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Lose by Time Over
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 7779, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5000,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win Pose decider
[Statedef 180]
type = S

[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 0,50

[State 180, 2]
type = ChangeState
trigger1 = Var(1) <= 10
value = 182

[State 180, 3]
type = ChangeState
trigger1 = Var(1) >= 11
value = 182

;---------------------------------------------------------------------------
; Win pose 
[Statedef 182]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 6002

[State 7779, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5000,5

[State 181, 1]
type = Explod
trigger1 = AnimElem = 7
anim = 182
pos = 0,0
postype = p1
sprpriority = -1
supermove = 0
removetime = -1
ignorehitpause = 1
ontop = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 181, 2]
type = PlaySnd
trigger1 = time = 1
value = 0, 7

[State 182, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1


;---------------------------------------------------------------------------

;---------------------------------------------------------------------------

;------------------------------------------
; INTRO
[Statedef 191]
type = S
ctrl = 0
physics = S
anim = 77777
velset = 0,0,0


[State 191, cosmo]
type = Explod
trigger1 = time = 0
anim = 555555
pos = 3,-3
postype = p1
removetime = 500
sprpriority = -2
supermove = 0
ignorehitpause = 1
ownpal = 1
bindtime = 170
persistent = 0

;sound
[State 191, 0.1]
type = PlaySnd
trigger1 = Animelem = 1
value = 5000, 4


[State 191, 2]
type = PlaySnd
trigger1 = Animelem = 7
value = 1400, 0


[State 191, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Taunt
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 195, 1]
type = CtrlSet
trigger1 = Time = 40
value = 1

[State 7779, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5000,0

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;===========================================================================
[Statedef -2];  -2 State Section...
;===========================================================================
;---------------------------------------------------------------------------
; Play "OWW!!" sound when hit
[State -2, 1]
type = PlaySnd
triggerall = ((Time = 1) && (var(8) < 500) && (random < 600))
trigger1 = ((stateno = 5001) || (stateno = 5040) && (random < 400) || (stateno = 5050))
value = 0, 4

;===========================================================================
; Common1.cns Overide states...
;===========================================================================
;---------------------------------------------------------------------------
; Jump
[Statedef 50]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, VelSet]
type = VelSet
trigger1 = ((var(10) = 1) && (command = "holdfwd") && (command != "holdback"))
x = 3

[State 50, VelSet]
type = VelSet
trigger1 = ((var(10) = 1) && (command != "holdfwd") && (command = "holdback"))
x = -3

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 3]
type = ChangeAnim
trigger1 = (Vel y > -2 && SelfAnimExist(anim + 3))
persistent = 0
value = Anim + 3

;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47

[State 52, VarSet]
type = VarSet
trigger1 = Time = 0
var(10) = 0

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;--------------------------------------
[Statedef 14000]
type = S
movetype = A
physics = S
anim = 90066
poweradd = 600
juggle = 5
velset = 0
ctrl = 0

[State 14000, 1]
type = PlaySnd
trigger1 = time = 0
value = 1300,2


[State 14000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------------------

;---------------------------------------------------------------------------
; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0

;cosmo sound
[State 0, sound]
type = PlaySnd
triggerall = power >= 3000
trigger1 = Time = 0
value = 5000, 11

[State 0, Cosmo simulation]
type = AfterImage
triggerall = power >= 3000
trigger1 = time = 0
time = 200
PalContrast =  65,65,65
PalBright = 10,10,10
trans = add

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

;---------------------------------------------------------------------------

;--------------------------------------------------------------

;FIREBALL
[statedef 10120]
type    = S
movetype= A
physics = S
poweradd= 100
ctrl = 0
anim = 10120
velset = 0

[State 1113,remanescence ]
type = AfterImage
trigger1 = time = 0
time = 2
length = 20
PalContrast =  255,255,0
PalBright = 5,5,5
Trans = Add
palinvertall = 1
timegap = 1
framegap = 4
trans = add

[State 9750 , 5];voce
type = PlaySnd
trigger1 = AnimElem = 1
value = 5000,9

[State 9750 , 5];voce
type = PlaySnd
trigger1 = AnimElem = 3
value = 1200,2

[State 9750, luce]
type = Explod
trigger1 = AnimElem = 1
anim = 2
ID = 2
pos = 10, 0
postype = p1
sprpriority = -2
supermove = 1
removetime = 45
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 1010 , 3]
type = Projectile
trigger1 = AnimElem = 4
attr = S, SP
projanim = 10110
;projhitanim = 850
offset = 60, -105
velocity = 5
damage = 25
animtype = Hard
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
hitsound   = S1000,1
guardsound = S200,1
ground.type = Low
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -10
air.velocity = -2.5,-5

[State 1000, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------------------------
;fireball paralizzante
[Statedef 10100]
type = S
movetype = A
physics = S
anim = 22900
poweradd = -200
juggle = 5
ctrl = 0
velset = 0

[State 9750 , 5];voce
type = PlaySnd
trigger1 = AnimElem = 1
value = 5000,9

[State 1113,remanescence ]
type = AfterImage
trigger1 = time = 0
time = 2
length = 20
PalContrast =  0,160,0
PalBright = 5,5,5
Trans = Add
palinvertall = 1
timegap = 1
framegap = 4
trans = add

[State 9750, luce]
type = Explod
trigger1 = AnimElem = 1
anim = 2
ID = 2
pos = 10, 0
postype = p1
sprpriority = -2
supermove = 1
removetime = 45
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0


[State 9750 , 5];voce
type = PlaySnd
trigger1 = AnimElem = 4
value = 1200,2

[State 1010 , 3]
type = Projectile
trigger1 = AnimElem = 5
attr = S, SP
projanim = 37240
projhitanim = 37241
offset = 60, -105
velocity = 5
damage = 10
animtype = Hard
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
hitsound   = S1000,1
guardsound = S200,1
ground.type = Low
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -10
air.velocity = -2.5,-5
p2stateno = 10040
palfx.time = 30
palfx.add = 50,50,50 
;palfx.mul = 255,255,255
palinvertall = 1

[State 405, 4]
type = AfterImage
trigger1 = time = 0
time = 20
length = 45
palcolor = 0
palinvertall = 1
timegap = 1
framegap = 1
trans = add


[State 1010 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------
; paralisi state
[Statedef 10040]
type = S
movetype= H
physics = N
velset = 0,0

[State 1004, attempt]
type = Varset
trigger1 = time = 0
V = 23
Value = Anim

[State 1004, freeze in anim]
type = Changeanim
trigger1 = time != 0
value = Var(23)

[State 1004, Frosty color]
type = palFX
trigger1 = time != 0
add = 50,50,50
;mul = 125,125,125 
time = 2

[State 1004, VELSET]
type = velset
trigger1 = time = 0
X = 0
Y = 0

[State 1004, CS]
type = SelfState
trigger1 = time = 200
trigger1 = Pos Y > -1
value = 0
ctrl = 1

[State 1004, CZ]
type = ChangeState
trigger1 = time = 200
trigger1 = Pos Y < 0
value = 52

;---------------------------------------------------------------------------------

;--------------------------------------------------------------

;FIREBALL2
[statedef 101200]
type    = S
movetype= A
physics = S
poweradd= 100
ctrl = 0
anim = 10120
velset = 0

[State 9750 , 5];voce
type = PlaySnd
trigger1 = AnimElem = 1
value = 5000,9

[State 1113,remanescence ]
type = AfterImage
trigger1 = time = 0
time = 2
length = 20
PalContrast =  255,255,0
PalBright = 5,5,5
Trans = Add
palinvertall = 1
timegap = 1
framegap = 4
trans = add

[State 9750 , 5];voce
type = PlaySnd
trigger1 = AnimElem = 3
value = 1200,2

[State 9750, luce]
type = Explod
trigger1 = AnimElem = 1
anim = 2
ID = 2
pos = 10, 0
postype = p1
sprpriority = -2
supermove = 1
removetime = 45
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 1010 , 3]
type = Projectile
trigger1 = AnimElem = 4
attr = S, SP
projanim = 10111
;projhitanim = 850
offset = 60, -105
velocity = 5
damage = 40
animtype = Hard
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
hitsound   = S1000,1
guardsound = S200,1
ground.type = Low
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -10
air.velocity = -2.5,-5

[State 1000, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


