[Data]
life = 1000
attack = 130
defence = 130
power = 5000
;Percentage to increase defense everytime player is knocked down
fall.defence_up = 65
;Time which player lies down for, before getting up
liedown.time = 60
;Number of points for juggling
airjuggle = 15
;Default hit spark number for HitDefs
sparkno = 2
;Default guard spark number
guard.sparkno = 40
;1 to enable echo on KO
KO.echo = 0
;Volume offset (negative for softer)
volume = 255
;Variables with this index and above will not have their values
;reset to 0 between rounds or matches. There are 60 int variables,
;indexed from 0 to 59, and 40 float variables, indexed from 0 to 39.
;If omitted, then it defaults to 60 and 40 for integer and float
;variables repectively, meaning that none are persistent, i.e. all
;are reset. If you want your variables to persist between matches,
;you need to override state 5900 from common1.cns.
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 1 
yscale = 1 
ground.back = 15
ground.front = 9 
air.back = 12 
air.front = 12 
height = 60 
attack.dist = 160  
proj.attack.dist = 90
proj.doscale = 0 
head.pos = -5, -90
mid.pos = -5, -60
shadowoffset = 0  
draw.offset = 0,0

[Velocity]
walk.fwd  = 3.7  
walk.back = -2.9  
run.fwd  = 7,0  
run.back = -6,-5 
jump.neu = 0,-11 
jump.back = -5 
jump.fwd = 5
runjump.back = -7,-12
runjump.fwd = 7,-12  
airjump.neu=0,-12
airjump.back=-5,-12
airjump.fwd=5,-12  

[Movement]
airjump.num = 1  
airjump.height = 60  
yaccel = .45     
stand.friction = .90
crouch.friction = .90 
;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?      S/C/A/L  stand/crouch/air/liedown
; movetype = ?  I/A/H    idle/attack/gethit
; physics = ?   S/C/A/N  stand/crouch/air/none
; juggle = ?             air juggle points move requires
;
; [State STATENO, ?]     ? - any number you choose
; type = ?
; ...

;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
; CNS ƒŒƒxƒ‹: Šî–{
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 181, 2]
type = PlaySnd
trigger1 = Time = 1
value = S11,0
volume = 255

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
; CNS ƒŒƒxƒ‹: Šî–{
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

[State 180, 2]
type = PlaySnd
trigger1 = Time = 1
value = S0,12
volume = 220

;---------------------------------------------------------------------------
; Win pose 1 - Bow
; CNS difficulty: basic
; CNS ƒŒƒxƒ‹: Šî–{
[Statedef 181]
type = S
ctrlAbs(Expressão) = 0
anim = 181
velset = 0,0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181, 2]
type = PlaySnd
trigger1 = Time = 1
value = S0,12
volume = 220

;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
; CNS ƒŒƒxƒ‹: Šî–{
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

[State 191, 4]
type = PlaySnd
trigger1 = Time = 1
value = 0, 10
volume = 220

[State 191,5]
type = Explod
trigger1 = Time = 80
anim = 4545

[State 191,5.5]
type = Explod
trigger1 = Time = 100
trigger2 = Time = 140
trigger3 = Time = 180
trigger4 = Time = 220
trigger5 = Time = 260
anim = 2121

;[State 191,6]
;type = PlaySnd
;trigger1 = Time = 100
;value = 0, 11
;volume = 250

[State 191, afterimage]
type = AfterImage
trigger1 = StateNo = 191
time = 60
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 107,107,222 ;blue 
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

;[State 191, 7]
;type = PlaySnd
;trigger1 = Time = 1
;value = 444,444
;volume = 250

;[State 191,8]
;type = Explod
;trigger1 = Time = 1
;anim = 999

[State 191,9]
type = PlaySnd
trigger1 = Time = 100
value = S989,989
volume = 220

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 195, 1]
type = CtrlSet
trigger1 = Time = 40
value = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 195, 3]
type = PlaySnd
trigger1 = Time = 1
value = S0,12
volume = 355

;---------------------------------------------------------------------------
; Stand Light Punch
; CNS difficulty: easy
[Statedef 200]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 200                       ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 0                       ;Spark anim no (Def: set above)
sparkxy = -10, -86               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s99,99                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 12             ;Time opponent is in hit state
ground.velocity = -4             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0
volume = 255

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing strong punch
; CNS difficulty: easy
; Note the width controller. It makes KFM's push box larger, so he doesn't
; stand so close to the opponent. Hit Ctrl-C and look at the red bar at his
; feet.
; The sprpriority for this state is at -1, instead of the usual 2 for
; attacks. This makes KFM appear behind the opponent initially.
; The SprPriority controller in [State 210, 4] brings KFM to the front when
; his arm has swung over.
; To stop KFM from pausing in his swing frame, there is a ChangeAnim in
; [State 210, 3] that detects if the hit has come in contact with the
; opponent during that frame, and switches to the next animation element
; (notice the elem=6 parameter). If you don't see what I mean, try commenting
; out that controller, then hit someone with this attack.
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 210
sprpriority = -1

[State 210, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 4

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Medium
damage    = 57
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-70
hitsound   = S88,88
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 210, 3]
type = ChangeAnim
trigger1 = AnimElemTime(5) > 0 && AnimElemTime(6) <= 0
trigger1 = movecontact
ignorehitpause = 1
persistent = 0
value = 210
elem = 6

[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; Cate mu mu fuerte
; CNS difficulty: easy
; Note the width controller. It makes KFM's push box larger, so he doesn't
; stand so close to the opponent. Hit Ctrl-C and look at the red bar at his
; feet.
; The sprpriority for this state is at -1, instead of the usual 2 for
; attacks. This makes KFM appear behind the opponent initially.
; The SprPriority controller in [State 210, 4] brings KFM to the front when
; his arm has swung over.
; To stop KFM from pausing in his swing frame, there is a ChangeAnim in
; [State 210, 3] that detects if the hit has come in contact with the
; opponent during that frame, and switches to the next animation element
; (notice the elem=6 parameter). If you don't see what I mean, try commenting
; out that controller, then hit someone with this attack.
[Statedef 201]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 201
sprpriority = -1

[State 201, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 201, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 4

[State 201, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Medium
damage    = 67
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-70
hitsound   = S88,88
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 201, 3]
type = ChangeAnim
trigger1 = AnimElemTime(5) > 0 && AnimElemTime(6) <= 0
trigger1 = movecontact
ignorehitpause = 1
persistent = 0
value = 210
elem = 6

[State 201, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 201, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 201, 6]
Type = Velset
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
x = 6

[State 201, 7]
Type = Velset




trigger1 = AnimElem = 6
x = 4

[State 201, 8]
Type = Velset
trigger1 = AnimElem = 7
x = 3

[State 201, 9]
Type = Velset
trigger1 = AnimElem = 8
x = 3


[State 201, AfterImage2]
type=AfterImage
triggerall= AnimElem = 1 
trigger1 = PalNo = 2
time=40
Timegap = 1
FrameGap = 2
length = 15
Palcolor = 0
PalBright   =   0,  0,  0
PalContrast = 80,70,0
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Palinvertall = 1
Trans = Add

[State 201, afterimage]
type = AfterImage
triggerall= AnimElem = 1 
trigger1 = PalNo = 1
time = 40
length = 15
FrameGap = 2
PalBright   =   0,  0,  0
PalContrast = 187,107,140 
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add

[State 201, nothittableanything]
type = NotHitBy
trigger1 = 1
type = NotHitBy
value = SCA

;---------------------------------------------------------------------------
; Standing light kick
; CNS difficulty: easy
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 22
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 3
value = 0, 1

[State 230, 2]
type = HitDef
trigger1 = Time = 3
attr = S, NA
animtype  = Medium
damage    = 26
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -30,-77
hitsound   = S99,99
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2.5,-3.5

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing strong kick
; CNS difficulty: easy
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 240, 2]
type = HitDef
trigger1 = Time = 2
attr = S, NA
animtype  = Medium
damage    = 63
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-107
hitsound   = S88,88
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2

[State 240, 3]
type = PosAdd
trigger1 = AnimElem = 7
x = 7

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ESA PEASO DE COZ!!!
; CNS difficulty: easy
[Statedef 241]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 241
sprpriority = 2

[State 241, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 241, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 68
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-60
hitsound   = S88,88
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2

[State 241, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Crouching light punch
; CNS difficulty: easy
; Description: Simple crouching attack. The HitDef's guardflag parameter
;     is set to "L", meaning that the move can only be guarded low
;     (crouching), and not by standing or jumping opponents.
;     Like for all light attacks, it's a good idea to keep the slidetime
;     and hittime parameters at a smaller number, so the opponent isn't
;     stunned for too long. For all crouching attacks you have to
;     remember to set the attr parameter to indicate that it is crouching
;     attack. In this case, "C, NA" stands for "crouching, normal attack".
;     The HitDef's priority is set at 3, instead of the default of 4,
;     so this attack has a lower priority than most others, meaning
;     KFM will get hit instead of trading hits with his opponent if
;     their attack collision boxes (Clsn1) intersect each other's Clsn2
;     boxes at the same time.
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15
ctrl = 0
anim = 400
sprpriority = 2

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 23
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,11
sparkno = 0
sparkxy = -10,-42
hitsound   = s99,99
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = -4
air.velocity = -1.5,-3

[State 400, 3]
type = CtrlSet
trigger1 = Time = 5
value = 1

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
;Crouching strong punch
; CNS difficulty: easy
; Description: This is a 2-hit move. It is done by having two HitDefs
;     triggered, one for each frame of animation that hits.
;     Notice how the first hit cannot be guarded by an opponent in the
;     air, because of the "M" in the guardflag, meaning it can only
;     be guarded "middle". The second hit has an "MA" guardflag, so
;     it can be guarded both on the ground and in the air.
; CNS ƒŒƒxƒ‹: ˆÕ
; Ú×: ‚±‚ê‚Í‰£'Å‚ª"ñ"­‚ ‚éUŒ‚‚Å‚·B
; ‰£'Å‚Å‚«‚éƒAƒjƒ[ƒVƒ‡ƒ"‚Ì–‡‚ÍˆêXHitDef‚ð"o˜^‚µ‚Ä‚¢‚Ü‚·B
; ˆê"­–Ú‚ÌUŒ‚‚ÌHitDef‚É‚Íguardflag‚ªuMvimiddle'†'iƒK[ƒhj
; ‚ÉƒZƒbƒg‚³‚ê‚Ä‚¢‚é‚Ì‚ÅA'ŠŽè‚Í‹ó'†‚ÅƒK[ƒh‚Å‚«‚Ü‚¹‚ñB"ñ"­–Ú
; ‚ÌUŒ‚‚Ìguardflag‚ÍuMAvimiddle+air'†'i{‹ó'†ƒK[ƒhj‚ÅA
; 'nãA‹ó'†‚Å‚àƒK[ƒh‚·‚é‚±‚Æ‚ª‚Å‚«‚Ü‚·B
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 410
sprpriority = 2

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

;This is the first hit, triggered on the 3rd element of animation.
[State 410, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage    = 37
animtype  = Medium
hitflag = MAF
guardflag = M
pausetime = 12,12
sparkno = 1
sparkxy = -10,-55
hitsound   = S88,88
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -3,-4

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching cate mu mu fuerte
[Statedef 411]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 410
sprpriority = 2

[State 411, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

;This is the first hit, triggered on the 3rd element of animation.
[State 411, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage    = 43
animtype  = Medium
hitflag = MAF
guardflag = M
pausetime = 12,12
sparkno = 1
sparkxy = -10,-55
hitsound   = S88,88
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -3,-4

[State 411, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------
;Crouching light kick
; CNS difficulty: easy
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 22
ctrl = 0
anim = 430
sprpriority = 2

[State 430, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 430, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 28
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = 0
sparkxy = -10,-8
hitsound   = S99,99
guardsound = 6,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Strong Kick
; CNS difficulty: easy
; Description: This move uses "Trip" for the "ground.type" parameter in
;     its HitDef. It's a special type that puts the opponent in a tripped
;     animation as he falls. Also, the hitflag parameter in the HitDef
;     is set to "MAFD". The "D" indicates that a downed opponent can be
;     hit by the attack.
; CNS ƒŒƒxƒ‹: ˆÕ
; Ú×:
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 440
sprpriority = 2

[State 440, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 2

[State 440, 3]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 72
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = 1

sparkxy = -5,-10
hitsound   = S88,88
guardsound = 6,0
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15


ground.velocity = -1.5,-2
air.velocity = -1.2,-3
guard.velocity = -5
fall = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Patada deslizante
[Statedef 450]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 450
sprpriority = 2

[State 450, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 2

[State 450, 3]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 72
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = 1

sparkxy = -5,-10
hitsound   = S0,14
guardsound = 6,0
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15


ground.velocity = -1.5,-2
air.velocity = -1.2,-3
guard.velocity = -5
fall = 1

[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[State 450, 5]
Type = Velset
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 7

[State 450, 6]
type = PlaySnd
trigger1 = Time = 1
value = S0,13


;---------------------------------------------------------------------------
;Jump Light Punch
; CNS difficulty: easy
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 600
sprpriority = 2

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 20
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = 0
sparkxy = -10,-58
hitsound   = S88,88
guardsound = s69,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

[State 600, 3]
type = CtrlSet
trigger1 = Time = 17
value = 1

;---------------------------------------------------------------------------
;Jump Strong Punch
; CNS difficulty: easy
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 610
sprpriority = 2

[State 610, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 72
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 1
sparkxy = -10,-55
hitsound   = S88,88
guardsound = 6,0
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,-4

;---------------------------------------------------------------------------
;Jump Strong Punch
; CNS difficulty: easy
[Statedef 611]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 610
sprpriority = 2

[State 611, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 611, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 80
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 1
sparkxy = -10,-55
hitsound   = S88,88
guardsound = 6,0
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,-4


;---------------------------------------------------------------------------
;Jump Light Kick
; CNS difficulty: easy
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 20
ctrl = 0
anim = 630
sprpriority = 2

[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 630, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 26
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = 1
sparkxy = -5,-35
hitsound   = S99,99
guardsound = s69,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -4
air.velocity = -2,-3

;---------------------------------------------------------------------------
;Jump Strong Kick
; CNS difficulty: easy
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 640
sprpriority = 2

[State 640, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 640, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 70
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 1
sparkxy = -10,-40
hitsound   = S88,88
guardsound = S69,0
animtype = Med
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.velocity = -3,-4

;---------------------------------------------------------------------------
;Jump patada mu mu fuerte
; CNS difficulty: easy
[Statedef 641]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 640
sprpriority = 2

[State 641, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 641, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 75
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 1
sparkxy = -10,-40
hitsound   = S88,88
guardsound = S69,0
animtype = Med
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.velocity = -3,-4

;---------------------------------------------------------------------------
; Triple Kung Fu Palm (hyper)
; CNS difficulty: medium
; Notes: Notice that the HitDefs in supers have "getpower = 0". This makes
;        sure KFM doesn't recharge his super guage as he hits.
;        Also, the attributes for the HitDefs is "HA" for "hyper attack",
;        ie. "attr = S, HA".
;        Notice how the first HitDef is reused twice by allowing it to
;        trigger on two animation elements.
[Statedef 3000]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3000
ctrl = 0
sprpriority = 2

[State 1112, 1]
type = varset
trigger1 = var(1) != 0
trigger1 = time = 0
v = 1
value = 0

[State 1112, 2]
type = removeexplod
trigger1 = time > 0
id = 29180

[State 1112, 2]
type = removeexplod
trigger1 = time > 0
id = 6666

[State 1112, 2]
type = removeexplod
trigger1 = time > 0
id = 8888


[State 3000, afterimage]
type = AfterImage
trigger1 = Time = 0
time = 60
length = 25
palcolor = 0
palinvertall = 1
timegap = 1
framegap = 1
PalBright   =   0,  0,  0
PalContrast = 187,107,140 
PalAdd      =   0,  0,  0
;;PalMul      =  0,0,0
trans = add

[State 3000, Width]
type = Width
trigger1 = AnimElem = 2, >= 0
value = 15,0

[State 3000, Super A]
type = SuperPause
trigger1 = AnimElem = 2, 1
pos = -16,-68
anim = S88
sound = 20, 0
poweradd = -1000

[State 3000, Super B]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2

[State 3000, Super C]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 60
time = 2

[State 3000, Super D]
type = NotHitBy
trigger1 = AnimElem = 2
value = , NA, SA, AT
time = 12

[State 3000, Super E]
type = NotHitBy
trigger1 = AnimElemTime(2) >= 0 && Time < 30
value2 = C, NA
time = 1

[State 3000,Super F]
type = PlaySnd
trigger1 = AnimElem = 2,1
value = 0,11

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 11
trigger4 = Animelem = 17
trigger5 = AnimElem = 24
trigger6 = Animelem = 34
value = S0,0

[State 3000, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 20

[State 3000, 3]
type = PosAdd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
trigger3 = AnimElem = 16
trigger4 = AnimElem = 24
trigger5 = AnimElem = 26
trigger6 = AnimElem = 28
trigger7 = AnimElem = 32
trigger8 = AnimElem = 34
x = 10

[State 3000, 4]
type = VelSet
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 11
trigger4 = AnimElem = 17
trigger5 = AnimElem = 24
trigger6 = AnimElem = 34
x = 6

[State 3000, 4]
type = PosAdd
trigger1 = AnimElem = 2
x = 5

[State 3000, 5]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
animtype  = Hard
damage    = 42,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = S99,99
guardsound = S69,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3000, 6]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
animtype  = Hard
damage    = 42,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = S99,99
guardsound = S69,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3000, 7]
type = HitDef
trigger1 = AnimElem = 11
attr = S, HA
animtype  = Hard
damage    = 45,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 20,20
sparkno = 0
sparkxy = -10,-60
hitsound   = S88,88
guardsound = S69,0
ground.type = Low
ground.slidetime = 40
ground.hittime  = 40
ground.velocity = -6
guard.velocity = -12
air.velocity = -5,-4
airguard.velocity = -3,-3
fall.animtype = Hard
fall = 0
fall.recover = 0

[State 3000, 8]
type = HitDef
trigger1 = AnimElem = 17
attr = S, HA
animtype  = Hard
damage    = 42,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = S99,99
guardsound = S69,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3000, 9]
type = HitDef
trigger1 = AnimElem = 24
attr = S, HA
animtype  = Hard
damage    = 42,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = S99,99
guardsound = S69,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3000, 10]
type = HitDef
trigger1 = AnimElem = 34
attr = S, HA
animtype  = diagup
damage    = 102, 5
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = S99,99
guardsound = S69,0
ground.type = high
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -50, -5
air.velocity = -50,-10
air.fall = 1
fall.animtype = Hard
fall.recover = 0
fall = 1


[State 3000, Width2]
type = Width
trigger1 = AnimElem = 31, >= 0
value = 35,0

[State 3000, 11]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 3000, afterimage]
type = AfterImage
trigger1 = Time = 0
time = 60
length = 25
palcolor = 0
palinvertall = 1
timegap = 1
framegap = 1
PalBright   =   0,  0,  0
PalContrast = 187,107,140 
PalAdd      =   0,  0,  0
;;PalMul      =  0,0,0
trans = add

[State 3000, star]
type = Explod
trigger1 = Time = 1
anim = 1112
pos = -320,0
postype = right
sprpriority = -2
supermove = 1
removetime = 175
ignorehitpause = 0
ownpal = 1
bindtime = -1
persistent = 0

;---------------------------------------------------------------------------
; Combo
[Statedef 30000]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 30000
ctrl = 0
sprpriority = -1

[State 30000, Width]
type = Width
trigger1 = AnimElem = 2, >= 0
value = 15,0

[State 30000, Super A]
type = SuperPause
trigger1 = AnimElem = 2, 1
pos = -16,-68
anim = S88
sound = 20, 0
poweradd = -1000

[State 30000, Super B]
type=AfterImage
triggerall= AnimElem = 2 
trigger1 = PalNo = 2
time=20
Timegap = 1
FrameGap = 1
length = 15
Palcolor = 0
PalBright   =   0,  0,  0
PalContrast = 80,70,0
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Palinvertall = 1
Trans = Add

[State 30000, afterimage2]
type = AfterImage
triggerall= AnimElem = 2 
trigger1 = PalNo = 1
time = 20
length = 15
Palcolor = 0
PalBright = 0, 0, 0
PalContrast = 187,107,140
PalAdd = 0, 0, 0
PalMul = 0.9,0.9,0.9
FrameGap = 1
Trans = Add


[State 30000, Super C]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 60
time = 2

[State 30000, Super D]
type = NotHitBy
trigger1 = AnimElem = 2
value = , NA, SA, AT
time = 12

[State 30000, Super E]
type = NotHitBy
trigger1 = AnimElemTime(2) >= 0 && Time < 30
value2 = C, NA
time = 1

[State 30000,Super F]
type = PlaySnd
trigger1 = AnimElem = 2,1
value = 0,11

[State 30000, 1]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 11
trigger3 = AnimElem = 18
value = S0,0

[State 30000, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 20

[State 30000, 3]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
trigger3 = AnimElem = 12
trigger4 = AnimElem = 17
trigger5 = AnimElem = 19
trigger4 = AnimElem = 29
x = 10

[State 30000, 4]
type = VelSet
trigger1 = AnimElem = 5
trigger2 = AnimElem = 12
trigger3 = AnimElem = 19
x = 6

[State 30000, 4]
type = PosAdd
trigger1 = AnimElem = 5
x = 5

[State 30000, 5]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 12
attr = S, HA
animtype  = Hard
damage    = 40, 25
getpower  = 10
priority  = 6
guardflag = MA
pausetime = 2
sparkxy = 15,-60
hitsound   = S99,99
guardsound = S69,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 30000, 6]
type = HitDef
trigger1 = AnimElem = 19
attr = S, HA
animtype  = Hard
damage    = 50, 25
getpower  = 10
priority  = 6
guardflag = MA
pausetime = 7,7
sparkno = 0
sparkxy = 20,-60
hitsound   = S88,88
guardsound = S69,0
ground.type = Low
ground.slidetime = 40
ground.hittime  = 40
ground.velocity = -20, -7
guard.velocity = -12
air.velocity = -5,-4
AutoAirGuard.velocity = -3,-3
fall.animtype = Hard
envshake.time = 25  
envshake.ampl = 7
envshake.freq = 176
fall = 1
;p2stateno = 12007
fall.damage = 50
fall.recover = 0

[State 30000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 30000, afterimage]
type=AfterImage
triggerall= AnimElem = 1 
trigger1 = PalNo = 2
time=60
Timegap = 1
FrameGap = 1
length = 15
Palcolor = 0
PalBright   =   0,  0,  0
PalContrast = 80,70,0
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Palinvertall = 1
Trans = Add

[State 30000, afterimage2]
type = AfterImage
triggerall= AnimElem = 1 
trigger1 = PalNo = 1
time = 60
length = 15
Palcolor = 0
PalBright = 0, 0, 0
PalContrast = 187,107,140
PalAdd = 0, 0, 0
PalMul = 0.9,0.9,0.9
FrameGap = 1
Trans = Add

[State 30000, star]
type = Explod
trigger1 = Time = 1
anim = 1112
pos = -320,0
postype = right
sprpriority = -2
supermove = 1
removetime = 60
ignorehitpause = 0
ownpal = 1
bindtime = -1
persistent = 0



;---------------------------------------------------------------------------
; Triple Kung Fu Palm (hyper)
; CNS difficulty: medium
; Notes: Notice that the HitDefs in supers have "getpower = 0". This makes
;        sure KFM doesn't recharge his super guage as he hits.
;        Also, the attributes for the HitDefs is "HA" for "hyper attack",
;        ie. "attr = S, HA".
;        Notice how the first HitDef is reused twice by allowing it to
;        trigger on two animation elements.
[Statedef 33333]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 33333
ctrl = 0
sprpriority = 2

[State 1112, 1]
type = varset
trigger1 = var(1) != 0
trigger1 = time = 0
v = 1
value = 0

[State 1112, 2]
type = removeexplod
trigger1 = time > 0
id = 29180

[State 1112, 2]
type = removeexplod
trigger1 = time > 0
id = 6666

[State 1112, 2]
type = removeexplod
trigger1 = time > 0
id = 8888

[State 33333, Width]
type = Width
trigger1 = AnimElem = 2, >= 0
value = 15,0

[State 33333, Super A]
type = SuperPause
trigger1 = AnimElem = 2, 1
pos = -16,-68
anim = S88
sound = 20, 0
poweradd = -2000

[State 33333, Super B]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2

[State 33333, Super C]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 60
time = 2

[State 33333, Super D]
type = NotHitBy
trigger1 = AnimElem = 2
value = , NA, SA, AT
time = 12

[State 33333, Super E]
type = NotHitBy
trigger1 = AnimElemTime(2) >= 0 && Time < 30
value2 = C, NA
time = 1

[State 33333,Super F]
type = PlaySnd
trigger1 = AnimElem = 2,1
value = 0,11

[State 33333, 1]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 11
trigger4 = Animelem = 17
trigger5 = AnimElem = 24
trigger6 = Animelem = 34
trigger7 = AnimElem = 43
trigger8 = AnimElem = 46
trigger9 = AnimElem = 51
trigger10 = Animelem = 57
trigger11 = AnimElem = 64
trigger12 = Animelem = 74
trigger13 = AnimElem = 75
value = S0,0

[State 33333, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 20

[State 33333, 3]
type = PosAdd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
trigger3 = AnimElem = 16
trigger4 = AnimElem = 24
trigger5 = AnimElem = 26
trigger6 = AnimElem = 28
trigger7 = AnimElem = 32
trigger8 = AnimElem = 34
trigger9 = AnimElem = 45
trigger10 = AnimElem = 49
trigger11 = AnimElem = 56
trigger12 = AnimElem = 64
trigger13 = AnimElem = 66
trigger14 = AnimElem = 68
trigger15 = AnimElem = 72
trigger16 = AnimElem = 74
trigger17 = AnimElem = 75
x = 10

[State 33333, 4]
type = VelSet
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 11
trigger4 = AnimElem = 17
trigger5 = AnimElem = 24
trigger6 = AnimElem = 34
trigger7 = AnimElem = 43
trigger8 = AnimElem = 46
trigger9 = AnimElem = 51
trigger10 = AnimElem = 57
trigger11 = AnimElem = 64
trigger12 = AnimElem = 74
trigger13 = AnimElem = 75
x = 6

[State 33333, 4]
type = PosAdd
trigger1 = AnimElem = 2
x = 5

[State 33333, 5]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
animtype  = Hard
damage    = 42,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = S99,99
guardsound = S69,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 33333, 6]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
animtype  = Hard
damage    = 42,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = S99,99
guardsound = S69,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 33333, 7]
type = HitDef
trigger1 = AnimElem = 11
attr = S, HA
animtype  = Hard
damage    = 45,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 20,20
sparkno = 0
sparkxy = -10,-80
hitsound   = S88,88
guardsound = S69,0
ground.type = Low
ground.slidetime = 40
ground.hittime  = 40
ground.velocity = -6
guard.velocity = -12
air.velocity = -5,-4
airguard.velocity = -3,-3
fall.animtype = Hard
fall = 0
fall.recover = 0

[State 33333, 8]
type = HitDef
trigger1 = AnimElem = 14
attr = S, HA
animtype  = Hard
damage    = 45,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 20,20
sparkno = 0
sparkxy = -10,-95
hitsound   = S88,88
guardsound = S69,0
ground.type = Low
ground.slidetime = 40
ground.hittime  = 40
ground.velocity = -6
guard.velocity = -12
air.velocity = -5,-4
airguard.velocity = -3,-3
fall.animtype = Hard
fall = 0
fall.recover = 0

[State 33333, 9]
type = HitDef
trigger1 = AnimElem = 17
attr = S, HA
animtype  = Hard
damage    = 42,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-70
hitsound   = S99,99
guardsound = S69,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 33333, 10]
type = HitDef
trigger1 = AnimElem = 24
attr = S, HA
animtype  = Hard
damage    = 42,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = S99,99
guardsound = S69,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 33333, 11]
type = HitDef
trigger1 = AnimElem = 34
attr = S, HA
animtype  = Hard
damage    = 42,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = S99,99
guardsound = S69,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0


[State 33333, 12]
type = HitDef
trigger1 = AnimElem = 43
attr = S, HA
animtype  = Hard
damage    = 42,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = S99,99
guardsound = S69,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 33333, 13]
type = HitDef
trigger1 = AnimElem = 46
attr = S, HA
animtype  = Hard
damage    = 42,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = S99,99
guardsound = S69,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 33333, 14]
type = HitDef
trigger1 = AnimElem = 51
attr = S, HA
animtype  = Hard
damage    = 45,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 20,20
sparkno = 0
sparkxy = -10,-60
hitsound   = S88,88
guardsound = S69,0
ground.type = Low
ground.slidetime = 40
ground.hittime  = 40
ground.velocity = -6
guard.velocity = -12
air.velocity = -5,-4
airguard.velocity = -3,-3
fall.animtype = Hard
fall = 0
fall.recover = 0

[State 33333, 15]
type = HitDef
trigger1 = AnimElem = 57
attr = S, HA
animtype  = Hard
damage    = 42,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = S99,99
guardsound = S69,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 33333, 16]
type = HitDef
trigger1 = AnimElem = 64
attr = S, HA
animtype  = Hard
damage    = 42,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = S99,99
guardsound = S69,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 33333, 17]
type = HitDef
trigger1 = AnimElem = 74
attr = S, HA
animtype  = diagup
damage    = 102, 5
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = S99,99
guardsound = S69,0
ground.type = high
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -50, -5
air.velocity = -50,-10
air.fall = 1
fall.animtype = Hard
fall.recover = 0
fall = 1

[State 33333, 17]
type = HitDef
trigger1 = AnimElem = 75
attr = S, HA
animtype  = diagup
damage    = 102, 5
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = S99,99
guardsound = S69,0
ground.type = high
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -50, -5
air.velocity = -50,-10
air.fall = 1
fall.animtype = Hard
fall.recover = 0
fall = 1

[State 33333, Width2]
type = Width
trigger1 = AnimElem = 74, >= 0
value = 35,0

[State 33333, 11]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 33333, afterimage]
type = AfterImage
trigger1 = Time = 0
time = 130
length = 25
palcolor = 0
palinvertall = 1
timegap = 1
framegap = 1
PalBright   =   0,  0,  0
PalContrast = 187,107,140 
PalAdd      =   0,  0,  0
;;PalMul      =  0,0,0
trans = add

[State 33333, star]
type = Explod
trigger1 = Time = 1
anim = 1112
pos = -320,0
postype = right
sprpriority = -2
supermove = 1
removetime = 350
ignorehitpause = 0
ownpal = 1
bindtime = -1
persistent = 0


Trapasso (contatto)
[Statedef 2010]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 99201
sprpriority = 1

[State 2010, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 2010, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 4


[State 2010, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Medium
damage    = 280
guardflag = MA
pausetime = 0, 60
sparkno = 1
sparkxy = -10,-70
hitsound   = S88,88
guardsound = S6,0
ground.type = Low
ground.slidetime = 0
ground.hittime  = 6
ground.velocity = 0
air.velocity = -2.5,-4
fall = 1
air.fall= 1

[State 2010, 5]
type = ChangeState
trigger1 = MoveHit
value = 2100
ctrl = 1

[State 2010, 5b]
type = ChangeState
trigger1 = MoveGuarded
value = 0
ctrl = 1

[State 2010, 5c]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

[State 2010, 6.1]
Type = Velset
trigger1 = AnimElem = 2
x = 8

[State 2010, 6.2]
Type = VelMul
trigger1 = AnimElem = 3
x = 1.2

[State 2010, 6.3]
Type = VelMul
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
x = 1.5


[State 2010, 7]
Type = VelMul
trigger1 = AnimElem = 6
x = 1.7

[State 2010,Super F]
type = PlaySnd
trigger1 = AnimElem = 2,1
value = 0,11

[State 2010, 8]
Type = VelMul
trigger1 = AnimElem = 7
x = 2

[State 2010, 9]
Type = VelMul
trigger1 = AnimElem = 8
x = 1.1

[State 2010, star]
type = Explod
trigger1 = Time = 1
anim = 1112
pos = -320,0
postype = right
sprpriority = -2
supermove = 1
removetime = 40
ignorehitpause = 0
ownpal = 1
bindtime = -1
persistent = 0

[State 2010, afterimage]
type=AfterImage
triggerall= AnimElem = 3 
trigger1 = PalNo = 1
time=30
Timegap = 1
FrameGap = 1
length = 15
Palcolor = 0
PalBright   =   0,  0,  0
PalContrast = 107,107,222  
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Palinvertall = 1
Trans = Add

[State 2010, afterimage2]
type = AfterImage
triggerall= AnimElem = 3 
trigger1 = PalNo = 2
time=30
Timegap = 1
FrameGap = 1
length = 15
Palcolor = 0
PalBright   =   0,  0,  0
PalContrast = 80,70,0
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Palinvertall = 1
Trans = Add

[State 2010, Super A]
type = SuperPause
trigger1 = AnimElem = 2, 1
pos = -16,-68
anim = S88
sound = 20, 0
poweradd = -1000

[State 2010, super]
type = BGPalfx
trigger1 = time >= 0
trigger2 = PalNo = 1
ignorehitpause = 1
time = 18
mul = 200,100,100
add = -5,-5,-5
invertall = 1

[State 2010, super]
type = BGPalfx
trigger1 = time >= 0
trigger2 = PalNo = 1
ignorehitpause = 1
time = 18
mul = 200,100,100
add = -5,-5,-5
invertall = 1

[State 2010, nothittableanything]
type = NotHitBy
trigger1 = 1
type = NotHitBy
value = SCA

Trapasso (attraversamento del corpo)
[statedef 2100]
type = S
Movetype = I
Physics = S
Anim = 211
ctrl = 0

[State 2100, Super B]
type=AfterImage
triggerall= Time = 0
trigger1 = PalNo = 1
time=20
Timegap = 1
FrameGap = 1
length = 15
Palcolor = 0
PalBright   =   0,  0,  0
PalContrast = 107,107,222  
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Palinvertall = 1
Trans = Add

[State 2100, afterimage2]
type = AfterImage
triggerall= Time = 0
trigger1 = PalNo = 2
time=20
Timegap = 1
FrameGap = 1
length = 15
Palcolor = 0
PalBright   =   0,  0,  0
PalContrast = 80,70,0
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Palinvertall = 1
Trans = Add

[State 2100, super]
type = BGPalfx
trigger1 = time >= 0
trigger2 = PalNo = 1
ignorehitpause = 1
time = 18
mul = 200,100,100
add = -5,-5,-5
invertall = 1

[State 2100, super]
type = BGPalfx
trigger1 = time >= 0
trigger2 = PalNo = 2
ignorehitpause = 1
time = 18
mul = 200,100,100
add = -5,-5,-5
invertall = 1

[state 2100,1]
type = posadd
trigger1 = animtime = 0
x = 100

[state 2100,2]
type = changestate
trigger1 = animtime = 0
value = 2150
ctrl = 1

;Trapasso (fine)
[Statedef 2150]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 211
sprpriority = 8

[State 2150, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 2150, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 4

[State 2150, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 2150, 5]
type = ChangeState
trigger1 = time = 70
value = 0
ctrl = 1

[State 2150, 6.1]
Type = Velset
trigger1 = AnimElem = 1
x = 8

[State 2150, afterimage]
type=AfterImage
triggerall= Time = 0
trigger1 = PalNo = 1
time=30
Timegap = 1
FrameGap = 1
length = 15
Palcolor = 0
PalBright   =   0,  0,  0
PalContrast = 107,107,222  
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Palinvertall = 1
Trans = Add

[State 2150, afterimage2]
type = AfterImage
triggerall= Time = 0 
trigger1 = PalNo = 2
time=30
Timegap = 1
FrameGap = 1
length = 15
Palcolor = 0
PalBright   =   0,  0,  0
PalContrast = 80,70,0
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Palinvertall = 1
Trans = Add

[State 2150, super]
type = BGPalfx
trigger1 = time >= 0
trigger2 = PalNo = 1
ignorehitpause = 1
time = 18
mul = 200,100,100
add = -5,-5,-5
invertall = 1

[State 2100, super]
type = BGPalfx
trigger1 = time >= 0
trigger2 = PalNo = 2
ignorehitpause = 1
time = 18
mul = 200,100,100
add = -5,-5,-5
invertall = 1

[State 2150, nothittableanything]
type = NotHitBy
trigger1 = 1
type = NotHitBy
value = SCA

;---------------------------------------------------------------------------
;Throw001 - Attempt
[Statedef 500]
type 			= S
movetype		= A
physics		= S
anim			= 500
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= -1

[State 500:		VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0
x                       = 0

[State 500:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1)
value			= S3,4

[State 500:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 1, = 5)
attr			= S, NT
hitflag		= -M
priority		= 1, Miss
sparkno		= -1
guard.dist		= 0
snap			= 37,-10
sprpriority		= -1
p2facing		= 1
p1stateno		= 501
p2stateno		= 505
forcestand		= 1
fall			= 1
id			= 500
getpower		= 50
givepower		= 50

[State 500:		ChangeState]
type			= ChangeState
trigger1		= (AnimTime = 0)
value			= 0
ctrl = 1
;---------------------------------------------------------------------------
;Throw001 - Success
[Statedef 501]
type 			= S
movetype		= A
physics		= S
anim			= 501
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= -1

[State 501:		SprPriority]
type			= SprPriority
trigger1		= (AnimElem = 2)
value			= 2

;[State 501:		Turn]
;type			= Turn
;trigger1		= (AnimElem = 5)

[State 501:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1, = 5)
value			= S3,1

[State 501:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S3,4

[State 501:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S5,0

[State 501: 	PlaySnd]
type 			= PlaySnd
trigger1		= (Target, StateNo = 506)
value 		= S2,2
persistent		= 0

[State 501:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 1, = 5)
time			= 15
id			= -1
pos			= 20,-10

[State 501:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 2)
time			= 8
id			= -1
pos			= 20,-8

[State 501:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 3)
time			= 4
id			= -1
pos			= 20,-5

[State 501:		TargetVelSet]
type			= TargetVelSet
trigger1		= (AnimElem = 3, = 5)
id			= -1
x			= 3	
y			= 12

[State 501:		TargetLifeAdd]
type			= TargetLifeAdd
trigger1		= (Target, StateNo = 506)
value			= -80
id			= -1
kill			= 1
persistent		= 0

[State 501:		HitAdd]
type			= HitAdd
trigger1		= (Target, StateNo = 506)
value			= 1
persistent		= 0

[State 501:		VarAdd]
type			= VarAdd
trigger1		= (!Time)
var(1)		= 40

[State 501:		Helper]
type			= Helper
trigger1		= (Target, StateNo = 506)
helpertype		= Normal
name			= "Rock000"
id			= 502
pos			= 0,0
postype		= p2
facing		= 1
stateno		= 502
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 499,0.75,0.50))
size.yscale		= (IfElse(Random <= 499,0.75,0.50))
persistent		= 0

[State 501:		Helper]
type			= Helper
trigger1		= (Target, StateNo = 506) && (Random <= 249)
helpertype		= Normal
name			= "Rock000"
id			= 502
pos			= 0,0
postype		= p2
facing		= 1
stateno		= 502
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 499,0.75,0.50))
size.yscale		= (IfElse(Random <= 499,0.75,0.50))
persistent		= 0

[State 501:		Helper]
type			= Helper
trigger1		= (Target, StateNo = 506)
helpertype		= Normal
name			= "Rock001"
id			= 503
pos			= 0,0
postype		= p2
facing		= 1
stateno		= 503
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 499,0.75,0.50))
size.yscale		= (IfElse(Random <= 499,0.75,0.50))
persistent		= 0

[State 501:		Helper]
type			= Helper
trigger1		= (Target, StateNo = 506) && (Random <= 249)
helpertype		= Normal
name			= "Rock001"
id			= 503
pos			= 0,0
postype		= p2
facing		= 1
stateno		= 503
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 499,0.75,0.50))
size.yscale		= (IfElse(Random <= 499,0.75,0.50))
persistent		= 0

[State 501:		Helper]
type			= Helper
trigger1		= (Target, StateNo = 506)
helpertype		= Normal
name			= "Rock002"
id			= 504
pos			= 0,0
postype		= p2
facing		= 1
stateno		= 504
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 499,0.75,0.50))
size.yscale		= (IfElse(Random <= 499,0.75,0.50))
persistent		= 0

[State 501:		Helper]
type			= Helper
trigger1		= (Target, StateNo = 506) && (Random <= 249)
helpertype		= Normal
name			= "Rock002"
id			= 504
pos			= 0,0
postype		= p2
facing		= 1
stateno		= 504
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 499,0.75,0.50))
size.yscale		= (IfElse(Random <= 499,0.75,0.50))
persistent		= 0

[State 501:		ChangeState]
type			= ChangeState
trigger1		= (AnimTime = 0)
value			= 0
ctrl = 1

;Calcio volante diagonale
[Statedef 700]
type = A
movetype = A
physics = A
poweradd= 0
anim = 640
juggle = 1
ctrl = 0


[State 700, AfterImage2]
type=AfterImage
triggerall= AnimElem = 1 
trigger1 = PalNo = 2
time=30
Timegap = 1
FrameGap = 1
length = 15
Palcolor = 0
PalBright   =   0,  0,  0
PalContrast = 80,70,0
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Palinvertall = 1
Trans = Add

[State 700, afterimage]
type = AfterImage
triggerall= AnimElem = 1 
trigger1 = PalNo = 1
time = 30
length = 15
FrameGap = 1
PalBright   =   0,  0,  0
PalContrast = 187,107,140 
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add


[State 700, 0]
type = SuperPause
trigger1 = Time = 0
trigger1 = AnimElem = 1
time = 5
anim = -1
movetime = 5
poweradd = -500

[State 700 , 1]
type = VelSet
trigger1 = AnimElem = 2
x = 20
y = 10

[State 700 , 2]
type = PlaySnd
trigger1 = Time = 0
value = S1000,1

[State 700 , 3]
type = HitDef
trigger1 = AnimElem = 2
attr = A, HA
damage = 120, 60
animtype = Light
guardflag = HA
sparkxy = -10,-50
hitsound   = S1000,0
guardsound = S1000,0
pausetime = 12,12
ground.hittime = 13
ground.type = high
ground.slidetime = 9
ground.velocity = -10;-25
air.velocity = -3,-3
fall = 1

[State 700 , 1]
type = VelSet
trigger1 = AnimElem = 4
x = 20
y = 0

[State 700 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Throw001
;Rock000
[Statedef 502]
type 			= S
movetype		= I
physics		= N
anim			= 502
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 502:		SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 502:		NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 502:		PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 502:		MakeDust]
type			= MakeDust
trigger1		= (Pos Y >= 1) && (Time > 10)
pos 			= 5,0
pos2			= -5,0
spacing 		= 2
persistent		= 0

[State 502:		VelAdd]
type			= VelAdd
trigger1		= (Time > 10)
y			= (IfElse(Random <= 499,0.40,0.35))

[State 502:		VelSet]
type			= VelSet
trigger1		= (!Time)
x			= (IfElse(Random <= 499,3,-3))
y			= (IfElse(Random <= 499,-8,-4))

[State 502:		VelSet]
type			= VelSet
trigger1		= (Pos Y >= 1) && (Time > 10)
x			= 0
y			= 0

[State 502:		AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 502:		DestroySelf]
type			= DestroySelf
trigger1		= (AnimTime = 0)

;---------------------------------------------------------------------------
;Throw001
;Rock001
[Statedef 503]
type 			= S
movetype		= I
physics		= N
anim			= 503
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 503:		SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 503:		NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 503:		PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 503:		MakeDust]
type			= MakeDust
trigger1		= (Pos Y >= 1) && (Time > 10)
pos 			= 5,0
pos2			= -5,0
spacing 		= 2
persistent		= 0

[State 503:		VelAdd]
type			= VelAdd
trigger1		= (Time > 10)
y			= (IfElse(Random <= 499,0.40,0.35))

[State 503:		VelSet]
type			= VelSet
trigger1		= (!Time)
x			= (IfElse(Random <= 499,2,-5))
y			= (IfElse(Random <= 499,-10,-5))

[State 503:		VelSet]
type			= VelSet
trigger1		= (Pos Y >= 1) && (Time > 10)
x			= 0
y			= 0

[State 503:		AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 503:		DestroySelf]
type			= DestroySelf
trigger1		= (AnimTime = 0)

;---------------------------------------------------------------------------
;Throw001
;Rock002
[Statedef 504]
type 			= S
movetype		= I
physics		= N
anim			= 504
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 504:		SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 504:		NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 504:		PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 504:		MakeDust]
type			= MakeDust
trigger1		= (Pos Y >= 1) && (Time > 10)
pos 			= 5,0
pos2			= -5,0
spacing 		= 2
persistent		= 0

[State 504:		VelAdd]
type			= VelAdd
trigger1		= (Time > 10)
y			= (IfElse(Random <= 499,0.40,0.35))

[State 504:		VelSet]
type			= VelSet
trigger1		= (!Time)
x			= (IfElse(Random <= 499,4,-5))
y			= (IfElse(Random <= 499,-6,-3))

[State 504:		VelSet]
type			= VelSet
trigger1		= (Pos Y >= 1) && (Time > 10)
x			= 0
y			= 0

[State 504:		AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 504:		DestroySelf]
type			= DestroySelf
trigger1		= (AnimTime = 0)

;---------------------------------------------------------------------------
;Throw001 - Opponent
;Being Grabbed
[Statedef 505]
type 			= A
movetype		= H
physics		= N
;anim			= 505
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 505:		ChangeAnim2]
type			= ChangeAnim2
trigger1		= (!Time)
value			= 505

[State 505:		ChangeState]
type			= ChangeState
trigger1		= ((Pos Y >= 0) && (Time > 15)) || (Time > 40)
value			= 506
ctrl = 1
;---------------------------------------------------------------------------
;Throw001 - Opponent
;Being Thrown
[Statedef 506]
type 			= A
movetype		= H
physics		= N
;anim			= 506
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 506:		ChangeAnim2]
type			= ChangeAnim2
trigger1		= (!Time)
value			= 506

[State 506:		ChangeAnim]
type			= ChangeAnim
trigger1		= (Anim = 506) && (AnimTime = 0)
value			= 5070

[State 506:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Life > 80) && (Random <= 249)
value			= S11,0

[State 506:		VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= -1.5
y			= -7.5

[State 506:		VelAdd]
type			= VelAdd
trigger1		= (Time > 20)
y			= 0.45

[State 506:		EnvShake]
type			= EnvShake
trigger1		= (AnimElem = 1)
time			= 20
freq			= 120
ampl			= -6
phase			= 90
persistent		= 0

[State 506:		SelfState]
type			= SelfState
trigger1		= (Pos Y >= -10) && (Time > 20)
value			= 5100

;---------------------------------------------------------------------------
;Throw003 - Attempt
[Statedef 520]
type			= S
movetype		= A
physics		= N
anim			= 520
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= -1

[State 520:		VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0
x                       = 0

;[State 520:		VelAdd]
;type			= VelAdd
;trigger1		= (Vel X > 1)
;x			= -0.5


[State 520:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1)
value			= S3,4

[State 520:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 1, = 5)
attr			= S, NT
hitflag		= -M
priority		= 1, Miss
sparkno		= -1
guard.dist		= 0
snap			= 0,0
sprpriority		= -1
p2facing		= 1
p1stateno		= 521
p2stateno		= 525
forcestand		= 1
fall			= 1
id			= 520
getpower		= 50
givepower		= 50

[State 520:		ChangeState]
type			= ChangeState
trigger1		= (AnimTime = 0)
value			= 0
ctrl = 1
;---------------------------------------------------------------------------
;Throw003 - Success
[Statedef 521]
type			= S
movetype		= A
physics		= S
anim			= 521
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= -1


[State 521:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S444,444


[State 521:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 6)
value			= S0,1

[State 521:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 6)
value			= S2,4

[State 521:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 1)
time			= 15
id			= -1
pos			= 60,-74

[State 521:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 2)
time			= 9
id			= -1
pos			= 60,-79

[State 521:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 3)
time			= 7
id			= -1
pos			= 90,-84

[State 521:		TargetLifeAdd]
type			= TargetLifeAdd
trigger1		= (AnimElem = 6)
value			= -100
absolute		= 1

[State 521:		VarAdd]
type			= VarAdd
trigger1		= (AnimElem = 3) || (AnimElem = 5) || (AnimElem = 7) || (AnimElem = 9)
var(1)		= 10

[State 521:		EnvColor]
type			= EnvColor
trigger1		= (AnimElem = 6)
value			= 255,255,255
time			= 7
persistent		= 0
ignorehitpause	= 1


[State 521:		EnvShake]
type			= EnvShake
trigger1		= (AnimElem = 6)
time			= 20
freq			= 120
ampl			= -20
phase			= 90

[State 521:		Explod]
type			= Explod
trigger1		= (AnimElem = 1)
anim			= 522
id			= 522
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 521:		ChangeState]
type			= ChangeState
trigger1		= (AnimTime = 0)
value			= 0
ctrl = 1
;---------------------------------------------------------------------------
;Throw003 - Opponent
;Being Grabbed
[Statedef 525]
type			= A
movetype		= H
physics		= N
;anim			= 525
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 525:		ChangeAnim2]
type			= ChangeAnim2
trigger1		= (Time = 0)
value			= 525

[State 525:		ScreenBound]
type			= ScreenBound
trigger1		= 1
value			= 1
movecamera		= 0,0

[State 525:		VelSet]
type			= VelSet
trigger1		= (Time = 74)
x			= 1

[State 525:		VelAdd]
type			= VelAdd
trigger1		= (Time > 73)
y			= 0.25

[State 525:		ChangeState]
type			= ChangeState
trigger1		= (Time = 45)
value			= 526
ctrl = 1
;---------------------------------------------------------------------------
;Throw003 - Opponent
;Being Kicked Up
[Statedef 526]
type			= A
movetype		= H
physics		= N
;anim			= 526
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
sparkno		= s9101
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 526:		ChangeAnim2]
type			= ChangeAnim2
trigger1		= (Time = 0)
value			= 525

[State 526:		ScreenBound]
type			= ScreenBound
trigger1		= 1
value			= 1
movecamera		= 0,0

[State 526:		VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 0
y			= -40

[State 526:		AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 25
framegap 		= 4
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 526:		ChangeState]
type			= ChangeState
trigger1		= (Time = 1)
value			= 527
ctrl = 1
;---------------------------------------------------------------------------
;Throw003 - Opponent
;Being Knocked Up
[Statedef 527]
type			= A
movetype		= H
physics		= N
;anim			= 527
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 527:		ScreenBound]
type			= ScreenBound
trigger1		= 1
value			= 1
movecamera		= 0,0

[State 527:		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (AnimTime = 0) && (Anim = 5035)
trigger2 		= (!Time) && (Anim != 5035) && (Anim != [5051, 5059]) && (Anim != [5061, 5069]) && (Anim != 5090)
value 		= 5050

[State 527:		ChangeAnim]
type			= ChangeAnim
trigger1 		= (Anim = [5050,5059]) && (Vel Y >= IfElse(Anim = 5050, 1, -2)) && (SelfAnimExist(Anim+10))
value 		= Anim+10
persistent		= 0

[State 527:		VelAdd]
type 			= VelAdd
trigger1 		= 1
y 			= 0.8

[State 527:		SelfState]
type			= ChangeState
trigger1 		= (Vel Y > 0) && (Pos Y >= -20) && (Alive) && (Command = "recovery")
value			= 5200

[State 527:		SelfState]
type 			= SelfState
trigger1 		= (Vel Y > -1) && (Alive) && (Command = "recovery")
value 		= 5210

[State 527:		SelfState]
type 			= SelfState
trigger1 		= (Vel Y > 0) && (Pos Y >= IfElse((Anim = [5051,5059]) || (Anim = [5061,5069]),0,25))
value			= 5100

[State 527:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y <= -175)
value			= 528
ctrl = 1
;---------------------------------------------------------------------------
;Throw003 - Opponent
;Hit Ceiling
[Statedef 528]
type			= A
movetype		= H
physics		= N
;anim			= 528
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 528:		ScreenBound]
type			= ScreenBound
trigger1		= 1
value			= 1
movecamera		= 0,0

[State 528:		ChangeAnim]
type			= ChangeAnim
trigger1		= (Time = 15)
value			= 5061

[State 528:		VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 528:		VelAdd]
type			= VelAdd
trigger1		= (Time > 15)
y			= 0.8

[State 528:		EnvShake]
type			= EnvShake
trigger1		= (!Time)
time			= 20
freq			= 120
ampl			= -5
phase			= 90

[State 528:		SelfState]
type			= SelfState
trigger1		= (Pos Y >= 1)
value			= 5100
ctrl = 1
;---------------------------------------------------------------------------
;CNS CNS CNS CNS CNS CNS CNS CNS CNS CNS CNS CNS CNS CNS CNS CNS CNS CNS 
[Statedef 7040]
type 			= S
movetype		= I
physics		= S
anim			= 7040
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 7040:	PowerAdd]
type			= PowerAdd
trigger1		= (Time > 10) ;temps entre monte
value			= 13 ;la monte :)

;Pour Bronze
;[State 7040:	PowerAdd]
;type			= PowerAdd
;trigger1		= (Time > 100)
;value			= 3


[State 7040:	PlaySnd]
type			= PlaySnd
trigger1		= (Time = 13)
value			= S1000,1000
channel		= 0
loop			= 1

[State 7040:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S0,12
channel		= 1

[State 7040:	PlaySnd]
type			= PlaySnd
trigger1		= (Time = 23)
value			= S0,11
channel		= 2



[State 7040:	BGPalFX]
type			= BGPalFX
trigger1		= ((Time > 100) && ((GameTime%70) = 0))
time			= 10
add			= 20,20,20
mul			= 256,256,256
sinadd		= 200,200,200,4
;mul			= 248,232,120
;sinadd		= 248,232,120,4
invertall		= 1
color			= 256

[State 7040:	Helper]
type			= Helper
trigger1		= (Time = 23) && (NumHelper(7041) = 0)
helpertype		= Normal
name			= "Flame Effect"
id			= 7041
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 7041
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 7040:	Helper]
type			= Helper
trigger1		= (Time = 19) && (NumHelper(17040) = 0)
helpertype		= Normal
name			= "Flame Effect"
id			= 17040
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 17040
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 13020:	Helper]
type			= Helper
trigger1 		= (AnimElem = 3)
helpertype		= Normal
name			= "KameHameHa Barrier"
id			= 13024
pos			= 0,0
postype		= p1
facing		= 1
stateno		= 13024
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 7040:	Helper]; Pour chevalier d'or facultatif
type			= Helper
trigger1 		= (Time > 150) && ((GameTime%25) = 0) && (NumHelper(77046) < 15)
helpertype		= Normal
name			= "Energy"
id			= 77046
pos			= 0,0
postype		= p1
facing		= 1
stateno		= 77046
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.5
size.yscale		= 0.5

;Pour chevalier de bronze
;[State 7040,     LifeAdd]
;type = lifeadd
;trigger1 = Time >= 100
;trigger1 = life >= 1000
;value = 1


[State 7040:	ChangeState]
type			= ChangeState
trigger1		= ((Command != "hold_c") || (Command != "hold_b")) && (Var(2) <= 0)
value			= 7045
ctrl = 1


;Cosmos Effect
[Statedef 7041]
type 			= S
movetype		= I
physics		= N
anim			= 7041
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 7041:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 7041:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= 0,0

[State 7041:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(0)		= 35

[State 7041:	VarSet]
type			= VarSet
trigger1		= (Var(0) = 35)
var(1)		= 0

[State 7041:	VarSet]
type			= VarSet
trigger1		= (Var(0) = 150)
var(1)		= 1

[State 7041:	VarAdd]
type			= VarAdd
trigger1		= 1
var(0)		= IfElse(Var(1) = 0,1,-1)

[State 7041: 	AfterImage]
type 			= AfterImage
trigger1 		= 1
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= var(0), var(0), var(0)
trans 		= add

[State 7041:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, StateNo != 7040)

;Cosmos Effect
[Statedef 17040]
type 			= S
movetype		= I
physics		= N
anim			= 17040
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 17040:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 17040:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= 0,0

[State 17040:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(0)		= 35

[State 17040:	VarSet]
type			= VarSet
trigger1		= (Var(0) = 35)
var(1)		= 0

[State 17040:	VarSet]
type			= VarSet
trigger1		= (Var(0) = 150)
var(1)		= 1

[State 17040:	VarAdd]
type			= VarAdd
trigger1		= 1
var(0)		= IfElse(Var(1) = 0,1,-1)

[State 17040: 	AfterImage]
type 			= AfterImage
trigger1 		= 1
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= var(0), var(0), var(0)
trans 		= add

[State 17040:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, StateNo != 7040)

;Protection pendant charge contre projectile
[Statedef 13024]
type 			= S
movetype		= A
physics		= N
anim			= 13024
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 13024:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 13024:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= 0,0

[State 13024:	HitBy]
type			= HitBy
trigger1		= 1
value			= , NP, SP, HP
ignorehitpause	= 1

[State 13024:	HitOverride]
type			= HitOverride
trigger1		= 1
attr			= , NP, SP, HP
slot			= 0
stateno		= 9060
ignorehitpause	= 1

[State 13024:	HitDef]
type			= HitDef
trigger1		= 1
attr			= A, SP
hitflag		= P
priority		= 7, Hit
guard.dist		= 0

[State 13024:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, StateNo != 7040)

;Cosmos Charge fin
[Statedef 7045]
type 			= S
movetype		= I
physics		= S
anim			= 7045
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 7045:	VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 7045:	StopSnd]
type			= StopSnd
trigger1		= (!Time)
channel		= 0

[State 7045:	StopSnd]
type			= StopSnd
trigger1		= (!Time)
channel		= 1

[State 7045:	RemoveExplod]
type			= RemoveExplod
trigger1		= (!Time)
id			= 9020

[State 7045:	ChangeState]
type			= ChangeState
trigger1		= (AnimTime = 0)
value			= 0
ctrl = 1

;Cosmos flotant pour chevalier d'or
[Statedef 77046]
type 			= A
movetype		= A
physics		= N
anim			= 77046
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 77046:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 77046:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 77046:	VelAdd]
type			= VelAdd
trigger1		= (ParentDist X < 0) && (Vel X > -9)
x			= -0.1

[State 77046:	VelAdd]
type			= VelAdd
trigger1		= (ParentDist X > 0) && (Vel X < 9)
x			= 0.1

[State 77046:	VelAdd]
type			= VelAdd
trigger1		= (Parent, Pos Y > Pos Y) && (Vel Y < 9)
y			= 0.1

[State 77046:	VelAdd]
type			= VelAdd
trigger1		= (Parent, Pos Y <= Pos Y) && (Vel Y > -9)
y			= -0.1

[State 77046:	VarSet]
type			= VarSet
trigger1		= (Time = 0)
var(0)		= 35

[State 77046:	VarSet]
type			= VarSet
trigger1		= (Var(0) = 35)
var(1)		= 0

[State 77046:	VarSet]
type			= VarSet
trigger1		= (Var(0) = 150)
var(1)		= 1

[State 77046:	VarAdd]
type			= VarAdd
trigger1		= 1
var(0)		= IfElse(Var(1) = 0,1,-1)

[State 77046:	VarRandom]
type			= VarRandom
trigger1		= (Time = 0)
v			= 2
range			= -500,500

[State 77046:	VarRandom]
type			= VarRandom
trigger1		= (Time = 0)
v			= 3
range			= -500,500

[State 77046:	PosSet]
type			= PosSet
trigger1		= (Time = 0)
x			= var(2)
y			= var(3)

[State 77046:	EnvColor]
type			= EnvColor
trigger1		= (Time = 0)
value			= 255,255,255
time			= 5

[State 77046: 	AfterImage]
type 			= AfterImage
trigger1 		= 1
time 			= 5
framegap 		= 1
length 		= 2
;paladd 		= 0, 0, 0
;palmul 		= .50, .50, .50
mul			= 248,232,120
sinadd		= 248,232,120,4
palcontrast 	= var(0), var(0), var(0)
trans 		= add

;[State 77046:	HitDef]
;type			= HitDef
;trigger1		= (Random > 900) && ((GameTime%10) = 0)
;attr			= S, SP
;hitflag		= -MAP
;guardflag		= MA
;animtype		= Hard
;priority		= 7, Hit
;damage		= 30,15
;pausetime		= 12,12
;guard.pausetime	= 15,20
;sparkno		= S66666
;guard.sparkno	= S66666
;sparkxy		= 0,0
;hitsound		= S1100,2
;guardsound		= S1200,2
;ground.type		= High
;air.type		= Trip
;ground.slidetime	= 25
;ground.hittime	= 25
;air.hittime		= 25
;ground.velocity	= -4,-2
;guard.velocity	= -2
;air.velocity	= -4,-2
;airguard.velocity	= -4,-2
;ground.cornerpush.veloff = 0
;fall.xvelocity	= -1
;fall.yvelocity	= -3
;fall.recover	= 0
;air.fall		= 1
;down.velocity	= -1,-2
;down.bounce		= 1
;id			= 77046
;getpower		= 0
;givepower		= 0
;envshake.time 	= 12
;envshake.freq 	= 120
;envshake.ampl 	= -6
;persistent		= 0

[State 77046:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (Time > 500)
ignorehitpause	= 1




;---------------------------------------------------------------------------
; Bolita de fuego
[Statedef 8888]
type = S
movetype= A
physics = S
juggle = 4
velset = 0,0
ctrl = 0
anim = 4040
sprpriority = 2

[State 8888 , 1]
type = Projectile
trigger1 = AnimElem = 4
attr = S, SP
projanim = 6966
projhitanim = 6967
offset = 0,0
velocity = 50
damage = 350,50
animtype = Hard
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
hitsound   = S88,88
guardsound = S69,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -8
air.velocity = -2.5,-5

[State 8888, Super pausa]
type = SuperPause
trigger1 = AnimElem = 2, 1
pos = 20,-95
anim = 4040
sound = 20, 0
poweradd = -1000

[State 8888 , 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 8888, 3]
type = PlaySnd
trigger1 = Time = 1
value = S69,1
volume = 220

[State 8888, star]
type = Explod
trigger1 = Time = 1
anim = 8888
pos = -320,0
postype = right
sprpriority = -3
supermove = 1
removetime = 40
ignorehitpause = 0
ownpal = 1
bindtime = -1
persistent = 0

[State 8888, star]
type = Explod
trigger1 = Time = 2
anim = 6666
pos = -320,0
postype = right
sprpriority = -3
supermove = 1
removetime = 40
ignorehitpause = 0
ownpal = 1
bindtime = -1
persistent = 0

;----------------------------------
; PAR LES VAGUES D'HADES!!! YAAAH!!
;----------------------------------

[Statedef 7377]
type = S
movetype= A
physics = S
juggle = 4
velset = 0,0
ctrl = 0
facep2		= 1
anim = 7377
poweradd = -3000
sprpriority = 2

[State 7377 , 1]
type = SuperPause
trigger1 = Time = 0
time = 350
anim = S3400
darken = 0
supermove = 1
movetime = 350

;[State 7377 , Super pause]
;type = SuperPause
;trigger1 = AnimElem= 2
;time = 40
;pos = 20,-95
;anim = S88
;sound = 20, 0
;poweradd = -3000



[State 7377 , 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 7377, 3]
type = PlaySnd
trigger1 = Time = 1
value = S69,1
volume = 175

[State 7377, 3]
type = PlaySnd
trigger1 = Time = 100
value = S48,48
volume = 255

[State 7377, 3]
type = PlaySnd
trigger1 = Time = 1
value = S444,444
volume = 125

;[State 7377, 3]
;type = PlaySnd
;trigger1 = Time = 331
;value = S6666,0
;volume = 255

;[State 7377, 3]
;type = PlaySnd
;trigger1 = Time = 332
;value = S6666,0
;volume = 255

[State 7377, 3]
type = PlaySnd
trigger1 = AnimElem = 23
value = S6666,0
volume = 255

[State 7377, 3]
type = PlaySnd
trigger1 = AnimElem = 24
value = S6666,0
volume = 255

[State 7377, 3]
type = PlaySnd
trigger1 = AnimElem = 25
value = S6666,0
volume = 255

[State 7377, 3]
type = PlaySnd
trigger1 = AnimElem = 26
value = S6666,0
volume = 255

[State 7377, 3]
type = PlaySnd
trigger1 = AnimElem = 36
value = S333,333
volume = 255


;[State 7377, star]
;type = Explod
;trigger1 = Time = 1
;anim = 8888
;pos = -320,0
;postype = right
;sprpriority = -2
;supermove = 1
;removetime = 331
;ignorehitpause = 0
;ownpal = 1
;bindtime = -1
;persistent = 0

[State 7377, Explod]
type = Explod
triggerall = NumExplod(10002) = 0
trigger1 = Time = 1
anim = 10002
id = 10002
shadow = -1
pos = -10,1
postype = p1
sprpriority = 0
supermove = 1
removetime = 64
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0


[State 7377, Explod]
type = Explod
triggerall = NumExplod(8888) = 0
trigger1 = AnimElem = 1
anim = 8888
id = 8888
shadow = -1
pos = -320,0
postype = right
sprpriority = -2
supermove = 1
removetime = 331
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0


[State 7377, star]
type = Explod
trigger1 = Time = 331
anim = 6666
pos = -320,0
postype = right
sprpriority = -2
supermove = 1
removetime = 169
ignorehitpause = 0
ownpal = 1
bindtime = -1
persistent = 0



[State 7377, Cosmo simulation]
type = AfterImage
triggerall= AnimElem = 1 
trigger1 = time = 0
trigger2 = PalNo = 1
time = 350
length = 25
palcolor = 0
palinvertall = 1
timegap = 1
framegap = 1
PalBright   =   0,  0,  0
PalContrast = 80,70,0
PalAdd      =   0,  0,  0
;;PalMul      =  0,0,0
trans = add

[State 7377, Cosmo simulation]
type = AfterImage
triggerall= AnimElem = 1 
trigger1 = time = 0
trigger2 = PalNo = 2
time = 350
length = 25
palcolor = 0
palinvertall = 1
timegap = 1
framegap = 1
PalBright   =   0,  0,  0
PalContrast = 80,70,0
PalAdd      =   0,  0,  0
;;PalMul      =  0,0,0
trans = add



[State 7377, onde]
type = Explod
trigger1 = Time = 400
anim = 666
pos = -118,-237
postype = p1
sprpriority = -1
supermove = 1
removetime = 100
ignorehitpause = 0
ownpal = 1
bindtime = -1
persistent = 0

[State 7377, expansiva]
type = Explod
trigger1 = Time = 0
postype = p1
anim = 11999

;[State 7377, Ondes mortelles]
;type = Explod
;trigger1 = Time = 400
;anim = 666
;pos = -118,-237
;postype = p1
;removetime = 60
;ownpal = 1

;[State 7377, Ondes mortelles]
;type = Explod
;trigger1 = Time = 331
;anim = 29180
;ID = 29180
;pos = 44,-105
;postype = p1
;sprpriority = 0
;supermove = 1
;removetime = Time = 100
;ignorehitpause = 1
;ownpal = 1
;bindtime = -1
;persistent = 0

[State 7377, Ondes mortelles]
type = Explod
triggerall = NumExplod(29180) = 0
trigger1 = Animelem = 23
anim = 29180
id = 29180
shadow = -1
pos = 44,-105
postype = p1
sprpriority = 0
supermove = 1
removetime = 86
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0


[State 291803]
type = PlaySnd
trigger1 = Animelem = 1
value = 6666,0
volume = 255

[State 7377, Ondes mortelles]
type = Explod
trigger1 = time = 0
anim = 99998
ID = 99998
pos = 12,-100
postype = p1
sprpriority = 7
supermove = 1
removetime = 250
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 7377, flash]
type = EnvColor
Trigger1 = AnimElem = 4
value = 255,255,255
under = 0
time = 15

[State 7377, flash]
type = EnvColor
Trigger1 = AnimElem = 23
value = 255,255,255
under = 0
time = 15

[State 7377, hit]
type = HitDef
trigger1 = AnimElem = 23
trigger2 = AnimElem = 24
trigger3 = AnimElem = 25
trigger4 = AnimElem = 26
trigger5 = AnimElem = 27
trigger6 = AnimElem = 28
trigger7 = AnimElem = 29
trigger8 = AnimElem = 30
trigger9 = AnimElem = 31
trigger10 = AnimElem = 32
attr = S, HA
damage = 46, 25
animtype = Light
guardflag = MA
hitflag = MAFD 
priority = 3, Hit
pausetime = 0, 8  
sparkno = 0 
sparkxy = -10, -86 
hitsound = s5,4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12 
ground.velocity = -8,-7
AutoAirGuard.velocity = -1.9,-.8
air.type = High 
air.velocity = -8,-7
air.hittime = 12
fall=1
;p2stateno = 5000


[State 7377 , unguardable]
type = AssertSpecial
trigger1 = Time = 0
flag = unguardable
flag2 = nowalk

[State 7377, nothittableanything]
type = NotHitBy
trigger1 = 1
value = SCA


;---------------------------------------------
; PAR LES VERITABLES VAGUES D'HADES!!! YAAAH!!
;---------------------------------------------

[Statedef 1333]
type = S
movetype= A
physics = S
juggle = 4
velset = 0,0
ctrl = 0
anim = 7377
poweradd = -100
sprpriority = 2

[State 1333 , 1]
type = SuperPause
trigger1 = Time = 0
time = 350
anim = S3400
darken = 0
supermove = 1
movetime = 350

;[State 1333 , Super pause]
;type = SuperPause
;trigger1 = AnimElem= 2
;time = 40
;pos = 20,-95
;anim = S88
;sound = 20, 0
;poweradd = -3000


[State 1333 , 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1333, 3]
type = PlaySnd
trigger1 = Time = 1
value = S69,1
volume = 220

[State 1333, 3]
type = PlaySnd
trigger1 = Time = 10
value = S48,48
volume = 220

[State 1333, 3]
type = PlaySnd
trigger1 = Time = 20
value = 444,444
volume = 220

[State 1333, 3]
type = PlaySnd
trigger1 = Time = 30
value = 444,444
volume = 220

[State 1333, 3]
type = PlaySnd
trigger1 = Time = 60
value = 444,444
volume = 220

[State 1333, 3]
type = PlaySnd
trigger1 = Time = 90
value = 444,444
volume = 220

[State 1333, 3]
type = PlaySnd
trigger1 = Time = 120
value = 444,444
volume = 220

[State 1333, 3]
type = PlaySnd
trigger1 = Time = 150
value = 444,444
volume = 220

[State 1333, 3]
type = PlaySnd
trigger1 = Time = 180
value = 444,444
volume = 220

[State 1333, 3]
type = PlaySnd
trigger1 = Time = 210
value = 444,444
volume = 220

[State 1333, 3]
type = PlaySnd
trigger1 = Time = 240
value = 444,444
volume = 220

[State 1333, 3]
type = PlaySnd
trigger1 = Time = 270
value = 444,444
volume = 220

[State 1333, 3]
type = PlaySnd
trigger1 = Time = 300
value = 444,444
volume = 220

[State 1333, 3]
type = PlaySnd
trigger1 = Time = 330
value = 444,444
volume = 220

[State 1333, 3]
type = PlaySnd
trigger1 = Time = 360
value = 444,444
volume = 220

[State 1333, 3]
type = PlaySnd
trigger1 = Time = 390
value = 444,444
volume = 220

[State 1333, 3]
type = PlaySnd
trigger1 = Time = 420
value = 444,444
volume = 220


[State 1333, cinématique]
type = Explod
trigger1 = Time = 1
anim = 6666
pos = -320,0
postype = right
sprpriority = -1
supermove = 1
removetime = 500
ignorehitpause = 0
ownpal = 1
bindtime = -1
persistent = 0

[State 1333, onde]
type = Explod
trigger1 = Time = 400
anim = 666
pos = -118,-237
postype = p1
sprpriority = -1
supermove = 1
removetime = 100
ignorehitpause = 0
ownpal = 1
bindtime = -1
persistent = 0

[State 1333, expansiva]
type = Explod
trigger1 = Time = 350
anim = 999

[State 1333, Ondes mortelles]
type = Explod
trigger1 = Time = 400
anim = 666
pos = -118,-237
postype = p1
removetime = 60
ownpal = 1

[State 1333, flash]
type = EnvColor
Trigger1 = AnimElem = 4
value = 255,255,255
under = 0
time = 15

[State 1333, hit]
type =HitDef
trigger1 = AnimElem = 4               
priority = 7
attr = S, NA                   
damage    = 500,200             
guardflag = -1;MA               
priority = 7                    
pausetime = 80,80                
sparkno = S3707                    
sparkxy = 55,0   
animtype  = Hard                
hitsound = S2,6                  
guardsound = 6,0                
numhits = 1  
p2stateno = 5110
fall = 1 
fallrecover = 0        
envshake.time =  10 
envshake.freq = 10   
envshake.ampl = 10  
envshake.phase = 10
fall.damage = 100

[State 1333 , unguardable]
type = AssertSpecial
trigger1 = Time = 0
flag = unguardable
flag2 = nowalk

[State 1333, nothittableanything]
type = NotHitBy
trigger1 = 1
value = SCA


;----------------------------------------------
; Les cercles de l'Esprit : un voyage en enfer
;----------------------------------------------

[Statedef 6262]
type = S
movetype= A
physics = S
juggle = 4
velset = 0,0
ctrl = 0
anim = 6262
poweradd = -3000
sprpriority = 2

[State 6262 , 1]
type = SuperPause
trigger1 = Time = 0
time = 150
anim = S3400
darken = 0
supermove = 1
movetime = 150


[State 6262 , 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 6262, 3]
type = PlaySnd
trigger1 = Time = 1
value = 444,1
volume = 250

[State 6262, 3]
type = PlaySnd
trigger1 = Time = 10
value = 444,444
volume = 220

[State 6262, Portes du Sheshiki]
type = Explod
trigger1 = Time = 1
anim = 6264
pos = -320,0
postype = right
sprpriority = -1
supermove = 1
removetime = 50
ignorehitpause = 0
ownpal = 1
bindtime = -1
persistent = 0

[State 6262, Enfer]
type = Explod
trigger1 = AnimElem = 2
anim = 6263
pos = -320,0
postype = right
sprpriority = -1
supermove = 1
removetime = 350
ignorehitpause = 0
ownpal = 1
bindtime = -1
persistent = 0


[State 6262,]
type = Explod
trigger1 = Time = 350
anim = 999


[State 6262, flash]
type = EnvColor
Trigger1 = AnimElem = 3
value = 255,255,255
under = 0
time = 15

[State 6262, hit]
type =HitDef
trigger1 = AnimElem = 3               
priority = 7
attr = S, NA                   
damage    = 400,200             
guardflag = -1;MA               
priority = 7                    
pausetime = 40,380                
sparkno = S3707                    
sparkxy = 55,0   
animtype  = Hard                
hitsound = S2,6                  
guardsound = 6,0                
numhits = 1  
fall = 1 
fallrecover = 0        
envshake.time =  10 
envshake.freq = 10   
envshake.ampl = 10  
envshake.phase = 10
fall.damage = 100

[State 6262 , unguardable]
type = AssertSpecial
trigger1 = Time = 0
flag = unguardable
flag2 = nowalk

[State 6262, nothittableanything]
type = NotHitBy
trigger1 = 1
value = SCA

;----------------------------------------------
; Les cercles de l'Esprit : un voyage en enfer II
;----------------------------------------------

[Statedef 6263]
type = S
movetype= A
physics = S
juggle = 4
velset = 0,0
ctrl = 0
anim = 6262
poweradd = -300
sprpriority = 2

[State 6263 , 1]
type = SuperPause
trigger1 = Time = 0
time = 150
anim = S3400
darken = 0
supermove = 1
movetime = 150


[State 6263 , 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 6263, 3]
type = PlaySnd
trigger1 = Time = 1
value = 444,1
volume = 250

[State 6263, 3]
type = PlaySnd
trigger1 = Time = 10
value = 444,444
volume = 220

[State 6263, Portes du Sheshiki]
type = Explod
trigger1 = Time = 1
anim = 6264
pos = -320,0
postype = right
sprpriority = -1
supermove = 1
removetime = 50
ignorehitpause = 0
ownpal = 1
bindtime = -1
persistent = 0

[State 6263, Enfer]
type = Explod
trigger1 = AnimElem = 2
anim = 6263
pos = -320,0
postype = right
sprpriority = -1
supermove = 1
removetime = 350
ignorehitpause = 0
ownpal = 1
bindtime = -1
persistent = 0


[State 6263,]
type = Explod
trigger1 = Time = 350
anim = 999


[State 6263, flash]
type = EnvColor
Trigger1 = AnimElem = 3
value = 255,255,255
under = 0
time = 15

[State 6263, hit]
type =HitDef
trigger1 = AnimElem = 3               
priority = 7
attr = S, NA                   
damage    = 400,200             
guardflag = -1;MA               
priority = 7                    
pausetime = 40,380                
sparkno = S3707                    
sparkxy = 55,0   
animtype  = Hard                
hitsound = S2,6                  
guardsound = 6,0                
numhits = 1  
fall = 1 
fallrecover = 0        
envshake.time =  10 
envshake.freq = 10   
envshake.ampl = 10  
envshake.phase = 10
fall.damage = 100

[State 6263 , unguardable]
type = AssertSpecial
trigger1 = Time = 0
flag = unguardable
flag2 = nowalk

[State 6263, nothittableanything]
type = NotHitBy
trigger1 = 1
value = SCA



-------contre------------
;parata
[Statedef 3675]
type    = S
movetype = I
physics = S
anim = 3675
ctrl = 0

[State 3675, rev]
type = ReversalDef
trigger1 = Time = 0
reversal.attr = SAC,NA,SA,HA
sparkno = -1
hitsound = S240,0
pausetime = 10,30
p1stateno = 3676

[State 3675,nohit ]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 3676]
type    = S
movetype = I
physics = S
anim = 3676
ctrl = 0
velset = -24,0
poweradd = 700

[State 3676,vel ]
type = VelSet
trigger1 = time < 10
x = -10
;y = 
;ignorehitpause = 0
;persistent = 1

[State 3676,nohit ]
type = NotHitBy
trigger1 = time = 0
value = SCA,NA,SA,HA
time = 20
;ignorehitpause = 0
;persistent = 1

[State 1100 , ex]
type = Explod
trigger1 = time = 0
anim = 99667
ignorehitpause = 1
sprpriority = -2
postype = p1
pos = -5,-85
sound = S0,2
bindtime = -1
supermove = 1
removeongethit = 1
ownpal = 1


[State 3676,end ]
type = ChangeState
trigger1 = vel X >= 0
value = 0
ctrl = 1


;------------------------------------------------------------
;Ondes mineures
[Statedef 205]
type = S
movetype = A
physics = S
anim = 205
juggle = 10
ctrl = 0
poweradd = -500

;[State 205 , 2]
;type = NotHitBy
;trigger1 = Time = 1
;value = SCA
;time = 160

[State 205, light]
type = Explod
trigger1 = AnimElem = 4
anim = 11000
ID = 11000
pos = 0,0
postype = p1
sprpriority = 3
supermove = 1
removetime = 46
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 30,0
damage = 120
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1

[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 40,0
damage = 110
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1

[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 50,0
damage = 100
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1

[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 60,0
damage = 90
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1

[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 70,0
damage = 80
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1

[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 80,0
damage = 70
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1

[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 90,0
damage = 60
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1

[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 100,0
damage = 50
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 10,120,255
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1


:--
[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 30,-30
damage = 120
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1

[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 40,-30
damage = 110
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1

[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 50,-30
damage = 100
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1

[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 60,-30
damage = 90
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1

[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 70,-30
damage = 80
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1

[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 80,-30
damage = 70
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1

[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 90,-30
damage = 60
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1

[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 100,-30
damage = 50
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1

:--
[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 30,-60
damage = 120
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1

[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 40,-60
damage = 110
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1

[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 50,-60
damage = 100
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1

[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 60,-60
damage = 90
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1

[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 70,-60
damage = 80
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1

[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 80,-60
damage = 70
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1

[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 90,-60
damage = 60
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1

[State 2210, 1]
type = Projectile
trigger1 = time = 8
attr = S, SP
ignorehitpause = 1
projanim = 11001
;projhitanim = 3630
offset = 0,0
velocity = 100,-60
damage = 50
givepower = 80
animtype = Hard
guardflag = A
pausetime = 0,40
sparkno = -1
guard.sparkno = -1
hitsound   = S240,0
guardsound = S1000,2
ground.type = High
ground.slidetime = 80
ground.hittime  = 180
ground.velocity = -92
air.velocity = -2.5,-5
palfx.time = 65
palfx.add = 187,107,140
palfx.mul = 100,10,20
palfx.sinadd = 40,0,256,6
fall = 1


[State 205 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 205 , 5]
type = PlaySnd
trigger1 = AnimElem = 3
value = 444,444

[State 205 , 6]
type = PlaySnd
trigger1 = AnimElem = 3
value = 200,2


;--------------------------------------------------------------
;------------------------------------------------------------
;Surprise d'Aqualudo
[Statedef 1800]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3000
ctrl = 0
sprpriority = 2

[State 1800, Width]
type = Width
trigger1 = AnimElem = 2, >= 0
value = 15,0

[State 1800, Super A]
type = SuperPause
trigger1 = AnimElem = 2, 1
pos = -16,-68
anim = S88
sound = 20, 0
poweradd = -100

[State 1800, Super B]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2

[State 1800, Super C]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 60
time = 2

[State 1800, Super D]
type = NotHitBy
trigger1 = AnimElem = 2
value = , NA, SA, AT
time = 12

[State 1800, Super E]
type = NotHitBy
trigger1 = AnimElemTime(2) >= 0 && Time < 30
value2 = C, NA
time = 1

[State 1800,Super F]
type = PlaySnd
trigger1 = AnimElem = 2,1
value = 0,11

[State 1800, 1]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 11
trigger4 = Animelem = 17
trigger5 = AnimElem = 24
trigger6 = Animelem = 34
value = S0,0

[State 1800, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 20

[State 1800, 3]
type = PosAdd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
trigger3 = AnimElem = 16
trigger4 = AnimElem = 24
trigger5 = AnimElem = 26
trigger6 = AnimElem = 28
trigger7 = AnimElem = 32
trigger8 = AnimElem = 34
x = 10

[State 1800, 4]
type = VelSet
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 11
trigger4 = AnimElem = 17
trigger5 = AnimElem = 24
trigger6 = AnimElem = 34
x = 6

[State 1800, 4]
type = PosAdd
trigger1 = AnimElem = 2
x = 5

[State 1800, 5]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
animtype  = Hard
damage    = 42,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = S99,99
guardsound = S69,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 1800, 6]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
animtype  = Hard
damage    = 42,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = S99,99
guardsound = S69,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 1800, 7]
type = HitDef
trigger1 = AnimElem = 11
attr = S, HA
animtype  = Hard
damage    = 45,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 20,20
sparkno = 0
sparkxy = -10,-60
hitsound   = S88,88
guardsound = S69,0
ground.type = Low
ground.slidetime = 40
ground.hittime  = 40
ground.velocity = -6
guard.velocity = -12
air.velocity = -5,-4
airguard.velocity = -3,-3
fall.animtype = Hard
fall = 0
fall.recover = 0

[State 1800, 8]
type = HitDef
trigger1 = AnimElem = 17
attr = S, HA
animtype  = Hard
damage    = 42,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = S99,99
guardsound = S69,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 1800, 9]
type = HitDef
trigger1 = AnimElem = 24
attr = S, HA
animtype  = Hard
damage    = 42,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = S99,99
guardsound = S69,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 1800, 10]
type = HitDef
trigger1 = AnimElem = 34
attr = S, HA
animtype  = diagup
damage    = 102, 5
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = S99,99
guardsound = S69,0
ground.type = high
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -50, -5
air.velocity = -50,-10
air.fall = 1
fall.animtype = Hard
fall.recover = 0
fall = 1


[State 1800, Width2]
type = Width
trigger1 = AnimElem = 31, >= 0
value = 35,0

[State 1800, 11]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1800, afterimage]
type = AfterImage
trigger1 = Time = 0
time = 60
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 107,107,222 ;blue 
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 1800, star]
type = Explod
trigger1 = Time = 1
anim = 1112
pos = -320,0
postype = right
sprpriority = -2
supermove = 1
removetime = 100
ignorehitpause = 0
ownpal = 1
bindtime = -1
persistent = 0




;--------------------------------------------------------------

;Recharge du cosmos
[Statedef 2222]
type = S
movetype = A
physics = S
anim = 2222
poweradd = 500
juggle = 5
velset = 0
ctrl = 0

[State 2222, petit tourbillon]
type = Explod
trigger1 = Time = 1
anim = 999

[State 2222 , 1]
type = PlaySnd
trigger1 = time = 0
value = 989,989

[State 2222, 2]
type = NotHitBy
trigger1 = Time = 1
type = NotHitBy
value = SCA

[State 2222 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------
;new state
;-----------------------------------------------

;Cometa lucente(suiseiken)in volo
[Statedef 1100]
type = A
movetype = A
physics = N
anim = 1100
poweradd = -500
juggle = 5
velset = 0,0
ctrl = 0

[State 1100, star]
type = Explod
trigger1 = Time = 4
anim = 3724
pos = -320,0
postype = right
sprpriority = -3
supermove = 1
removetime = 100
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 1100 , 1]
type = PlaySnd
trigger1 = AnimElem = 1, = 1
value = 1100,0

[State 1100 , 2]
type = VelSet
trigger1 = AnimElem = 7
x = 8
y = 8

[State 1100 , 3]
type = VelAdd
trigger1 = Time > 21
y = .5

[State 1100, 2]
type = SuperPause
trigger1 = Time = 0
time = 10
darken = 0
anim = S3500
pos = -30,0
movetime = 0

[State 1100, AfterImage2]
type=AfterImage
triggerall= AnimElem = 1 
trigger1 = PalNo = 2
time=30
Timegap = 1
FrameGap = 1
length = 15
Palcolor = 0
PalBright   =   0,  0,  0
PalContrast = 80,70,0
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Palinvertall = 1
Trans = Add

[State 1100, afterimage]
type = AfterImage
triggerall= AnimElem = 1 
trigger1 = PalNo = 1
time = 30
length = 15
FrameGap = 1
PalBright   =   0,  0,  0
PalContrast = 187,107,140 
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add

[State 1100, 0]
type = Explod
trigger1 = AnimElem = 7
anim = 3630
pos = 40,60
postype = p1
sprpriority = 2
supermove = 1
removetime = 20
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

;Bg effect
[State 1100, super]
type = BGPalfx
trigger1 = Time = 0
ignorehitpause = 1
time = 200
mul = 150,150,222
sinadd = 34,56,67,240
add = 5,5,5

[State 1100, 0]
type = Explod
trigger1 = AnimElem = 8
anim = 3719
pos = 0,0
postype = p1
sprpriority = -2
supermove = 1
removetime = 20
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 1100, 0]
type = Explod
trigger1 = AnimElem = 6
anim = 3722
pos = -55,0
postype = p1
sprpriority = -2
supermove = 1
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 1100, 0]
type = Explod
trigger1 = AnimElem = 8
anim = 3722
pos = -50,0
postype = p1
sprpriority = 4
supermove = 1
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 1100 , 5]
type = PlaySnd
trigger1 = Time = 22
value = 1100,2

[State 1100 , 6]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 9
priority = 7
attr = A, SA
damage = 40,40
getpower = 100
givepower = 50
priority = 7 
animtype = hard
guardflag = MA
sparkxy = -10,-45
sparkno = -1
hitsound = S99,99
guardsound = S69,0
pausetime = 2,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -3,-3
air.velocity = -3,-3
fall = 1

[State 1100 , 7]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1120

;----------------------------------------
;atterraggio da suiseiken
[Statedef 1120]
type = C
movetype = A
physics = N
anim = 1120
velset = 4,0



[State 1120 , 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1120 , 2]
type = PlaySnd
trigger1 = Time = 0
value = 52,0

[State 1120 , 3]
type = VelAdd
trigger1 = Vel X > 0
x = -.3

[State 1120 , 4]
type = VelSet
trigger1 = Vel X < 0
x = 0

[State 1120, AfterImage2]
type=AfterImage
triggerall= AnimElem = 1 
trigger1 = PalNo = 2
time=15
Timegap = 1
FrameGap = 1
length = 15
Palcolor = 0
PalBright   =   0,  0,  0
PalContrast = 80,70,0
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Palinvertall = 1
Trans = Add

[State 1120, afterimage]
type = AfterImage
triggerall= AnimElem = 1 
trigger1 = PalNo = 1
time = 15
length = 15
FrameGap = 1
PalBright   =   0,  0,  0
PalContrast = 187,107,140 
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add

[State 1120 , 5]
type = HitDef
trigger1 = AnimElem = 5 
priority = 5
attr = C, SA
damage = 60,5
animtype = Hard
guardflag = MA
sparkxy = -10,-86
sparkno = -1
hitsound = S88,88
guardsound = S69,0
pausetime = 12,10
ground.hittime = 19
ground.type = hight
ground.slidetime = 19
ground.velocity = -50,-10
air.velocity = -4,-3
fall = 1

[State 1120 , 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;1° fulmine di Pegasus
[Statedef 11330]
type = S
movetype = A
physics = S
anim = 8020
poweradd = -2000
juggle = 5
velset = 7
ctrl = 0

[State 11330, polvere]
type = MakeDust
trigger1 = time = 0
pos = -15,3
pos2 = -22,-3
spacing = 2


[State 11330, kosumo]
type = Explod
trigger1 = AnimElem = 3
anim = 6667
pos = -320,0
postype = right
sprpriority = -7
supermove = 1
removetime = 370
ignorehitpause = 1
bindtime = -1
persistent = 0

[State 11330, kosumo]
type = Explod
trigger1 = AnimElem = 1
anim = 6668
pos = -320,0
postype = right
sprpriority = -2
supermove = 1
removetime = 260
ignorehitpause = 1
bindtime = -1
persistent = 0

[State 1330, nothittable]
type = NotHitBy
trigger1 = 1
type = NotHitBy
value = , NA, AP

;flash
;[State 11330 , 0]
;type = Explod
;trigger1 = AnimElem = 3
;anim = 2
;postype = p1
;pos = 20,30
;bindtime = 1
;supermove = 1
;ownpal = 1

[State 11330, toggleng]
type = LifeAdd   
trigger1 = AnimElem = 5
value = -10

[State 11330 , sound]
type = PlaySnd
trigger1 = Time = 0
trigger1 = AnimElem = 1
value = 1200,2

;Bg effect
[State 1330, super]
type = BGPalfx
trigger1 = time >= 0
ignorehitpause = 1
time = 1
mul = 107,107,222
add = -5,-5,-5
invertall = 1

[State 11330, showgalaxian]
type = Explod
trigger1 = AnimElem = 4
anim = 3480
ID = 3480
pos = -320,0
postype = right
sprpriority = -2
supermove = 1
removetime = 120
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0

[State 11330 , 1]
type = PlaySnd
trigger1 = Time = 0
value = 2100,0


[State 11330 , 2]
type = VelSet
trigger1 = AnimElem = 3
x = 7

[State 11330 , 6]
type = HitDef
trigger1 = AnimElem = 3
priority = 4
attr = S, SA
damage = 80,40
getpower = 20
givepower = 10
animtype = hard
guardflag = MA
sparkxy = -10,-60
;sparkno = s6666
hitsound = S88,88
guardsound = S69,0
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -2, 0
air.velocity = 0,-25


[State 11330, Cosmo simulation]
type = AfterImage
triggerall= AnimElem = 1 
;trigger2 = time = 0
trigger1 = PalNo = 1
time = 200
length = 25
palcolor = 0
palinvertall = 1
timegap = 1
framegap = 2
PalBright   =   0,  0,  0
PalContrast = 187,107,140 
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
trans = add

[State 11330, Cosmo simulation2;]
type = AfterImage
triggerall= AnimElem = 1 
trigger2 = time = 0
trigger1 = PalNo = 2
time = 200
length = 25
palcolor = 0
palinvertall = 1
timegap = 1
framegap = 2
PalBright   =   0,  0,  0
PalContrast = 80,70,0
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
trans = add



[State 11330 , ult]
type = ChangeState
trigger1 = AnimTime = 0
value = 1340
ctrl = 0


[Statedef 1340]
type = S
movetype = A
physics = S
anim = 8021
poweradd = 0
juggle = 0
velset = 0
ctrl = 0

[State 1340, P]
type = PosAdd
trigger1 = AnimElem = 1
x = 200

[State 1340 , 4]
type = VelSet
trigger1 = AnimElem = 1
x = 0

[State 1340 , 4]
type = VelSet
trigger1 = AnimElem = 5
x = -7


[State 1340 , 6]
type = HitDef
trigger1 = AnimElem = 5
priority = 4
attr = S, SA
damage = 80,40
getpower = 20
givepower = 10
animtype = hard
guardflag = MA
sparkxy = 0,-60
;sparkno = s6666
hitsound = S99,99
guardsound = S69,0
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -2, 0
air.velocity = 0,-25


[State 1340 , ult]
type = ChangeState
trigger1 = AnimTime = 0
value = 1350
ctrl = 0

[Statedef 1350]
type = S
movetype = A
physics = S
anim = 8022
poweradd = 0
juggle = 0
velset = 0
ctrl = 0

[State 1350, P]
type = PosAdd
trigger1 = AnimElem = 1
x = -150
Y = -120

[State 1350 , 3]
type = VelSet
trigger1 = AnimElem = 1
x = 0
y = 0


[State 1350 , 4]
type = VelSet
trigger1 = AnimElem = 3
x = 10
y = 7

[State 1350 , 6]
type = HitDef
trigger1 = AnimElem = 3
priority = 4
attr = S, SA
damage = 80,40
getpower = 20
givepower = 10
animtype = hard
guardflag = MA
sparkxy =   -10,-60
;sparkno = s6666
hitsound = S88,88
guardsound = S69,0
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -2, 0
air.velocity = 0,-25



[State 1350 , ult]
type = ChangeState
trigger1 = AnimTime = 0
value = 1360
ctrl = 0

[Statedef 1360]
type = S
movetype = A
physics = S
anim = 8023
poweradd = 0
juggle = 0
velset = 0
ctrl = 0

[State 1360, P]
type = PosAdd
trigger1 = AnimElem = 1
x = 150
Y = -120

[State 1360 , 3]
type = VelSet
trigger1 = AnimElem = 1
x = 0
y = 0

[State 1360 , 4]
type = VelSet
trigger1 = AnimElem = 3
x = -10
y = 7

[State 1360 , 6]
type = HitDef
trigger1 = AnimElem = 3
priority = 4
attr = S, SA
damage = 80,40
getpower = 20
givepower = 10
animtype = hard
guardflag = MA
sparkxy = 15,-60
;sparkno = s6666
hitsound = S99,99
guardsound = S69,0
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -2, 0
air.velocity = 0,-25



[State 1360 , ult]
type = ChangeState
trigger1 = AnimTime = 0
value = 1370
ctrl = 0

[Statedef 1370]
type = S
movetype = A
physics = S
anim = 8024
poweradd = 0
juggle = 0
velset = 0
ctrl = 0

[State 1370, P]
type = PosAdd
trigger1 = AnimElem = 1
x = -270
y = 46

[State 1370 , 3]
type = VelSet
trigger1 = AnimElem = 1
x = 0
y = 0


[State 1370 , 4]
type = VelSet
trigger1 = AnimElem = 3
x = 7
y = 0

[State 1370 , 6]
type = HitDef
trigger1 = AnimElem = 3
priority = 4
attr = S, SA
damage = 80,40
getpower = 20
givepower = 10
animtype = hard
guardflag = MA
sparkxy = -10,-60
;sparkno = s6666
hitsound = S88,88
guardsound = S69,0
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -2, 0
air.velocity = 0,-25



[State 1370 , ult]
type = ChangeState
trigger1 = AnimTime = 0
value = 1380
ctrl = 0


[Statedef 1380]
type = S
movetype = A
physics = S
anim = 8025
poweradd = 0
juggle = 0
velset = 0
ctrl = 0

[State 1380, P]
type = PosAdd
trigger1 = AnimElem = 1
x = 200
y = 0

[State 1380 , 3]
type = VelSet
trigger1 = AnimElem = 1
x = 0
y = 0

[State 1380 , 4]
type = VelSet
trigger1 = AnimElem = 3
x = -7
y = 0

[State 1380 , 6]
type = HitDef
trigger1 = AnimElem = 3
priority = 4
attr = S, SA
damage = 80,40
getpower = 20
givepower = 10
animtype = hard
guardflag = MA
;sparkno = s6666
sparkxy = 0,-60
hitsound = S99,99
guardsound = S69,0
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -2, 0
air.velocity = 0,-25



[State 1380 , ult]
type = ChangeState
trigger1 = AnimTime = 0
value = 1390
ctrl = 0


[Statedef 1390]
type = S
movetype = A
physics = S
anim = 8026
poweradd = 0
juggle = 0
velset = 0
ctrl = 0


[State 1390, one]
type = Projectile
trigger1 = AnimElem = 1
attr = S, HP
projanim = 8027         
projhits = 2  
projhitanim = 3630
postype = p2
offset = -180, -140    
velocity = 10, 7
damage = 50,25
animtype = Hard
guardflag = -1
pausetime = 0,12
;sparkno = -1
;sparkno = S6666
sparkxy = -10,-100
guard.sparkno = -1
hitsound   = S99,99
guardsound = S69,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = 0, -25
air.velocity = 2, -8
envshake.time =  5 
envshake.freq = 5     
envshake.ampl = 5  
envshake.phase = 5
palfx.time = 150
;palfx.mul = 80,70,0
palfx.sinadd = 0,  0,  0
palfx.add = 180,0,0
numhits = 2
fall = 1

[State 1390, two]
type = Projectile
trigger1 = AnimElem = 1
attr = S, HP
projanim = 8027         
projhits = 2  
postype = p2 
offset = 170, -140    
velocity = -10, 7
damage = 50,25
animtype = Hard
guardflag = -1
pausetime = 0,12
sparkxy = -10,-90
;sparkno = -1
;sparkno = S6666
guard.sparkno = -1
hitsound   = 99,99
guardsound = S69,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = 0, -25
air.velocity = 2, -8
envshake.time =  5 
envshake.freq = 5     
envshake.ampl = 5  
envshake.phase = 5
palfx.time = 150
;palfx.mul = 80,70,0
palfx.sinadd = 0,  0,  0
palfx.add = 180,0,0
numhits = 2
fall = 1

[State 1390, three]
type = Projectile
trigger1 = AnimElem = 1
attr = S, HP
projanim = 8029         
projhits = 2   
postype = p2
offset = -200, 0   
velocity = 7
damage = 50,25
animtype = Hard
guardflag = -1
pausetime = 0,12
sparkxy = -10,-80
;sparkno = -1
;sparkno = S6666
guard.sparkno = -1
hitsound   = S99,99
guardsound = S69,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = 0, -25
air.velocity = 2, -8
envshake.time =  5 
envshake.freq = 5     
envshake.ampl = 5  
envshake.phase = 5
palfx.time = 150
;palfx.mul = 80,70,0 
palfx.sinadd = 0,  0,  0
palfx.add = 180,0,0
numhits = 2
fall = 1

[State 1390, four]
type = Projectile
trigger1 = AnimElem = 1
attr = S, HP
projanim = 8029         
projhits = 2
postype = p2   
offset = 140, 0   
velocity = -7
damage = 50,25
animtype = Hard
guardflag = -1
pausetime = 0,12
sparkxy = -10,-70
;sparkno = -1
;sparkno = S6666
guard.sparkno = -1
hitsound   = S99,99
guardsound = S69,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = 0, -25
air.velocity = 2, -8
envshake.time =  5 
envshake.freq = 5     
envshake.ampl = 5  
envshake.phase = 5
palfx.time = 150
;palfx.mul = 80,70,0
palfx.sinadd = 0,  0,  0
palfx.add = 180,0,0
numhits = 2
fall = 1


[State 1390, five]
type = Projectile
trigger1 = AnimElem = 3
attr = S, HP
projanim = 8029         
projhits = 2
postype = p2   
offset = 140, 0   
velocity = -7
damage = 50,25
animtype = Hard
guardflag = -1
pausetime = 0,12
sparkxy = -10,-70
;sparkno = -1
;sparkno = S6666
guard.sparkno = -1
hitsound   = S88,88
guardsound = S69,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = 0, -25
air.velocity = 2, -8
envshake.time =  5 
envshake.freq = 5     
envshake.ampl = 5  
envshake.phase = 5
palfx.time = 150
;palfx.mul = 80,70,0
palfx.sinadd = 0,  0,  0
palfx.add = 180,0,0
numhits = 2
fall = 1

[State 1390, six]
type = Projectile
trigger1 = AnimElem = 3
attr = S, HP
projanim = 8029         
projhits = 2
postype = p2   
offset = 140, 0   
velocity = -7
damage = 50,25
animtype = Hard
guardflag = -1
pausetime = 0,12
sparkxy = -10,-70
;sparkno = -1
;sparkno = S6666
guard.sparkno = -1
hitsound   = S88,88
guardsound = S69,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = 0, -25
air.velocity = 2, -8
envshake.time =  5 
envshake.freq = 5     
envshake.ampl = 5  
envshake.phase = 5
palfx.time = 150
;palfx.mul = 80,70,0
palfx.sinadd = 0,  0,  0
palfx.add = 180,0,0
numhits = 2
fall = 1

[State 1390 , ult]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




;------------end of ryuseiken light effect

;-----------
;---------------------------------------------------------------------------
;DR - Charge
[Statedef 83000]
type 			= S
movetype		= I
physics		= S
anim			= 83000
velset		= 0,0
ctrl			= 0
poweradd		= -4000
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 83000, kosumo]
type = Explod
trigger1 = AnimElem = 1
anim = 6669
pos = -320,0
postype = right
sprpriority = -2
supermove = 1
removetime = 350
ignorehitpause = 1
bindtime = -1
persistent = 0

[State 83000, Cosmo simulation]
type = AfterImage
triggerall = power < 5000
trigger1 = AnimElem = 1
trigger2 = PalNo = 1
time = 350
length = 25
palcolor = 0
palinvertall = 1
timegap = 1
framegap = 1
PalBright   =   0,  0,  0
PalContrast = 187,107,140 
PalAdd      =   0,  0,  0
trans = add

[State 83000, Cosmo simulation]
type = AfterImage
triggerall = power < 5000
trigger1 = AnimElem = 1
trigger2 = PalNo = 2
time = 350
length = 25
palcolor = 0
palinvertall = 1
timegap = 1
framegap = 1
PalBright   =   0,  0,  0
PalContrast = 80,70,0
PalAdd      =   0,  0,  0
trans = add

[State 83000: 	ForceFeedBack]
type 			= ForceFeedback
trigger1		= (Time = 0) || (((GameTime%15) = 0) && (Random <= 499))
waveform 		= Square
time 			= 3

[State 83000:	VarAdd]
type			= VarAdd
trigger1		= (Floor(Time > (200/Var(53)))) && ((GameTime%3) = 0)
v			= 40
value			= Ceil(1 + (IfElse(Random <= 399,1,0)))

[State 83000:	SuperPause]
type			= SuperPause
trigger1		= (Time = 0) && (Var(31) = 0)
time			= 50
sound			= S6666,6666
pos			= 14,-86
movetime		= 50

[State 83000:	SuperPause]
type			= SuperPause
trigger1		= (Time = 0) && (Var(31) = 1)
time			= 50
sound			= S6,0
pos			= 14,-86
movetime		= 50

[State 83000:	SuperPause]
type			= SuperPause
trigger1		= (Time = 0) && (Var(31) = 2)
time			= 50
sound			= S7,0
pos			= 14,-86
movetime		= 50

[State 83000:	Helper]
type			= Helper
trigger1		= Floor(Time = (150/Var(53)))
helpertype		= Normal
name			= "MakankosappoChargeEffect"
id			= 83000
pos			= -14,-65
postype		= p1
facing		= 1
stateno		= 29760
keyctrl		= 0
ownpal		= 1
supermovetime	= 100
pausemovetime	= 100

[State 83000:	Helper]
type			= Helper
triggerall		= NumHelper(002) < 3
trigger1		= (Time = 0) || (((GameTime%15) = 0) && (Random <= 499))
helpertype		= Normal
name			= "SonicBoom"
id			= 83000
pos			= -14,-65
postype		= p1
facing		= -1
stateno		= 29750
keyctrl		= 0
ownpal		= 1
supermovetime	= 100
pausemovetime	= 100

[State 83000:	Helper]
type			= Helper
trigger1		= Floor(Time = (200/Var(53)))
helpertype		= Normal
name			= "FlameEffect"
id			= 83000
pos			= 0,0
postype		= p1
facing		= 1
stateno		= 29730
keyctrl		= 0
ownpal		= 1
supermovetime	= 100
pausemovetime	= 100

[State 83000:	Helper]
type			= Helper
trigger1		= (Time > 200) && ((GameTime%40) = 0)
helpertype		= Normal
name			= "WindEffect"
id			= 83000
pos			= 0,0
postype		= p1
facing		= 1
stateno		= 29840
keyctrl		= 0
ownpal		= 1
supermovetime	= 100
pausemovetime	= 100

[State 83000:	Helper]
type			= Helper
trigger1		= (Time > 200) && ((GameTime%40) = 0)
helpertype		= Normal
name			= "WindEffect"
id			= 83000
pos			= 0,0
postype		= p1
facing		= -1
stateno		= 29840
keyctrl		= 0
ownpal		= 1
supermovetime	= 100
pausemovetime	= 100

[State 83000:	BGPalFX]
type			= BGPalFX
trigger1		= (Floor(Time > (200/Var(53)))) && ((GameTime%30) = 0)
time			= 15
add			= 125,125,200
mul			= 255,255,255
invertall		= 1

[State 83000: 	PalFX]
type 			= PalFX
trigger1 		= (Floor(Time > (200/Var(53)))) && ((GameTime%3) = 0) && (Var(53) > 4) 
time 			= 1
add 			= 0,15,75
mul			= 255,255,255
invertall 		= 1
color 		= 0

[State 83000:	EnvShake]
type			= EnvShake
trigger1		= (Floor(Time > (200/Var(53)))) && ((GameTime%3) = 0)
time			= 10
freq			= 100
ampl			= -6
phase			= 90

[State 83000:	PlaySnd]
type			= PlaySnd
trigger1		= Floor(Time = (200/Var(53)))
value			= S0,5

[State 83000:	PlaySnd]
type			= PlaySnd
trigger1		= Floor(Time = (200/Var(53)))
value			= S0,24
loop			= 1
channel		= 0

;Piccolo's "Makankosappo!" voice.
[State 83000:	PlaySnd]
type			= PlaySnd
trigger1		= Floor(Time = (200/Var(53)+50))
value			= S1,1

[State 83000:	ChangeState]
type			= ChangeState
trigger1		= Floor(Time = (200/Var(53)+100))
value			= 73001

;---------------------------------------------------------------------------
;DR - Release
[Statedef 73001]
type 			= S
movetype		= A
physics		= S
anim			= 73001
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 73001:	ScreenBound]
type			= ScreenBound
trigger1		= WinKO
movecamera		= 0,0
value			= 0
ignorehitpause	= 1

[State 73001:	VelSet]
type			= VelSet
trigger1		= (Time = 0) && (Pos Y >= 0)
x			= -8
y			= 0

[State 73001:	Helper]
type			= Helper
trigger1		= AnimElem = 1, = 7
helpertype		= Normal
name			= "MakankosappoShootEffect"
id			= 73001
pos			= 52,-61
postype		= p1
facing		= 1
stateno		= 29780
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 73001:	Helper]
type			= Helper
trigger1		= AnimElem = 1, = 7
helpertype		= Normal
name			= "MakankosappoHeadEffect"
id			= 73001
pos			= 52,-61
postype		= p1
facing		= 1
stateno		= 29770
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 73001:	Helper]
type			= Helper
trigger1		= Time > 125
helpertype		= Normal
name			= "MakankosappoScrewEffect"
id			= 73001
pos			= 52,-61
postype		= p1
facing		= 1
stateno		= 29771
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

;Makankosappo - Projectile Score
[State 73001:	VarAdd]
type			= VarAdd
trigger1 		= ProjContactTime(73001) = 0
v			= 40
value			= (3+Var(54))
ignorehitpause	= 1

[State 73001:	EnvShake]
type			= EnvShake
trigger1		= ((GameTime%5) = 0) && (Random <= 499)
time			= 15
freq			= 100
ampl			= -5
phase			= 90
ignorehitpause	= 1

[State 73001: 	BGPalFX]
type 			= BGPalFX
trigger1 		= WinKO
time 			= 75
mul 			= 128,0,0
invertall 		= 1
persistent 		= 0
ignorehitpause 	= 1

[State 73001:	StopSnd]
type			= StopSnd
trigger1		= Time = 0
channel		= 0

[State 73001:	PlaySnd]
type			= PlaySnd
trigger1		= AnimElem = 1, = 7
value			= S0,19

[State 73001:	Projectile]
type			= Projectile
trigger1		= AnimElem = 1, = 7
projid		= 73001
projanim		= 7907
projhitanim		= 29750
projremanim		= -1
projcancelanim	= 29750
projscale		= (IfElse(Var(53) > 4,2,1)),1
projremove		= 1
projremovetime	= 50
velocity		= (IfElse(Var(53) > 4,16,8.7)),0
remvelocity		= 0,0
accel			= 0,0
velmul		= 1,1
projhits		= 1
projmisstime	= 0
projpriority	= 1
projsprpriority	= 3
projedgebound	= 20
projstagebound	= 20
projheightbound	= -1000,1
offset		= 52,-61
postype		= p1
projshadow		= 0,0,0
supermovetime	= 0
pausemovetime	= 0
;------------------
attr			= S, HP
hitflag		= MADFP
animtype		= Heavy
priority		= 1, Hit
damage		= Ceil(20+(Var(54)&&Var(17))/2),(6+(Var(54)&&Var(17))/4)
pausetime		= Ceil(8+Var(57)),(12+Var(57))
sparkno		= S851
guard.sparkno	= S851
sparkxy		= 40,61
hitsound		= S1,0
guardsound		= S20,0
ground.type		= Low
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
ground.velocity	= -2
guard.velocity	= -2
air.velocity	= -2,3
airguard.velocity	= -2,3
ground.cornerpush.veloff = 0
guard.kill		= 0
getpower		= 0
givepower		= Ceil(15+Var(55)/2)
palfx.time		= 10
palfx.mul		= 256,256,256
palfx.add		= 32,16,10
palfx.sinadd 	= 64,32,20,3
envshake.time 	= 15
envshake.freq 	= 120
envshake.ampl 	= -6
ignorehitpause	= 1

[State 73001, 5]
type = projectile
trigger1		= Time > 7
;trigger1 = time = 24
projid		= 73001
projanim		= 7906
projhitanim		= -1
projremanim		= -1
projcancelanim	= -1
projscale		= (IfElse(Var(53) > 4,2,1)),1
projremove		= IfElse(P2Life > 10,1,0)
projremovetime	= 40
velocity		= (IfElse(Var(53) > 4,16,8.7)),0
remvelocity		= 0,0
accel			= 0,0
velmul		= 1,1
projhits		= 1
projmisstime	= 0
projpriority	= 1
projsprpriority	= 3
projedgebound	= 500
projstagebound	= 500
projheightbound	= -1000,1
offset		= 52,-61
postype		= p1
projshadow		= 0,0,0
supermovetime	= 0
pausemovetime	= 0
;------------------
;projremovetime = 358
;offset = 25, -49
;projhits = 45
;projmisstime = 2
;projpriority = 9999
;attr = S, HP
;guardflag = 1000
;animtype = Medium
;damage = 20,15
;pausetime = 3,10
;sparkno = -1
;hitsound = S1900,1
;ground.type = Low
;ground.hittime = 12
;ground.velocity = -6,0
;air.velocity = -5, -1
;------------------
attr			= S, HP
hitflag		= MADFP
animtype		= Heavy
priority		= 1, Hit
damage		= Ceil(9+(Var(54)&&Var(17))/2),(2+(Var(54)&&Var(17))/4)
pausetime		= Ceil(8+Var(57)),(12+Var(57))
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 5,-8
hitsound		= S1,0
guardsound		= S20,0
ground.type		= Low
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
ground.velocity	= -2
guard.velocity	= -2
air.velocity	= -2,3
airguard.velocity	= -2,3
ground.cornerpush.veloff = 0
guard.kill		= 0
getpower		= 0
givepower		= Ceil(15+Var(55)/2)
palfx.time		= 10
palfx.mul		= 256,256,256
palfx.add		= 32,16,10
palfx.sinadd 	= 64,32,20,3
envshake.time 	= 15
envshake.freq 	= 100
envshake.ampl 	= -4
ignorehitpause	= 1
kill = 0
envshake.time = 10
envshake.freq = 10
envshake.ampl = -10
envshake.phase = 10
p2stateno = 8096
p2getp1state = 8096


[State 73001, 6]
type = playsnd
trigger1 = time = [24, 381]
value = 1900, 1

[State 73001, 3]
type = envshake
trigger1 = time = 25
time = 356
freq = 78
ampl = -10
phase = 10

[State 73001, 4]
type = envcolor
trigger1 = time = 375
time = 25
value = 255,255,255
under = 1

[State 73001, 5]
type = explod
trigger1 = time = 375
anim = 8100
id = 8100
postype = p2
pos = -8, -80
removetime = -2
sprpriority = 5

[State 73001, 5]
type = explod
trigger1 = time = 382
anim = 8100
id = 8100
postype = p2
pos = -8, -50
removetime = -2
sprpriority = 5
vfacing = -1

[State 73001, 6]
type = playsnd
trigger1 = time = 382
value = 8097, 0

[State 73001, 6]
type = playsnd
trigger1 = time = 382
value = 8097, 1



[State 73001, 6]
type = changestate
trigger1 = time = 382
value = 7065
;ctrl = 0
ctrl = 1



;Die
[Statedef 8096]
type = S
physics = S
ctrl = 0
velset = 0,0,0

[State 8096, 1]
type = changeanim2
trigger1 = time = 0
value = 8096

[State 8096, 1]
type = null; changeanim2
trigger1 = alive = 0
trigger1 = time = 0
value = 8097

[State 8096, 2]
type = lifeadd
trigger1 = time = [0, 349]
value = -5
kill = 0

[State 8096, 3]
type = lifeset
trigger1 = time = 350
value = 0

[State 8096, 1]
type = changeanim2
trigger1 = alive = 0
value = 8098


;---------------------------------------------------------------------------
;Constant Effects Helper
[Statedef 29700]
type 			= S
movetype		= I
physics		= N
anim			= -1
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= -5

[State 29700:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 29700:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 29700:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Invisible
flag2			= NoShadow

;[State 19700:	AssertSpecial]
;type			= AssertSpecial
;triggerall		= Parent, Var(14) = 1
;trigger1		= (P2Name = "Kung Fu Man") || (P2Name = "[Necromancer's] Freeman")
;trigger2		= (P2Name = "Piccolo") || (P2Name = "[Necromancer's] Piccolo") || (P2Name = "[Necromancer's] Nail")
;trigger3		= (P2Name = "Goku") || (P2Name = "Willoughby Jackson's Son-Goku") || (P2Name = "Goku Super Sayajin 2 by ribeiro")
;trigger4		= (P2Name = "SON GOKU") || (P2Name = "Goku-n-hd by EmuBoarding")
;trigger5		= (P2Name = "[Necromancer's] The Necromancer") || (P2Name = "[Necromancer's] Intangir")
;trigger6		= (P2Name = "Broli") || (P2Name = "Broli Remix ver1.2") || (P2Name = "Broli ver1.2")
;flag			= NoMusic

;;Piccolo's Theme music
;[State 19700:	PlaySnd]
;type			= PlaySnd
;triggerall		= (RoundState = 2) && (Parent, Var(14) = 1)
;trigger1		= (P2Name = "Kung Fu Man") || (P2Name = "[Necromancer's] Freeman")
;trigger2		= (P2Name = "Piccolo") || (P2Name = "[Necromancer's] Piccolo") || (P2Name = "[Necromancer's] Nail")
;trigger3		= (P2Name = "Goku") || (P2Name = "Willoughby Jackson's Son-Goku") || (P2Name = "Goku Super Sayajin 2 by ribeiro")
;trigger4		= (P2Name = "SON GOKU") || (P2Name = "Goku-n-hd by EmuBoarding")
;value			= S0,22
;loop			= 1
;abspan		= 0
;persistent		= 0

;;Broli's Theme music
;[State 19700:	PlaySnd]
;type			= PlaySnd
;triggerall		= (RoundState = 2) && (Parent, Var(14) = 1)
;trigger1		= (P2Name = "[Necromancer's] The Necromancer") || (P2Name = "[Necromancer's] Intangir")
;trigger2		= (P2Name = "Broli") || (P2Name = "[Necromancer's] Broli") || (P2Name = "Broli Remix ver1.2") || (P2Name = "Broli ver1.2")
;value			= S0,23
;loop			= 1
;abspan		= 0
;persistent		= 0

;---------------------------------------------------------------------------
;Cape Effect
[Statedef 29710]
type 			= S
movetype		= I
physics		= N
anim			= 29710
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 5

[State 29710:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow

[State 29710:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 29710:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 29710:	DestroySelf]
type			= DestroySelf
trigger1		= AnimTime = 0

;---------------------------------------------------------------------------
;AdvGuard (Pusher)
[Statedef 29720]
type 			= S
movetype		= I
physics		= N
anim			= 29720
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 29720: 	VelSet]
type 			= VelSet
trigger1 		= Time = 0
x 			= 30

[State 29720: 	PlayerPush]
type 			= PlayerPush
trigger1 		= 1
value 		= 1

[State 29720: 	NotHitBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

[State 29720: 	DestoySelf]
type 			= DestroySelf
trigger1 		= Time = 20

;---------------------------------------------------------------------------
;Flame Effect
[Statedef 29730]
type 			= S
movetype		= I
physics		= N
anim			= 29730
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 29730:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 29730:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 29730:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 29730:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= 0,0

[State 29730:	Turn]
type			= Turn
trigger1		= (Time = 0) && ((Parent, Facing = 1) && (EnemyNear, Facing = 1)) || ((Parent, Facing = -1) && (EnemyNear, Facing = -1))
persistent		= 0

[State 29730: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power < 1000
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100,100,100
trans 		= add1

[State 29730: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power = [1000,1999]
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add1

[State 29730: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power = [2000,2999]
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 120, 120, 120
trans 		= add1

[State 29730: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power = [3000,3999]
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 130, 130, 130
trans 		= add1

[State 29730: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power = [4000,4999]
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 140, 140, 140
trans 		= add1

[State 29730: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power >= 5000
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 150, 150, 150
trans 		= add1

[State 29730:	DestroySelf]
type			= DestroySelf
trigger1		= ((IsHelper(8160)) && (Parent, StateNo != 8160)) || ((IsHelper(6030)) && (Time > 200)) || ((IsHelper(83000)) && (Parent, StateNo != 83000))
trigger2		= ((IsHelper(8240)) && (Time > 65)) || ((IsHelper(3010)) && (Parent, StateNo != 3010)) || ((IsHelper(8210)) && (Parent, StateNo != 8210)) 

;---------------------------------------------------------------------------
;Kakikesu Barrier
[Statedef 29740]
type 			= S
movetype		= I
physics		= N
anim			= 29740
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 29740:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 29740:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 1

[State 29740:	StateTypeSet]
type			= StateTypeSet
trigger1		= EnemyNear, NumProj > 0
movetype		= A

[State 29740:	VelSet]
type			= VelSet
trigger1		= Time = 0
x			= 10

[State 29740:	HitDef]
type			= HitDef
trigger1		= 1
attr			= S, NA
hitflag		= P
priority		= 7, Hit
sparkno		= -1
guard.sparkno	= -1

[State 29740:	DestroySelf]
type			= DestroySelf
trigger1		= Time = 40

;---------------------------------------------------------------------------
;Sonic Boom
[Statedef 29750]
type 			= A
movetype		= I
physics		= N
anim			= 29750
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 29750:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow

[State 29750:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 29750:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 29750: 	AfterImage]
type 			= AfterImage
trigger1 		= Time = 0
time 			= 15
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 70, 70, 70
trans 		= add

[State 29750:	DestroySelf]
type			= DestroySelf
trigger1		= AnimTime = 0

;---------------------------------------------------------------------------
;Energy Charge Effect
[Statedef 29760]
type 			= S
movetype		= I
physics		= N
anim			= 29760
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 29760:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow

[State 29760:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 29760:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 29760:	BindToParent]
type			= BindToParent
trigger1		= (IsHelper(83000)) && (Parent, StateNo = 83000)
time			= 1
pos			= -14,-65

;[State 19760:	BindToParent]
;type			= BindToParent
;trigger1		= (IsHelper(3010)) && (Parent, StateNo = 3010)
;time			= 1
;pos			= 10,-55

[State 29760: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power < 1000
time 			= 15
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100,100,100
trans 		= add1

[State 29760: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power = [1000,1999]
time 			= 15
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add1

[State 29760: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power = [2000,2999]
time 			= 15
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 120, 120, 120
trans 		= add1

[State 29760: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power = [3000,3999]
time 			= 15
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 130, 130, 130
trans 		= add1

[State 29760: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power = [4000,4999]
time 			= 15
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 140, 140, 140
trans 		= add1

[State 29760: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power >= 5000
time 			= 15
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 150, 150, 150
trans 		= add1

[State 29760:	DestroySelf]
type			= DestroySelf
trigger1		= ((IsHelper(83000)) && (Parent, StateNo != 83000)) 

;---------------------------------------------------------------------------
;Makankosappo (Head) - Effects creator
[Statedef 29770]
type 			= S
movetype		= I
physics		= N
anim			= 7907
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 29770:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Invisible
flag2			= NoShadow

[State 29770:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 29770:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 29770:	MakeDust]
type			= MakeDust
trigger1		= Parent, Pos Y >= 0
pos 			= 0,72
spacing 		= 3

[State 29770:	VelSet]
type			= VelSet
trigger1		= Time = 0
x			= 8
y			= 0

[State 29770: 	AfterImage]
type 			= AfterImage
trigger1 		= Time = 0
time 			= 20
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 29770:	DestroySelf]
type			= DestroySelf
trigger1 		= Parent, ProjContactTime(73001) <= 5

;---------------------------------------------------------------------------
;rm (Screw) - Effects creator
[Statedef 29771]
type 			= S
movetype		= I
physics		= N
anim			= 7906
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 29771:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Invisible
flag2			= NoShadow

[State 29771:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 29771:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 1

[State 29771:	VelSet]
type			= VelSet
trigger1		= Time = 0
x			= 8
y			= 0

[State 29771: 	AfterImage]
type 			= AfterImage
trigger1 		= Time = 0
time 			= 100
framegap 		= 5
length 		= 60
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 29771:	DestroySelf]
type			= DestroySelf
trigger1 		= Parent, NumProjID(73001) = 0

:----------- K A R O T O ----------------
;---------------------------------------------------------------------------
;Makankosappo Shoot Effect
[Statedef 29780]
type 			= S
movetype		= I
physics		= N
anim			= 29780
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 29780:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow

[State 29780:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 29780:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 29780:	BindToParent]
type			= BindToParent
trigger1		= (IsHelper(73001)) && (Parent, StateNo = 73001)
time			= 1
pos			= 52,-61

[State 29780:	DestroySelf]
type			= DestroySelf
trigger1		= (IsHelper(73001)) && (Parent, StateNo != 73001)

;---------------------------------------------------------------------------
;Kick - Flame Effect
[Statedef 29790]
type 			= S
movetype		= I
physics		= N
anim			= 29790
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 4

[State 29790:	AssertSpecial]
type			= AssertSpecial
trigger1 		= 1
flag			= NoShadow

[State 29790:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 29790:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 29790:	BindToParent]
type			= BindToParent
trigger1		= ((IsHelper(1040)) && (Parent, StateNo = 1040)) || ((IsHelper(1920)) && (Parent, StateNo = 1920))
time			= 1
pos			= 41,-62

[State 29790: 	AfterImage]
type 			= AfterImage
trigger1 		= Time = 0
time 			= 100
framegap 		= 2
length 		= 60
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 150, 150, 150
trans 		= add

[State 29790:	DestroySelf]
type			= DestroySelf
trigger1 		= (IsHelper(1040)) && ((Parent, AnimElem = 3) || (Parent, AnimElem = 6) || (Parent, StateNo != 1040))
trigger2		= (IsHelper(1920)) && (Parent, AnimElem = 3)

;---------------------------------------------------------------------------
;Gekiretsukodan Shoot Effect
[Statedef 29800]
type 			= S
movetype		= I
physics		= N
anim			= 29800
velset		= 12,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 29800:	AssertSpecial]
type			= AssertSpecial
trigger1 		= 1
flag			= Invisible
flag2			= NoShadow

[State 29800:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 29800:	ScreenBound]
type			= ScreenBound
trigger1		= 1
movecamera		= 1,1
value			= 0
ignorehitpause	= 1

[State 29800:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 29800:	MakeDust]
type			= MakeDust
trigger1		= Parent, Pos Y >= 0
pos 			= 0,64
spacing 		= 3

[State 29800: 	AfterImage]
type 			= AfterImage
trigger1 		= Time = 0
time 			= 20
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 29800:	DestroySelf]
type			= DestroySelf
trigger1 		= Parent, ProjContactTime(0) <= 5


;---------------------------------------------------------------------------
;Top In!
[Statedef 29810]
type 			= S
movetype		= I
physics		= N
anim			= 29810
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 29810:	AssertSpecial]
type			= AssertSpecial
trigger1 		= 1
flag			= NoShadow

[State 29810:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 29810:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 29810:	DestroySelf]
type			= DestroySelf
trigger1 		= Time > 25

;9810 - TopIN
;9820 - Just Defended
;9830 - Guard Cancel

;---------------------------------------------------------------------------
;Charge (Wind Effect)
[Statedef 29840]
type 			= S
movetype		= I
physics		= N
anim			= 29840
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 29840:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 29840:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 1

[State 29840:	VelSet]
type			= VelSet
trigger1		= Time = 0
x			= 10

[State 29840:	DestroySelf]
type			= DestroySelf
trigger1		= Time = 40

;---------------------------------------------------------------------------
;Kikou Ha Shoot Effect
[Statedef 29850]
type 			= S
movetype		= I
physics		= N
anim			= IfElse((Parent,Var(17)<=50),901,902)
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 29850:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Invisible
flag2			= NoShadow

[State 29850:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 29850:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 29850:	MakeDust]
type			= MakeDust
trigger1		= Parent, Pos Y >= 0
pos 			= 0,72
spacing 		= 3

[State 29850:	VelSet]
type			= VelSet
trigger1		= Time = 0
x			= 4
y			= 0

[State 29850:	VelMul]
type			= VelMul
trigger1		= Time > 0
x			= 1.1
y			= 1

[State 29850: 	AfterImage]
type 			= AfterImage
trigger1 		= Time = 0
time 			= 20
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 29850:	DestroySelf]
type			= DestroySelf
trigger1 		= (Parent, NumProjID(7901) = 0) && (Parent, NumProjID(7902) = 0)

;---------------------------------------------------------------------------
;Kakusan Yuudou Kikou Ha Projectile
[Statedef 29850]
type 			= A
movetype		= A
physics		= N
anim			= 29850
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

;Helper's location relative to the target.
[State 29850: 	VarSet]
type 			= VarSet
trigger1 		= Time = 0
fv 			= 0
value 		= 0

;Rotation speed of the helper.
[State 29850: 	VarSet]
type 			= VarSet
trigger1 		= Time = 0
fv 			= 1
value 		= IfElse((Time/60)%2,-.4,.4)

;The Y stretch of the helper.
[State 29850: 	VarSet]
type 			= VarSet
trigger1 		= 1
fv 			= 2
value 		= IfElse((((Time/120)%2) && (Random > 499)),1,2)

;The X stretch of the helper.
[State 29850: 	VarSet]
type 			= VarSet
trigger1 		= 1
fv 			= 3
value 		= IfElse((((Time/120)%2) && (Random <= 499)),1,2)

;Angle addition
[State 29850: 	VarAdd]
type 			= VarAdd
trigger1 		= 1
fv 			= 0
value 		= FVar(1)

;This sets the helper's position, relative to its target.
[State 29850: 	BindToTarget]
type 			= BindToTarget
trigger1 		= 1
time 			= 1
pos 			= Cos(FVar(0))*FVar(3),(-Sin(FVar(0)-(Size.Mid.Pos.Y/2))*FVar(3)

;Helpers go behind the opponent at times.
[State 29850: 	SprPriority]
type 			= SprPriority
trigger1 		= 1
value 		= IfElse((Fvar(0)/Pi)%2,3,-3)

;------------------------------------------------------------------------------
;Die
[Statedef 8096]
type = S
physics = S
ctrl = 0
velset = 0,0,0

[State 8096, 1]
type = changeanim2
trigger1 = time = 0
value = 8096

[State 8096, 1]
type = null; changeanim2
trigger1 = alive = 0
trigger1 = time = 0
value = 8097

[State 8096, 2]
type = lifeadd
trigger1 = time = [0, 130]
value = -5
kill = 0

[State 8096, 3]
type = lifeset
trigger1 = time = 131
value = 0

[State 8096, 1]
type = changeanim2
trigger1 = alive = 0
value = 8098


;-----------
;---------------------------------------------------------------------------
;DR - Charge
[Statedef 73000]
type 			= S
movetype		= I
physics		= S
anim			= 73000
velset		= 0,0
ctrl			= 0
poweradd		= -4000
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 8080, kosumo]
type = Explod
trigger1 = AnimElem = 1
anim = 6669
pos = -320,0
postype = right
sprpriority = -2
supermove = 1
removetime = 200
ignorehitpause = 1
bindtime = -1
persistent = 0

[State 73000, Cosmo simulation]
type = AfterImage
triggerall = power < 5000
trigger1 = AnimElem = 1
trigger2 = PalNo = 1
time = 130
length = 25
palcolor = 0
palinvertall = 1
timegap = 1
framegap = 1
PalBright   =   0,  0,  0
PalContrast = 187,107,140 
PalAdd      =   0,  0,  0
trans = add

[State 73000, Cosmo simulation]
type = AfterImage
triggerall = power < 5000
trigger1 = AnimElem = 1
trigger2 = PalNo = 2
time = 130
length = 25
palcolor = 0
palinvertall = 1
timegap = 1
framegap = 1
PalBright   =   0,  0,  0
PalContrast = 80,70,0
PalAdd      =   0,  0,  0
trans = add

[State 73000: 	ForceFeedBack]
type 			= ForceFeedback
trigger1		= (Time = 0) || (((GameTime%15) = 0) && (Random <= 499))
waveform 		= Square
time 			= 3

[State 73000:	VarAdd]
type			= VarAdd
trigger1		= (Floor(Time > (200/Var(53)))) && ((GameTime%3) = 0)
v			= 40
value			= Ceil(1 + (IfElse(Random <= 399,1,0)))

[State 73000:	SuperPause]
type			= SuperPause
trigger1		= (Time = 0) && (Var(31) = 0)
time			= 50
sound			= S6666,6666
pos			= 14,-86
movetime		= 50

[State 73000:	SuperPause]
type			= SuperPause
trigger1		= (Time = 0) && (Var(31) = 1)
time			= 50
sound			= S6,0
pos			= 14,-86
movetime		= 50

[State 73000:	SuperPause]
type			= SuperPause
trigger1		= (Time = 0) && (Var(31) = 2)
time			= 50
sound			= S7,0
pos			= 14,-86
movetime		= 50

[State 73000:	Helper]
type			= Helper
trigger1		= Floor(Time = (150/Var(53)))
helpertype		= Normal
name			= "MakankosappoChargeEffect"
id			= 73000
pos			= -14,-65
postype		= p1
facing		= 1
stateno		= 19760
keyctrl		= 0
ownpal		= 1
supermovetime	= 100
pausemovetime	= 100

[State 73000:	Helper]
type			= Helper
triggerall		= NumHelper(002) < 3
trigger1		= (Time = 0) || (((GameTime%15) = 0) && (Random <= 499))
helpertype		= Normal
name			= "SonicBoom"
id			= 73000
pos			= -14,-65
postype		= p1
facing		= -1
stateno		= 19750
keyctrl		= 0
ownpal		= 1
supermovetime	= 100
pausemovetime	= 100

[State 73000:	Helper]
type			= Helper
trigger1		= Floor(Time = (200/Var(53)))
helpertype		= Normal
name			= "FlameEffect"
id			= 73000
pos			= 0,0
postype		= p1
facing		= 1
stateno		= 19730
keyctrl		= 0
ownpal		= 1
supermovetime	= 100
pausemovetime	= 100

[State 73000:	Helper]
type			= Helper
trigger1		= (Time > 200) && ((GameTime%40) = 0)
helpertype		= Normal
name			= "WindEffect"
id			= 73000
pos			= 0,0
postype		= p1
facing		= 1
stateno		= 19840
keyctrl		= 0
ownpal		= 1
supermovetime	= 100
pausemovetime	= 100

[State 73000:	Helper]
type			= Helper
trigger1		= (Time > 200) && ((GameTime%40) = 0)
helpertype		= Normal
name			= "WindEffect"
id			= 73000
pos			= 0,0
postype		= p1
facing		= -1
stateno		= 19840
keyctrl		= 0
ownpal		= 1
supermovetime	= 100
pausemovetime	= 100

[State 73000:	BGPalFX]
type			= BGPalFX
trigger1		= (Floor(Time > (200/Var(53)))) && ((GameTime%30) = 0)
time			= 15
add			= 125,125,200
mul			= 255,255,255
invertall		= 1

[State 73000: 	PalFX]
type 			= PalFX
trigger1 		= (Floor(Time > (200/Var(53)))) && ((GameTime%3) = 0) && (Var(53) > 4) 
time 			= 1
add 			= 0,15,75
mul			= 255,255,255
invertall 		= 1
color 		= 0

[State 73000:	EnvShake]
type			= EnvShake
trigger1		= (Floor(Time > (200/Var(53)))) && ((GameTime%3) = 0)
time			= 10
freq			= 100
ampl			= -6
phase			= 90

[State 73000:	PlaySnd]
type			= PlaySnd
trigger1		= Floor(Time = (200/Var(53)))
value			= S0,5

[State 73000:	PlaySnd]
type			= PlaySnd
trigger1		= Floor(Time = (200/Var(53)))
value			= S0,24
loop			= 1
channel		= 0

;Piccolo's "Makankosappo!" voice.
[State 73000:	PlaySnd]
type			= PlaySnd
trigger1		= Floor(Time = (200/Var(53)+50))
value			= S1,1

[State 73000:	ChangeState]
type			= ChangeState
trigger1		= Floor(Time = (200/Var(53)+100))
value			= 63001

;---------------------------------------------------------------------------
;DR - Release
[Statedef 63001]
type 			= S
movetype		= A
physics		= S
anim			= 63001
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 63001:	ScreenBound]
type			= ScreenBound
trigger1		= WinKO
movecamera		= 0,0
value			= 0
ignorehitpause	= 1

[State 63001:	VelSet]
type			= VelSet
trigger1		= (Time = 0) && (Pos Y >= 0)
x			= -8
y			= 0

[State 63001:	Helper]
type			= Helper
trigger1		= AnimElem = 1, = 7
helpertype		= Normal
name			= "MakankosappoShootEffect"
id			= 63001
pos			= 52,-61
postype		= p1
facing		= 1
stateno		= 19780
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 63001:	Helper]
type			= Helper
trigger1		= AnimElem = 1, = 7
helpertype		= Normal
name			= "MakankosappoHeadEffect"
id			= 63001
pos			= 52,-61
postype		= p1
facing		= 1
stateno		= 19770
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 63001:	Helper]
type			= Helper
trigger1		= Time > 125
helpertype		= Normal
name			= "MakankosappoScrewEffect"
id			= 63001
pos			= 52,-61
postype		= p1
facing		= 1
stateno		= 19771
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

;Makankosappo - Projectile Score
[State 63001:	VarAdd]
type			= VarAdd
trigger1 		= ProjContactTime(63001) = 0
v			= 40
value			= (3+Var(54))
ignorehitpause	= 1

[State 63001:	EnvShake]
type			= EnvShake
trigger1		= ((GameTime%5) = 0) && (Random <= 499)
time			= 15
freq			= 100
ampl			= -5
phase			= 90
ignorehitpause	= 1

[State 63001: 	BGPalFX]
type 			= BGPalFX
trigger1 		= WinKO
time 			= 75
mul 			= 128,0,0
invertall 		= 1
persistent 		= 0
ignorehitpause 	= 1

[State 63001:	StopSnd]
type			= StopSnd
trigger1		= Time = 0
channel		= 0

[State 63001:	PlaySnd]
type			= PlaySnd
trigger1		= AnimElem = 1, = 7
value			= S0,19

[State 63001:	Projectile]
type			= Projectile
trigger1		= AnimElem = 1, = 7
projid		= 63001
projanim		= 6907
projhitanim		= 19750
projremanim		= -1
projcancelanim	= 19750
projscale		= (IfElse(Var(53) > 4,2,1)),1
projremove		= 1
projremovetime	= 50
velocity		= (IfElse(Var(53) > 4,16,8.7)),0
remvelocity		= 0,0
accel			= 0,0
velmul		= 1,1
projhits		= 1
projmisstime	= 0
projpriority	= 1
projsprpriority	= 3
projedgebound	= 20
projstagebound	= 20
projheightbound	= -1000,1
offset		= 52,-61
postype		= p1
projshadow		= 0,0,0
supermovetime	= 0
pausemovetime	= 0
;------------------
attr			= S, HP
hitflag		= MADFP
animtype		= Heavy
priority		= 1, Hit
damage		= Ceil(20+(Var(54)&&Var(17))/2),(6+(Var(54)&&Var(17))/4)
pausetime		= Ceil(8+Var(57)),(12+Var(57))
sparkno		= S851
guard.sparkno	= S851
sparkxy		= 40,61
hitsound		= S1,0
guardsound		= S20,0
ground.type		= Low
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
ground.velocity	= -2
guard.velocity	= -2
air.velocity	= -2,3
airguard.velocity	= -2,3
ground.cornerpush.veloff = 0
guard.kill		= 0
getpower		= 0
givepower		= Ceil(15+Var(55)/2)
palfx.time		= 10
palfx.mul		= 256,256,256
palfx.add		= 32,16,10
palfx.sinadd 	= 64,32,20,3
envshake.time 	= 15
envshake.freq 	= 120
envshake.ampl 	= -6
ignorehitpause	= 1

[State 63001:	Projectile]
type			= Projectile
trigger1		= Time > 7
projid		= 63001
projanim		= 6906
projhitanim		= -1
projremanim		= -1
projcancelanim	= -1
projscale		= (IfElse(Var(53) > 4,2,1)),1
projremove		= IfElse(P2Life > 10,1,0)
projremovetime	= 40
velocity		= (IfElse(Var(53) > 4,16,8.7)),0
remvelocity		= 0,0
accel			= 0,0
velmul		= 1,1
projhits		= 1
projmisstime	= 0
projpriority	= 1
projsprpriority	= 3
projedgebound	= 500
projstagebound	= 500
projheightbound	= -1000,1
offset		= 52,-61
postype		= p1
projshadow		= 0,0,0
supermovetime	= 0
pausemovetime	= 0
;------------------
attr			= S, HP
hitflag		= MADFP
animtype		= Heavy
priority		= 1, Hit
damage		= Ceil(9+(Var(54)&&Var(17))/2),(2+(Var(54)&&Var(17))/4)
pausetime		= Ceil(8+Var(57)),(12+Var(57))
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 5,-8
guardsound		= S20,0
ground.type		= Low
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
ground.velocity	= -2
guard.velocity	= -2
air.velocity	= -2,3
airguard.velocity	= -2,3
ground.cornerpush.veloff = 0
guard.kill		= 0
getpower		= 0
givepower		= Ceil(15+Var(55)/2)
palfx.time		= 10
palfx.mul		= 256,256,256
palfx.add		= 32,16,10
palfx.sinadd 	= 64,32,20,3
envshake.time 	= 15
envshake.freq 	= 100
envshake.ampl 	= -4
ignorehitpause	= 1

[State 63001:	ChangeState]
type			= ChangeState
trigger1		= Time > 130
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Constant Effects Helper
[Statedef 19700]
type 			= S
movetype		= I
physics		= N
anim			= -1
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= -5

[State 19700:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 19700:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 19700:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Invisible
flag2			= NoShadow

;[State 19700:	AssertSpecial]
;type			= AssertSpecial
;triggerall		= Parent, Var(14) = 1
;trigger1		= (P2Name = "Kung Fu Man") || (P2Name = "[Necromancer's] Freeman")
;trigger2		= (P2Name = "Piccolo") || (P2Name = "[Necromancer's] Piccolo") || (P2Name = "[Necromancer's] Nail")
;trigger3		= (P2Name = "Goku") || (P2Name = "Willoughby Jackson's Son-Goku") || (P2Name = "Goku Super Sayajin 2 by ribeiro")
;trigger4		= (P2Name = "SON GOKU") || (P2Name = "Goku-n-hd by EmuBoarding")
;trigger5		= (P2Name = "[Necromancer's] The Necromancer") || (P2Name = "[Necromancer's] Intangir")
;trigger6		= (P2Name = "Broli") || (P2Name = "Broli Remix ver1.2") || (P2Name = "Broli ver1.2")
;flag			= NoMusic

;;Piccolo's Theme music
;[State 19700:	PlaySnd]
;type			= PlaySnd
;triggerall		= (RoundState = 2) && (Parent, Var(14) = 1)
;trigger1		= (P2Name = "Kung Fu Man") || (P2Name = "[Necromancer's] Freeman")
;trigger2		= (P2Name = "Piccolo") || (P2Name = "[Necromancer's] Piccolo") || (P2Name = "[Necromancer's] Nail")
;trigger3		= (P2Name = "Goku") || (P2Name = "Willoughby Jackson's Son-Goku") || (P2Name = "Goku Super Sayajin 2 by ribeiro")
;trigger4		= (P2Name = "SON GOKU") || (P2Name = "Goku-n-hd by EmuBoarding")
;value			= S0,22
;loop			= 1
;abspan		= 0
;persistent		= 0

;;Broli's Theme music
;[State 19700:	PlaySnd]
;type			= PlaySnd
;triggerall		= (RoundState = 2) && (Parent, Var(14) = 1)
;trigger1		= (P2Name = "[Necromancer's] The Necromancer") || (P2Name = "[Necromancer's] Intangir")
;trigger2		= (P2Name = "Broli") || (P2Name = "[Necromancer's] Broli") || (P2Name = "Broli Remix ver1.2") || (P2Name = "Broli ver1.2")
;value			= S0,23
;loop			= 1
;abspan		= 0
;persistent		= 0

;---------------------------------------------------------------------------
;Cape Effect
[Statedef 19710]
type 			= S
movetype		= I
physics		= N
anim			= 19710
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 5

[State 19710:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow

[State 19710:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 19710:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 19710:	DestroySelf]
type			= DestroySelf
trigger1		= AnimTime = 0

;---------------------------------------------------------------------------
;AdvGuard (Pusher)
[Statedef 19720]
type 			= S
movetype		= I
physics		= N
anim			= 19720
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 19720: 	VelSet]
type 			= VelSet
trigger1 		= Time = 0
x 			= 30

[State 19720: 	PlayerPush]
type 			= PlayerPush
trigger1 		= 1
value 		= 1

[State 19720: 	NotHitBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

[State 19720: 	DestoySelf]
type 			= DestroySelf
trigger1 		= Time = 20

;---------------------------------------------------------------------------
;Flame Effect
[Statedef 19730]
type 			= S
movetype		= I
physics		= N
anim			= 19730
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 19730:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 19730:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 19730:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 19730:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= 0,0

[State 19730:	Turn]
type			= Turn
trigger1		= (Time = 0) && ((Parent, Facing = 1) && (EnemyNear, Facing = 1)) || ((Parent, Facing = -1) && (EnemyNear, Facing = -1))
persistent		= 0

[State 19730: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power < 1000
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100,100,100
trans 		= add1

[State 19730: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power = [1000,1999]
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add1

[State 19730: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power = [2000,2999]
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 120, 120, 120
trans 		= add1

[State 19730: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power = [3000,3999]
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 130, 130, 130
trans 		= add1

[State 19730: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power = [4000,4999]
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 140, 140, 140
trans 		= add1

[State 19730: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power >= 5000
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 150, 150, 150
trans 		= add1

[State 19730:	DestroySelf]
type			= DestroySelf
trigger1		= ((IsHelper(8160)) && (Parent, StateNo != 8160)) || ((IsHelper(6030)) && (Time > 200)) || ((IsHelper(73000)) && (Parent, StateNo != 73000))
trigger2		= ((IsHelper(8240)) && (Time > 65)) || ((IsHelper(3010)) && (Parent, StateNo != 3010)) || ((IsHelper(8210)) && (Parent, StateNo != 8210)) 

;---------------------------------------------------------------------------
;Kakikesu Barrier
[Statedef 19740]
type 			= S
movetype		= I
physics		= N
anim			= 19740
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 19740:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 19740:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 1

[State 19740:	StateTypeSet]
type			= StateTypeSet
trigger1		= EnemyNear, NumProj > 0
movetype		= A

[State 19740:	VelSet]
type			= VelSet
trigger1		= Time = 0
x			= 10

[State 19740:	HitDef]
type			= HitDef
trigger1		= 1
attr			= S, NA
hitflag		= P
priority		= 7, Hit
sparkno		= -1
guard.sparkno	= -1

[State 19740:	DestroySelf]
type			= DestroySelf
trigger1		= Time = 40

;---------------------------------------------------------------------------
;Sonic Boom
[Statedef 19750]
type 			= A
movetype		= I
physics		= N
anim			= 19750
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 19750:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow

[State 19750:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 19750:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 19750: 	AfterImage]
type 			= AfterImage
trigger1 		= Time = 0
time 			= 15
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 70, 70, 70
trans 		= add

[State 19750:	DestroySelf]
type			= DestroySelf
trigger1		= AnimTime = 0

;---------------------------------------------------------------------------
;Energy Charge Effect
[Statedef 19760]
type 			= S
movetype		= I
physics		= N
anim			= 19760
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 19760:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow

[State 19760:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 19760:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 19760:	BindToParent]
type			= BindToParent
trigger1		= (IsHelper(73000)) && (Parent, StateNo = 73000)
time			= 1
pos			= -14,-65

;[State 19760:	BindToParent]
;type			= BindToParent
;trigger1		= (IsHelper(3010)) && (Parent, StateNo = 3010)
;time			= 1
;pos			= 10,-55

[State 19760: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power < 1000
time 			= 15
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100,100,100
trans 		= add1

[State 19760: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power = [1000,1999]
time 			= 15
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add1

[State 19760: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power = [2000,2999]
time 			= 15
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 120, 120, 120
trans 		= add1

[State 19760: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power = [3000,3999]
time 			= 15
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 130, 130, 130
trans 		= add1

[State 19760: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power = [4000,4999]
time 			= 15
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 140, 140, 140
trans 		= add1

[State 19760: 	AfterImage]
type 			= AfterImage
trigger1 		= Parent, Power >= 5000
time 			= 15
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 150, 150, 150
trans 		= add1

[State 19760:	DestroySelf]
type			= DestroySelf
trigger1		= ((IsHelper(73000)) && (Parent, StateNo != 73000)) 

;---------------------------------------------------------------------------
;Makankosappo (Head) - Effects creator
[Statedef 19770]
type 			= S
movetype		= I
physics		= N
anim			= 6907
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 19770:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Invisible
flag2			= NoShadow

[State 19770:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 19770:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 19770:	MakeDust]
type			= MakeDust
trigger1		= Parent, Pos Y >= 0
pos 			= 0,72
spacing 		= 3

[State 19770:	VelSet]
type			= VelSet
trigger1		= Time = 0
x			= 8
y			= 0

[State 19770: 	AfterImage]
type 			= AfterImage
trigger1 		= Time = 0
time 			= 20
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 19770:	DestroySelf]
type			= DestroySelf
trigger1 		= Parent, ProjContactTime(63001) <= 5

;---------------------------------------------------------------------------
;rm (Screw) - Effects creator
[Statedef 19771]
type 			= S
movetype		= I
physics		= N
anim			= 6906
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 19771:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Invisible
flag2			= NoShadow

[State 19771:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 19771:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 1

[State 19771:	VelSet]
type			= VelSet
trigger1		= Time = 0
x			= 8
y			= 0

[State 19771: 	AfterImage]
type 			= AfterImage
trigger1 		= Time = 0
time 			= 100
framegap 		= 5
length 		= 60
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 19771:	DestroySelf]
type			= DestroySelf
trigger1 		= Parent, NumProjID(63001) = 0

;---------------------------------------------------------------------------
;Makankosappo Shoot Effect
[Statedef 19780]
type 			= S
movetype		= I
physics		= N
anim			= 19780
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 19780:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow

[State 19780:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 19780:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 19780:	BindToParent]
type			= BindToParent
trigger1		= (IsHelper(63001)) && (Parent, StateNo = 63001)
time			= 1
pos			= 52,-61

[State 19780:	DestroySelf]
type			= DestroySelf
trigger1		= (IsHelper(63001)) && (Parent, StateNo != 63001)

;---------------------------------------------------------------------------
;Kick - Flame Effect
[Statedef 19790]
type 			= S
movetype		= I
physics		= N
anim			= 19790
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 4

[State 19790:	AssertSpecial]
type			= AssertSpecial
trigger1 		= 1
flag			= NoShadow

[State 19790:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 19790:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 19790:	BindToParent]
type			= BindToParent
trigger1		= ((IsHelper(1040)) && (Parent, StateNo = 1040)) || ((IsHelper(1920)) && (Parent, StateNo = 1920))
time			= 1
pos			= 41,-62

[State 19790: 	AfterImage]
type 			= AfterImage
trigger1 		= Time = 0
time 			= 100
framegap 		= 2
length 		= 60
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 150, 150, 150
trans 		= add

[State 19790:	DestroySelf]
type			= DestroySelf
trigger1 		= (IsHelper(1040)) && ((Parent, AnimElem = 3) || (Parent, AnimElem = 6) || (Parent, StateNo != 1040))
trigger2		= (IsHelper(1920)) && (Parent, AnimElem = 3)

;---------------------------------------------------------------------------
;Gekiretsukodan Shoot Effect
[Statedef 19800]
type 			= S
movetype		= I
physics		= N
anim			= 19800
velset		= 12,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 19800:	AssertSpecial]
type			= AssertSpecial
trigger1 		= 1
flag			= Invisible
flag2			= NoShadow

[State 19800:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 19800:	ScreenBound]
type			= ScreenBound
trigger1		= 1
movecamera		= 1,1
value			= 0
ignorehitpause	= 1

[State 19800:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 19800:	MakeDust]
type			= MakeDust
trigger1		= Parent, Pos Y >= 0
pos 			= 0,64
spacing 		= 3

[State 19800: 	AfterImage]
type 			= AfterImage
trigger1 		= Time = 0
time 			= 20
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 19800:	DestroySelf]
type			= DestroySelf
trigger1 		= Parent, ProjContactTime(0) <= 5


;---------------------------------------------------------------------------
;Top In!
[Statedef 19810]
type 			= S
movetype		= I
physics		= N
anim			= 19810
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 19810:	AssertSpecial]
type			= AssertSpecial
trigger1 		= 1
flag			= NoShadow

[State 19810:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 19810:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 19810:	DestroySelf]
type			= DestroySelf
trigger1 		= Time > 25

;9810 - TopIN
;9820 - Just Defended
;9830 - Guard Cancel

;---------------------------------------------------------------------------
;Charge (Wind Effect)
[Statedef 19840]
type 			= S
movetype		= I
physics		= N
anim			= 19840
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 19840:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 19840:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 1

[State 19840:	VelSet]
type			= VelSet
trigger1		= Time = 0
x			= 10

[State 19840:	DestroySelf]
type			= DestroySelf
trigger1		= Time = 40

;---------------------------------------------------------------------------
;Kikou Ha Shoot Effect
[Statedef 19850]
type 			= S
movetype		= I
physics		= N
anim			= IfElse((Parent,Var(17)<=50),901,902)
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 19850:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Invisible
flag2			= NoShadow

[State 19850:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 19850:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 19850:	MakeDust]
type			= MakeDust
trigger1		= Parent, Pos Y >= 0
pos 			= 0,72
spacing 		= 3

[State 19850:	VelSet]
type			= VelSet
trigger1		= Time = 0
x			= 4
y			= 0

[State 19850:	VelMul]
type			= VelMul
trigger1		= Time > 0
x			= 1.1
y			= 1

[State 19850: 	AfterImage]
type 			= AfterImage
trigger1 		= Time = 0
time 			= 20
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 19850:	DestroySelf]
type			= DestroySelf
trigger1 		= (Parent, NumProjID(6901) = 0) && (Parent, NumProjID(6902) = 0)

;---------------------------------------------------------------------------
;Kakusan Yuudou Kikou Ha Projectile
[Statedef 19850]
type 			= A
movetype		= A
physics		= N
anim			= 19850
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

;Helper's location relative to the target.
[State 19850: 	VarSet]
type 			= VarSet
trigger1 		= Time = 0
fv 			= 0
value 		= 0

;Rotation speed of the helper.
[State 19850: 	VarSet]
type 			= VarSet
trigger1 		= Time = 0
fv 			= 1
value 		= IfElse((Time/60)%2,-.4,.4)

;The Y stretch of the helper.
[State 19850: 	VarSet]
type 			= VarSet
trigger1 		= 1
fv 			= 2
value 		= IfElse((((Time/120)%2) && (Random > 499)),1,2)

;The X stretch of the helper.
[State 19850: 	VarSet]
type 			= VarSet
trigger1 		= 1
fv 			= 3
value 		= IfElse((((Time/120)%2) && (Random <= 499)),1,2)

;Angle addition
[State 19850: 	VarAdd]
type 			= VarAdd
trigger1 		= 1
fv 			= 0
value 		= FVar(1)

;This sets the helper's position, relative to its target.
[State 19850: 	BindToTarget]
type 			= BindToTarget
trigger1 		= 1
time 			= 1
pos 			= Cos(FVar(0))*FVar(3),(-Sin(FVar(0)-(Size.Mid.Pos.Y/2))*FVar(3)

;Helpers go behind the opponent at times.
[State 19850: 	SprPriority]
type 			= SprPriority
trigger1 		= 1
value 		= IfElse((Fvar(0)/Pi)%2,3,-3)

;---------------------------------------------------------------------------
;Critical Hit Feature

;Critical Hit Feature - Randomization
[State -2:		VarRandom]
type			= VarRandom
trigger1		= (GameTime%75) = 0 
v			= 25
range			= 100
ignorehitpause	= 1

;Critical Hit Feature - Damage Addition
[State -2:		VarSet]
type			= VarSet
trigger1		= var(25) > 90
v			= 24
value			= Floor(var(40)/63000)
ignorehitpause	= 1

;Critical Hit Feature - Reset
[State -2:		VarSet]
type			= VarSet
trigger1		= (var(25) > 90) && (MoveContact)
v			= 25
value			= 0
ignorehitpause	= 1



;---------------------------------------------------------------------------
;ProjHitAdd Feature: Special Projectiles

;ProjHitAdd - rm
[State -2:		Projectile]
type			= Projectile
triggerall		= (StateNo = 63001) && (Time < 130)
trigger1		= (command = "x") || (command = "y") || (command = "z") || (command = "a") || (command = "b") || (command = "c")
projid		= 63001
projanim		= 6903
projhitanim		= -1
projremanim		= -1
projcancelanim	= -1
projremove		= 1
projremovetime	= 40
velocity		= 8.7,0
remvelocity		= 0,0
accel			= 0,0
velmul		= 1,1
projhits		= 1
projmisstime	= 0
projpriority	= 1
projsprpriority	= 3
projedgebound	= 1000
projstagebound	= 1000
projheightbound	= -1000,1
offset		= 52,-61
postype		= p1
projshadow		= 0,0,0
supermovetime	= 0
pausemovetime	= 0
;------------------
attr			= S, HP
hitflag		= MAF
guardflag		= MA
animtype		= Light
priority		= 4, Hit
damage		= Ceil(10+var(54)),(5+var(54)/2)
pausetime		= 0,0
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 10,-15
hitsound		= S16,1
;guardsound		= S20,0
ground.type		= Low
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
ground.velocity	= -2
guard.velocity	= -2
air.velocity	= -2,3
airguard.velocity	= -2,3
ground.cornerpush.veloff = 0
guard.kill		= 0
getpower		= 0
givepower		= Ceil(15+var(55)/2)
envshake.time 	= 15
envshake.freq 	= 100
envshake.ampl 	= -7
ignorehitpause	= 1


;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------


;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]


;Haste/V-ism Sorrowedge's Haste code
[State -3, Speed] 
type = ChangeAnim
triggerall = (Var(10) > 1) && (RoundState = 2) && (MoveType != H)
trigger1 = AnimElemTime(AnimElemNo(0) + 1) < 0
trigger1 = AnimElemTime(AnimElemNo(0)) > floor ((AnimElemTime(AnimElemNo(0)) - AnimElemTime(AnimElemNo(0) + 1))/2)
ignorehitpause = 1
value = anim
elem = AnimElemNo(0) + 1


;Necromancer's AI Autoguard code.
[State -3, StandGuard] 
type = ChangeState 
triggerall = (Var(30) = 59) && (StateType = S) && (Pos Y = 0) && (P2BodyDist Y <= 0) 
triggerall = (P2BodyDist Y = -120) && (P2StateType != C) && (P2MoveType = A) 
trigger1 = (P2BodyDist X <= 120) && (Random <= 799) && (Ctrl) 
trigger2 = (StateNo = [140, 155]) || (StateNo = [100, 105]) 
value = 130 

[State -3, CrouchGuard] 
type = ChangeState 
triggerall = (Var(30) = 59) && (StateType != A) && (Pos Y = 0) && (P2BodyDist Y <= 0) 
triggerall = (P2BodyDist Y = -50) && (P2StateType = C) && (P2MoveType = A) 
trigger1 = (P2BodyDist X <= 120) && (Random <= 799) && (Ctrl) 
trigger2 = (StateNo = [140, 155]) || (StateNo = [100, 105]) 
value = 131

[State -3, AirGuard] 
type = ChangeState 
triggerall = (Var(30) = 59) && (StateType = A) && (Pos Y = 0)  && (P2BodyDist Y = -120) 
triggerall = (StateType = A) && (P2MoveType = A) 
trigger1 = ((P2BodyDist X <= 120) && (Ctrl)) || (StateNo = [140, 155]) 
value = 132 


;This controller plays a sound everytime KFM lands from a jump, or
;from his back-dash.
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
trigger2 = stateno = 106 ;Run-back land
trigger1 = AnimElem = 1
value = S333,333

[State -20 , 1]
type = PlaySnd
trigger1 = stateno = 20
trigger1 = AnimElem = 7
value = S2,77

;Haste/V-ism Sorrowedge's Haste code
[State -3, Speed] 
type = ChangeAnim
triggerall = (Var(10) > 1) && (RoundState = 2) && (MoveType != H)
trigger1 = AnimElemTime(AnimElemNo(0) + 1) < 0
trigger1 = AnimElemTime(AnimElemNo(0)) > floor ((AnimElemTime(AnimElemNo(0)) - AnimElemTime(AnimElemNo(0) + 1))/2)
ignorehitpause = 1
value = anim
elem = AnimElemNo(0) + 1


;-------------------------------------------------------
;IA Virtual
;-------------------------------------------------------
;IA Virtual

[State -2, Energia_primo_round]
type = PowerSet
trigger1 = RoundState = 1
;trigger1 = P2Life >= 1000
trigger1 = RoundNo = 1
value = 0

[State -2, Energia_terzo_round]
type = AttackMulSet
trigger1 = RoundState = 1
;trigger1 = P2Life >= 1000
trigger1 = RoundNo >= 2
value = 1.5

[State -2, Energia_terzo_round]
type = powerAdd
triggerall = P2name != "Ikki"
triggerall = P2name != "nachi"
triggerall = P2name != "Hyoga du Cygne"
triggerall = P2name != "SHIRYU"
triggerall = P2name != "pegasus"
triggerall = P2name != "Shun Andromede"
trigger1 = Life <= 300
;trigger1		= (Time > 1) ;temps entre monte
trigger1 = RoundNo >= 2
value = 5000

[State -2, Energia_terzo_round]
type = powerAdd
triggerall = P2name = "[Necromancer's]"
;trigger1		= (Time > 1) ;temps entre monte
trigger1 = RoundNo >= 1
value = 5000


[State -2, PowerAdd]
type			= PowerAdd
trigger1		= (Time > 3) ;temps entre monte
value			= 1 ;la monte :)


;---------------------------------------------------------------------------
;Critical Hit Feature

;Critical Hit Feature - Randomization
[State -2:		VarRandom]
type			= VarRandom
trigger1		= (GameTime%75) = 0 
v			= 25
range			= 100
ignorehitpause	= 1

;Critical Hit Feature - Damage Addition
[State -2:		VarSet]
type			= VarSet
trigger1		= var(25) > 90
v			= 24
value			= Floor(var(40)/73000)
ignorehitpause	= 1

;Critical Hit Feature - Reset
[State -2:		VarSet]
type			= VarSet
trigger1		= (var(25) > 90) && (MoveContact)
v			= 25
value			= 0
ignorehitpause	= 1




;---------------------------------------------------------------------------
;Combo Detection

[State -2:		VarSet]
type			= VarSet
trigger1		= 1
v			= 3
value			= 0
ignorehitpause	= 1

[State -2:		VarSet]
type			= VarSet
triggerall		= (MoveContact)
trigger1		= ((StateNo = 200) && (AnimElem = 2, < 5)) || ((StateNo = 210) && (AnimElem = 2, < 5)) || ((StateNo = 220) && (AnimElem = 2, < 5)) || ((StateNo = 230) && (AnimElem = 3, < 5))
trigger2		= ((StateNo = 400) && (AnimElem = 2, < 5)) || ((StateNo = 410) && (AnimElem = 2, < 5)) || ((StateNo = 420) && (AnimElem = 2, < 5))
v			= 3
value			= 1
ignorehitpause	= 1

[State -2:		VarSet]
type			= VarSet
trigger1		= ((HitDefAttr = S, SA) && (MoveContact)) || ((StateNo = 1000) && (AnimElem = 2, > 0) && (AnimElem = 2, < 15)) || ((StateNo = 1010) && (AnimElem = 2, > 0) && (AnimElem = 2, < 15))
trigger2		= ((StateNo = 1050) && (AnimElem = 3, > 0) && (AnimElem = 3, < 15)) || ((StateNo = 1060) && (AnimElem = 2, > 0) && (AnimElem = 7, < 5))
trigger3		= ((StateNo = 1070) && (AnimElem = 2, > 0) && (AnimElem = 2, < 15)) || ((StateNo = 1080) && (AnimElem = 2, > 0) && (AnimElem = 2, < 15))
v			= 3
value			= 2
ignorehitpause	= 1

;[State -2:		AssertSpecial]
;trigger1		= Stateno = 0
;trigger1		=  RoundNo >= 1
;y                       = 0
;x                       = 0
;---------------------------------------------------------------------------
;Corner Juggle Limit

[State -2:		AssertSpecial]
type			= AssertSpecial
trigger1		= Var(10) = 0
flag			= NoJuggleCheck

[State -2:		VarSet]
type			= VarSet
trigger1		= 1
v			= 10
value			= IfElse((EnemyNear, BackEdgeBodyDist < 20) || (EnemyNear, FrontEdgeBodyDist < 20),1,0)

;===========================================================================
;-| Artificial Intelligence |-----------------------------------------------
;---------------------------------

; Aumenta l'attacco e la difesa se P1 è in fin di vita

[State -2, Attacco]
type = AttackMulSet
triggerall = PalNo = [7, 12] ;tutto funziona solo con 
;queste palette che il giocatore non può selezionare
trigger1 = life <= 350
value = 2

[State -2, Difesa]
type = DefenceMulSet
triggerall = PalNo = [7, 12] ;tutto funziona solo con 
;queste palette che il giocatore non può selezionare
trigger1 = life <= 350
value = 2


